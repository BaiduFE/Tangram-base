var T,baidu=T=baidu||{version:"1.5.2.2"};baidu.guid="$BAIDU$";baidu.$$=window[baidu.guid]=window[baidu.guid]||{global:{}};baidu.ajax=baidu.ajax||{};baidu.fn=baidu.fn||{};baidu.fn.blank=function(){};baidu.ajax.request=function(g,k){var d=k||{},r=d.data||"",h=!(d.async===false),f=d.username||"",a=d.password||"",c=(d.method||"GET").toUpperCase(),b=d.headers||{},j=d.timeout||0,l={},o,s,i;function n(){if(i.readyState==4){try{var u=i.status}catch(t){q("failure");return}q(u);if((u>=200&&u<300)||u==304||u==1223){q("success")}else{q("failure")}window.setTimeout(function(){i.onreadystatechange=baidu.fn.blank;if(h){i=null}},0)}}function m(){if(window.ActiveXObject){try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(t){try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}}if(window.XMLHttpRequest){return new XMLHttpRequest()}}function q(v){v="on"+v;var u=l[v],w=baidu.ajax[v];if(u){if(o){clearTimeout(o)}if(v!="onsuccess"){u(i)}else{try{i.responseText}catch(t){return u(i)}u(i,i.responseText)}}else{if(w){if(v=="onsuccess"){return}w(i)}}}for(s in d){l[s]=d[s]}b["X-Requested-With"]="XMLHttpRequest";try{i=m();if(c=="GET"){if(r){g+=(g.indexOf("?")>=0?"&":"?")+r;r=null}if(d.noCache){g+=(g.indexOf("?")>=0?"&":"?")+"b"+(+new Date)+"=1"}}if(f){i.open(c,g,h,f,a)}else{i.open(c,g,h)}if(h){i.onreadystatechange=n}if(c=="POST"){i.setRequestHeader("Content-Type",(b["Content-Type"]||"application/x-www-form-urlencoded"))}for(s in b){if(b.hasOwnProperty(s)){i.setRequestHeader(s,b[s])}}q("beforerequest");if(j){o=setTimeout(function(){i.onreadystatechange=baidu.fn.blank;i.abort();q("timeout")},j)}i.send(r);if(!h){n()}}catch(p){q("failure")}return i};baidu.url=baidu.url||{};baidu.url.escapeSymbol=function(a){return String(a).replace(/[#%&+=\/\\\ \　\f\r\n\t]/g,function(b){return"%"+(256+b.charCodeAt()).toString(16).substring(1).toUpperCase()})};baidu.ajax.form=function(a,c){c=c||{};var g=a.elements,o=g.length,b=a.getAttribute("method"),f=a.getAttribute("action"),u=c.replacer||function(v,i){return v},r={},t=[],m,q,s,n,d,h,j,l,k;function p(i,v){t.push(i+"="+v)}for(m in c){if(c.hasOwnProperty(m)){r[m]=c[m]}}for(m=0;m<o;m++){q=g[m];n=q.name;if(!q.disabled&&n){s=q.type;d=baidu.url.escapeSymbol(q.value);switch(s){case"radio":case"checkbox":if(!q.checked){break}case"textarea":case"text":case"password":case"hidden":case"select-one":p(n,u(d,n));break;case"select-multiple":h=q.options;l=h.length;for(j=0;j<l;j++){k=h[j];if(k.selected){p(n,u(k.value,n))}}break}}}r.data=t.join("&");r.method=a.getAttribute("method")||"GET";return baidu.ajax.request(f,r)};baidu.ajax.get=function(b,a){return baidu.ajax.request(b,{onsuccess:a})};baidu.ajax.post=function(b,c,a){return baidu.ajax.request(b,{onsuccess:a,method:"POST",data:c})};baidu.array=baidu.array||{};baidu.array.indexOf=function(f,b,d){var a=f.length,c=b;d=d|0;if(d<0){d=Math.max(0,a+d)}for(;d<a;d++){if(d in f&&f[d]===b){return d}}return -1};baidu.array.contains=function(a,b){return(baidu.array.indexOf(a,b)>=0)};baidu.each=baidu.array.forEach=baidu.array.each=function(h,f,b){var d,g,c,a=h.length;if("function"==typeof f){for(c=0;c<a;c++){g=h[c];d=f.call(b||h,g,c);if(d===false){break}}}return h};baidu.array.empty=function(a){a.length=0};baidu.array.every=function(f,d,b){var c=0,a=f.length;for(;c<a;c++){if(c in f&&!d.call(b||f,f[c],c)){return false}}return true};baidu.array.filter=function(j,g,d){var c=[],b=0,a=j.length,h,f;if("function"==typeof g){for(f=0;f<a;f++){h=j[f];if(true===g.call(d||j,h,f)){c[b++]=h}}}return c};baidu.array.find=function(f,c){var d,b,a=f.length;if("function"==typeof c){for(b=0;b<a;b++){d=f[b];if(true===c.call(f,d,b)){return d}}}return null};baidu.array.hash=function(f,b){var g={},d=b&&b.length,c=0,a=f.length;for(;c<a;c++){g[f[c]]=(d&&d>c)?b[c]:true}return g};baidu.array.lastIndexOf=function(d,b,c){var a=d.length;c=c|0;if(!c||c>=a){c=a-1}if(c<0){c+=a}for(;c>=0;c--){if(c in d&&d[c]===b){return c}}return -1};baidu.array.map=function(g,f,b){var d=[],c=0,a=g.length;for(;c<a;c++){d[c]=f.call(b||g,g[c],c)}return d};baidu.array.reduce=function(g,c,d){var b=0,a=g.length,f=0;if(arguments.length<3){for(;b<a;b++){d=g[b++];f=1;break}if(!f){return}}for(;b<a;b++){if(b in g){d=c(d,g[b],b,g)}}return d};baidu.array.remove=function(c,b){var a=c.length;while(a--){if(a in c&&c[a]===b){c.splice(a,1)}}return c};baidu.array.removeAt=function(b,a){return b.splice(a,1)[0]};baidu.array.some=function(f,d,b){var c=0,a=f.length;for(;c<a;c++){if(c in f&&d.call(b||f,f[c],c)){return true}}return false};baidu.array.unique=function(f,g){var b=f.length,a=f.slice(0),d,c;if("function"!=typeof g){g=function(i,h){return i===h}}while(--b>0){c=a[b];d=b;while(d--){if(g(c,a[d])){a.splice(b,1);break}}}return a};baidu.async=baidu.async||{};baidu.object=baidu.object||{};baidu.extend=baidu.object.extend=function(c,a){for(var b in a){if(a.hasOwnProperty(b)){c[b]=a[b]}}return c};baidu.lang=baidu.lang||{};baidu.lang.isFunction=function(a){return"[object Function]"==Object.prototype.toString.call(a)};baidu.async._isDeferred=function(b){var a=baidu.lang.isFunction;return b&&a(b.success)&&a(b.then)&&a(b.fail)&&a(b.cancel)};baidu.async.Deferred=function(){var b=this;baidu.extend(b,{_fired:0,_firing:0,_cancelled:0,_resolveChain:[],_rejectChain:[],_result:[],_isError:0});function a(){if(b._cancelled||b._firing){return}if(b._nextDeferred){b._nextDeferred.then(b._resolveChain[0],b._rejectChain[0]);return}b._firing=1;var g=b._isError?b._rejectChain:b._resolveChain,c=b._result[b._isError?1:0];while(g[0]&&(!b._cancelled)){try{var d=g.shift().call(b,c);if(baidu.async._isDeferred(d)){b._nextDeferred=d;[].push.apply(d._resolveChain,b._resolveChain);[].push.apply(d._rejectChain,b._rejectChain);g=b._resolveChain=[];b._rejectChain=[]}}catch(f){throw f}finally{b._fired=1;b._firing=0}}}b.resolve=b.fireSuccess=function(c){b._result[0]=c;a();return b};b.reject=b.fireFail=function(c){b._result[1]=c;b._isError=1;a();return b};b.then=function(c,d){b._resolveChain.push(c);b._rejectChain.push(d);if(b._fired){a()}return b};b.success=function(c){return b.then(c,baidu.fn.blank)};b.fail=function(c){return b.then(baidu.fn.blank,c)};b.cancel=function(){b._cancelled=1}};baidu.async.get=function(b){var a=new baidu.async.Deferred();baidu.ajax.request(b,{onsuccess:function(d,c){a.resolve({xhr:d,responseText:c})},onfailure:function(c){a.reject({xhr:c})}});return a};baidu.async.post=function(b,c){var a=new baidu.async.Deferred();baidu.ajax.request(b,{method:"POST",data:c,onsuccess:function(f,d){a.resolve({xhr:f,responseText:d})},onfailure:function(d){a.reject({xhr:d})}});return a};baidu.async.when=function(c,b,d){if(baidu.async._isDeferred(c)){c.then(b,d);return c}var a=new baidu.async.Deferred();a.then(b,d).resolve(c);return a};baidu.browser=baidu.browser||{};baidu.browser.chrome=/chrome\/(\d+\.\d+)/i.test(navigator.userAgent)?+RegExp["\x241"]:undefined;baidu.browser.firefox=/firefox\/(\d+\.\d+)/i.test(navigator.userAgent)?+RegExp["\x241"]:undefined;baidu.browser.ie=baidu.ie=/msie (\d+\.\d+)/i.test(navigator.userAgent)?(document.documentMode||+RegExp["\x241"]):undefined;baidu.browser.isGecko=/gecko/i.test(navigator.userAgent)&&!/like gecko/i.test(navigator.userAgent);baidu.browser.isStrict=document.compatMode=="CSS1Compat";baidu.browser.isWebkit=/webkit/i.test(navigator.userAgent);try{if(/(\d+\.\d+)/.test(external.max_version)){baidu.browser.maxthon=+RegExp["\x241"]}}catch(e){}baidu.browser.opera=/opera(\/| )(\d+(\.\d+)?)(.+?(version\/(\d+(\.\d+)?)))?/i.test(navigator.userAgent)?+(RegExp["\x246"]||RegExp["\x242"]):undefined;(function(){var a=navigator.userAgent;baidu.browser.safari=/(\d+\.\d)?(?:\.\d)?\s+safari\/?(\d+\.\d+)?/i.test(a)&&!/chrome/i.test(a)?+(RegExp["\x241"]||RegExp["\x242"]):undefined})();baidu.cookie=baidu.cookie||{};baidu.cookie._isValidKey=function(a){return(new RegExp('^[^\\x00-\\x20\\x7f\\(\\)<>@,;:\\\\\\"\\[\\]\\?=\\{\\}\\/\\u0080-\\uffff]+\x24')).test(a)};baidu.cookie.getRaw=function(b){if(baidu.cookie._isValidKey(b)){var c=new RegExp("(^| )"+b+"=([^;]*)(;|\x24)"),a=c.exec(document.cookie);if(a){return a[2]||null}}return null};baidu.cookie.get=function(a){var b=baidu.cookie.getRaw(a);if("string"==typeof b){b=decodeURIComponent(b);return b}return null};baidu.cookie.setRaw=function(c,d,b){if(!baidu.cookie._isValidKey(c)){return}b=b||{};var a=b.expires;if("number"==typeof b.expires){a=new Date();a.setTime(a.getTime()+b.expires)}document.cookie=c+"="+d+(b.path?"; path="+b.path:"")+(a?"; expires="+a.toGMTString():"")+(b.domain?"; domain="+b.domain:"")+(b.secure?"; secure":"")};baidu.cookie.remove=function(b,a){a=a||{};a.expires=new Date(0);baidu.cookie.setRaw(b,"",a)};baidu.cookie.set=function(b,c,a){baidu.cookie.setRaw(b,encodeURIComponent(c),a)};baidu.date=baidu.date||{};baidu.number=baidu.number||{};baidu.number.pad=function(d,c){var f="",b=(d<0),a=String(Math.abs(d));if(a.length<c){f=(new Array(c-a.length+1)).join("0")}return(b?"-":"")+f+a};baidu.date.format=function(a,g){if("string"!=typeof g){return a.toString()}function d(m,l){g=g.replace(m,l)}var b=baidu.number.pad,h=a.getFullYear(),f=a.getMonth()+1,k=a.getDate(),i=a.getHours(),c=a.getMinutes(),j=a.getSeconds();d(/yyyy/g,b(h,4));d(/yy/g,b(parseInt(h.toString().slice(2),10),2));d(/MM/g,b(f,2));d(/M/g,f);d(/dd/g,b(k,2));d(/d/g,k);d(/HH/g,b(i,2));d(/H/g,i);d(/hh/g,b(i%12,2));d(/h/g,i%12);d(/mm/g,b(c,2));d(/m/g,c);d(/ss/g,b(j,2));d(/s/g,j);return g};baidu.date.parse=function(c){var a=new RegExp("^\\d+(\\-|\\/)\\d+(\\-|\\/)\\d+\x24");if("string"==typeof c){if(a.test(c)||isNaN(Date.parse(c))){var g=c.split(/ |T/),b=g.length>1?g[1].split(/[^\d]/):[0,0,0],f=g[0].split(/[^\d]/);return new Date(f[0]-0,f[1]-1,f[2]-0,b[0]-0,b[1]-0,b[2]-0)}else{return new Date(c)}}return new Date()};baidu.dom=baidu.dom||{};baidu.dom.g=function(a){if(!a){return null}if("string"==typeof a||a instanceof String){return document.getElementById(a)}else{if(a.nodeName&&(a.nodeType==1||a.nodeType==9)){return a}}return null};baidu.g=baidu.G=baidu.dom.g;baidu.string=baidu.string||{};(function(){var a=new RegExp("(^[\\s\\t\\xa0\\u3000]+)|([\\u3000\\xa0\\s\\t]+\x24)","g");baidu.string.trim=function(b){return String(b).replace(a,"")}})();baidu.trim=baidu.string.trim;baidu.dom.addClass=function(g,h){g=baidu.dom.g(g);var b=h.split(/\s+/),a=g.className,f=" "+a+" ",d=0,c=b.length;for(;d<c;d++){if(f.indexOf(" "+b[d]+" ")<0){a+=(a?" ":"")+b[d]}}g.className=a;return g};baidu.addClass=baidu.dom.addClass;baidu.dom.children=function(b){b=baidu.dom.g(b);for(var a=[],c=b.firstChild;c;c=c.nextSibling){if(c.nodeType==1){a.push(c)}}return a};baidu.lang.isString=function(a){return"[object String]"==Object.prototype.toString.call(a)};baidu.isString=baidu.lang.isString;baidu.dom._g=function(a){if(baidu.lang.isString(a)){return document.getElementById(a)}return a};baidu._g=baidu.dom._g;baidu.dom.contains=function(a,b){var c=baidu.dom._g;a=c(a);b=c(b);return a.contains?a!=b&&a.contains(b):!!(a.compareDocumentPosition(b)&16)};baidu.dom._NAME_ATTRS=(function(){var a={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",usemap:"useMap",frameborder:"frameBorder"};if(baidu.browser.ie<8){a["for"]="htmlFor";a["class"]="className"}else{a.htmlFor="for";a.className="class"}return a})();baidu.dom.setAttr=function(b,a,c){b=baidu.dom.g(b);if("style"==a){b.style.cssText=c}else{a=baidu.dom._NAME_ATTRS[a]||a;b.setAttribute(a,c)}return b};baidu.setAttr=baidu.dom.setAttr;baidu.dom.setAttrs=function(c,a){c=baidu.dom.g(c);for(var b in a){baidu.dom.setAttr(c,b,a[b])}return c};baidu.setAttrs=baidu.dom.setAttrs;baidu.dom.create=function(c,a){var d=document.createElement(c),b=a||{};return baidu.dom.setAttrs(d,b)};baidu.lang.guid=function(){return"TANGRAM$"+baidu.$$._counter++};baidu.$$._counter=baidu.$$._counter||1;baidu.lang.Class=function(){this.guid=baidu.lang.guid();!this.__decontrolled&&(baidu.$$._instances[this.guid]=this)};baidu.$$._instances=baidu.$$._instances||{};baidu.lang.Class.prototype.dispose=function(){delete baidu.$$._instances[this.guid];for(var a in this){typeof this[a]!="function"&&delete this[a]}this.disposed=true};baidu.lang.Class.prototype.toString=function(){return"[object "+(this.__type||this._className||"Object")+"]"};window.baiduInstance=function(a){return baidu.$$._instances[a]};baidu.lang.Class.prototype.un=baidu.lang.Class.prototype.removeEventListener=function(d,c){var b,a=this.__listeners;if(!a){return}if(typeof d=="undefined"){for(b in a){delete a[b]}return}d.indexOf("on")&&(d="on"+d);if(typeof c=="undefined"){delete a[d]}else{if(a[d]){typeof c=="string"&&(c=a[d][c])&&delete a[d][c];for(b=a[d].length-1;b>=0;b--){if(a[d][b]===c){a[d].splice(b,1)}}}}};baidu.lang.Event=function(a,b){this.type=a;this.returnValue=true;this.target=b||null;this.currentTarget=null};baidu.lang.Class.prototype.fire=baidu.lang.Class.prototype.dispatchEvent=function(f,a){baidu.lang.isString(f)&&(f=new baidu.lang.Event(f));!this.__listeners&&(this.__listeners={});a=a||{};for(var c in a){f[c]=a[c]}var c,h,d=this,b=d.__listeners,g=f.type;f.target=f.target||(f.currentTarget=d);g.indexOf("on")&&(g="on"+g);typeof d[g]=="function"&&d[g].apply(d,arguments);if(typeof b[g]=="object"){for(c=0,h=b[g].length;c<h;c++){b[g][c]&&b[g][c].apply(d,arguments)}}return f.returnValue};baidu.lang.Class.prototype.on=baidu.lang.Class.prototype.addEventListener=function(f,d,c){if(typeof d!="function"){return}!this.__listeners&&(this.__listeners={});var b,a=this.__listeners;f.indexOf("on")&&(f="on"+f);typeof a[f]!="object"&&(a[f]=[]);for(b=a[f].length-1;b>=0;b--){if(a[f][b]===d){return d}}a[f].push(d);c&&typeof c=="string"&&(a[f][c]=d);return d};baidu.lang.createSingle=function(b){var d=new baidu.lang.Class();for(var a in b){d[a]=b[a]}return d};baidu.dom.ddManager=baidu.lang.createSingle({_targetsDroppingOver:{}});baidu.dom.getDocument=function(a){a=baidu.dom.g(a);return a.nodeType==9?a:a.ownerDocument||a.document};baidu.dom.getComputedStyle=function(b,a){b=baidu.dom._g(b);var d=baidu.dom.getDocument(b),c;if(d.defaultView&&d.defaultView.getComputedStyle){c=d.defaultView.getComputedStyle(b,null);if(c){return c[a]||c.getPropertyValue(a)}}return""};baidu.dom._styleFixer=baidu.dom._styleFixer||{};baidu.dom._styleFilter=baidu.dom._styleFilter||[];baidu.dom._styleFilter.filter=function(b,f,g){for(var a=0,d=baidu.dom._styleFilter,c;c=d[a];a++){if(c=c[g]){f=c(b,f)}}return f};baidu.string.toCamelCase=function(a){if(a.indexOf("-")<0&&a.indexOf("_")<0){return a}return a.replace(/[-_][^-_]/g,function(b){return b.charAt(1).toUpperCase()})};baidu.dom.getStyle=function(c,b){var f=baidu.dom;c=f.g(c);b=baidu.string.toCamelCase(b);var d=c.style[b]||(c.currentStyle?c.currentStyle[b]:"")||f.getComputedStyle(c,b);if(!d||d=="auto"){var a=f._styleFixer[b];if(a){d=a.get?a.get(c,b,d):baidu.dom.getStyle(c,a)}}if(a=f._styleFilter){d=a.filter(b,d,"get")}return d};baidu.getStyle=baidu.dom.getStyle;baidu.event=baidu.event||{};baidu.event._listeners=baidu.event._listeners||[];baidu.event.on=function(b,f,h){f=f.replace(/^on/i,"");b=baidu.dom._g(b);var g=function(j){h.call(b,j)},a=baidu.event._listeners,d=baidu.event._eventFilter,i,c=f;f=f.toLowerCase();if(d&&d[f]){i=d[f](b,f,g);c=i.type;g=i.listener}if(b.addEventListener){b.addEventListener(c,g,false)}else{if(b.attachEvent){b.attachEvent("on"+c,g)}}a[a.length]=[b,f,h,g,c];return b};baidu.on=baidu.event.on;baidu.page=baidu.page||{};baidu.page.getScrollTop=function(){var a=document;return window.pageYOffset||a.documentElement.scrollTop||a.body.scrollTop};baidu.page.getScrollLeft=function(){var a=document;return window.pageXOffset||a.documentElement.scrollLeft||a.body.scrollLeft};(function(){baidu.page.getMousePosition=function(){return{x:baidu.page.getScrollLeft()+a.x,y:baidu.page.getScrollTop()+a.y}};var a={x:0,y:0};baidu.event.on(document,"onmousemove",function(b){b=window.event||b;a.x=b.clientX;a.y=b.clientY})})();baidu.event.un=function(c,g,b){c=baidu.dom._g(c);g=g.replace(/^on/i,"").toLowerCase();var j=baidu.event._listeners,d=j.length,f=!b,i,h,a;while(d--){i=j[d];if(i[1]===g&&i[0]===c&&(f||i[2]===b)){h=i[4];a=i[3];if(c.removeEventListener){c.removeEventListener(h,a,false)}else{if(c.detachEvent){c.detachEvent("on"+h,a)}}j.splice(d,1)}}return c};baidu.un=baidu.event.un;baidu.event.preventDefault=function(a){if(a.preventDefault){a.preventDefault()}else{a.returnValue=false}};baidu.lang.isObject=function(a){return"function"==typeof a||!!(a&&"object"==typeof a)};baidu.isObject=baidu.lang.isObject;(function(){var j,i,f,d,c,g,m,a,l,n;baidu.dom.drag=function(p,o){if(!(j=baidu.dom.g(p))){return false}i=baidu.object.extend({autoStop:true,capture:true,interval:16},o);a=g=parseInt(baidu.dom.getStyle(j,"left"))||0;l=m=parseInt(baidu.dom.getStyle(j,"top"))||0;setTimeout(function(){var q=baidu.page.getMousePosition();f=i.mouseEvent?(baidu.page.getScrollLeft()+i.mouseEvent.clientX):q.x;d=i.mouseEvent?(baidu.page.getScrollTop()+i.mouseEvent.clientY):q.y;clearInterval(c);c=setInterval(b,i.interval)},1);i.autoStop&&baidu.event.on(document,"mouseup",k);baidu.event.on(document,"selectstart",h);if(i.capture&&j.setCapture){j.setCapture()}else{if(i.capture&&window.captureEvents){window.captureEvents(Event.MOUSEMOVE|Event.MOUSEUP)}}n=document.body.style.MozUserSelect;document.body.style.MozUserSelect="none";baidu.lang.isFunction(i.ondragstart)&&i.ondragstart(j,i);return{stop:k,dispose:k,update:function(q){baidu.object.extend(i,q)}}};function k(){clearInterval(c);if(i.capture&&j.releaseCapture){j.releaseCapture()}else{if(i.capture&&window.captureEvents){window.captureEvents(Event.MOUSEMOVE|Event.MOUSEUP)}}document.body.style.MozUserSelect=n;baidu.event.un(document,"selectstart",h);i.autoStop&&baidu.event.un(document,"mouseup",k);baidu.lang.isFunction(i.ondragend)&&i.ondragend(j,i,{left:a,top:l})}function b(s){var p=i.range||[],o=baidu.page.getMousePosition(),q=g+o.x-f,r=m+o.y-d;if(baidu.lang.isObject(p)&&p.length==4){q=Math.max(p[3],q);q=Math.min(p[1]-j.offsetWidth,q);r=Math.max(p[0],r);r=Math.min(p[2]-j.offsetHeight,r)}j.style.left=q+"px";j.style.top=r+"px";a=q;l=r;baidu.lang.isFunction(i.ondrag)&&i.ondrag(j,i,{left:a,top:l})}function h(o){return baidu.event.preventDefault(o,false)}})();baidu.dom.setStyle=function(c,b,d){var f=baidu.dom,a;c=f.g(c);b=baidu.string.toCamelCase(b);if(a=f._styleFilter){d=a.filter(b,d,"set")}a=f._styleFixer[b];(a&&a.set)?a.set(c,d,b):(c.style[a||b]=d);return c};baidu.setStyle=baidu.dom.setStyle;baidu.dom.draggable=function(b,l){l=baidu.object.extend({toggle:function(){return true}},l);l.autoStop=true;b=baidu.dom.g(b);l.handler=l.handler||b;var a,j=["ondragstart","ondrag","ondragend"],c=j.length-1,d,k,g={dispose:function(){k&&k.stop();baidu.event.un(l.handler,"onmousedown",h);baidu.lang.Class.prototype.dispose.call(g)}},f=this;if(a=baidu.dom.ddManager){for(;c>=0;c--){d=j[c];l[d]=(function(i){var m=l[i];return function(){baidu.lang.isFunction(m)&&m.apply(f,arguments);a.dispatchEvent(i,{DOM:b})}})(d)}}if(b){function h(m){var i=l.mouseEvent=window.event||m;l.mouseEvent={clientX:i.clientX,clientY:i.clientY};if(i.button>1||(baidu.lang.isFunction(l.toggle)&&!l.toggle())){return}if(baidu.lang.isFunction(l.onbeforedragstart)){l.onbeforedragstart(b)}k=baidu.dom.drag(b,l);g.stop=k.stop;g.update=k.update;baidu.event.preventDefault(i)}baidu.event.on(l.handler,"onmousedown",h)}return{cancel:function(){g.dispose()}}};baidu.dom.getPosition=function(a){a=baidu.dom.g(a);var k=baidu.dom.getDocument(a),d=baidu.browser,h=baidu.dom.getStyle,c=d.isGecko>0&&k.getBoxObjectFor&&h(a,"position")=="absolute"&&(a.style.top===""||a.style.left===""),i={left:0,top:0},g=(d.ie&&!d.isStrict)?k.body:k.documentElement,l,b;if(a==g){return i}if(a.getBoundingClientRect){b=a.getBoundingClientRect();i.left=Math.floor(b.left)+Math.max(k.documentElement.scrollLeft,k.body.scrollLeft);i.top=Math.floor(b.top)+Math.max(k.documentElement.scrollTop,k.body.scrollTop);i.left-=k.documentElement.clientLeft;i.top-=k.documentElement.clientTop;var j=k.body,m=parseInt(h(j,"borderLeftWidth")),f=parseInt(h(j,"borderTopWidth"));if(d.ie&&!d.isStrict){i.left-=isNaN(m)?2:m;i.top-=isNaN(f)?2:f}}else{l=a;do{i.left+=l.offsetLeft;i.top+=l.offsetTop;if(d.isWebkit>0&&h(l,"position")=="fixed"){i.left+=k.body.scrollLeft;i.top+=k.body.scrollTop;break}l=l.offsetParent}while(l&&l!=a);if(d.opera>0||(d.isWebkit>0&&h(a,"position")=="absolute")){i.top-=k.body.offsetTop}l=a.offsetParent;while(l&&l!=k.body){i.left-=l.scrollLeft;if(!d.opera||l.tagName!="TR"){i.top-=l.scrollTop}l=l.offsetParent}}return i};baidu.dom.intersect=function(j,i){var h=baidu.dom.g,f=baidu.dom.getPosition,a=Math.max,c=Math.min;j=h(j);i=h(i);var d=f(j),b=f(i);return a(d.left,b.left)<=c(d.left+j.offsetWidth,b.left+i.offsetWidth)&&a(d.top,b.top)<=c(d.top+j.offsetHeight,b.top+i.offsetHeight)};baidu.dom.droppable=function(f,c){c=c||{};var d=baidu.dom.ddManager,h=baidu.dom.g(f),b=baidu.lang.guid(),g=function(k){var j=d._targetsDroppingOver,i={trigger:k.DOM,reciever:h};if(baidu.dom.intersect(h,k.DOM)){if(!j[b]){(typeof c.ondropover=="function")&&c.ondropover.call(h,i);d.dispatchEvent("ondropover",i);j[b]=true}}else{if(j[b]){(typeof c.ondropout=="function")&&c.ondropout.call(h,i);d.dispatchEvent("ondropout",i)}delete j[b]}},a=function(j){var i={trigger:j.DOM,reciever:h};if(baidu.dom.intersect(h,j.DOM)){typeof c.ondrop=="function"&&c.ondrop.call(h,i);d.dispatchEvent("ondrop",i)}delete d._targetsDroppingOver[b]};d.addEventListener("ondrag",g);d.addEventListener("ondragend",a);return{cancel:function(){d.removeEventListener("ondrag",g);d.removeEventListener("ondragend",a)}}};baidu.dom.empty=function(a){a=baidu.dom.g(a);while(a.firstChild){a.removeChild(a.firstChild)}return a};baidu.dom._matchNode=function(a,c,d){a=baidu.dom.g(a);for(var b=a[d];b;b=b[c]){if(b.nodeType==1){return b}}return null};baidu.dom.first=function(a){return baidu.dom._matchNode(a,"nextSibling","firstChild")};baidu.dom.getAttr=function(b,a){b=baidu.dom.g(b);if("style"==a){return b.style.cssText}a=baidu.dom._NAME_ATTRS[a]||a;return b.getAttribute(a)};baidu.getAttr=baidu.dom.getAttr;baidu.dom.setStyles=function(b,c){b=baidu.dom.g(b);for(var a in c){baidu.dom.setStyle(b,a,c[a])}return b};baidu.setStyles=baidu.dom.setStyles;baidu.page.getViewHeight=function(){var b=document,a=b.compatMode=="BackCompat"?b.body:b.documentElement;return a.clientHeight};baidu.page.getViewWidth=function(){var b=document,a=b.compatMode=="BackCompat"?b.body:b.documentElement;return a.clientWidth};baidu.dom._styleFilter[baidu.dom._styleFilter.length]={set:function(a,b){if(b.constructor==Number&&!/zIndex|fontWeight|opacity|zoom|lineHeight/i.test(a)){b=b+"px"}return b}};baidu.dom.fixable=function(a,b){var u=baidu.g(a),p=baidu.browser.ie&&baidu.browser.ie<=7?true:false,k=b.vertival||"top",s=b.horizontal||"left",r=typeof b.autofix!="undefined"?b.autofix:true,j,d,i=false,m=b.onrender||new Function(),c=b.onupdate||new Function(),l=b.onrelease||new Function();if(!u){return}j=h();d={y:p?(j.position=="static"?baidu.dom.getPosition(u).top:baidu.dom.getPosition(u).top-baidu.dom.getPosition(u.parentNode).top):u.offsetTop,x:p?(j.position=="static"?baidu.dom.getPosition(u).left:baidu.dom.getPosition(u).left-baidu.dom.getPosition(u.parentNode).left):u.offsetLeft};baidu.extend(d,b.offset||{});r&&t();function q(){return{top:k=="top"?d.y:baidu.page.getViewHeight()-d.y-j.height,left:s=="left"?d.x:baidu.page.getViewWidth()-d.x-j.width}}function n(){var v=q();u.style.setExpression("left","eval((document.body.scrollLeft || document.documentElement.scrollLeft) + "+v.left+") + 'px'");u.style.setExpression("top","eval((document.body.scrollTop || document.documentElement.scrollTop) + "+v.top+") + 'px'")}function h(){var v={position:baidu.getStyle(u,"position"),height:function(){var w=baidu.getStyle(u,"height");return(w!="auto")?(/\d+/.exec(w)[0]):u.offsetHeight}(),width:function(){var x=baidu.getStyle(u,"width");return(x!="auto")?(/\d+/.exec(x)[0]):u.offsetWidth}()};f("top",v);f("left",v);f("bottom",v);f("right",v);return v}function f(w,x){var v;if(x.position=="static"){x[w]=""}else{v=baidu.getStyle(u,w);if(v=="auto"||v=="0px"){x[w]=""}else{x[w]=v}}}function t(){if(i){return}baidu.setStyles(u,{top:"",left:"",bottom:"",right:""});if(!p){var v={position:"fixed"};v[k=="top"?"top":"bottom"]=d.y+"px";v[s=="left"?"left":"right"]=d.x+"px";baidu.setStyles(u,v)}else{baidu.setStyle(u,"position","absolute");n()}m();i=true}function o(){if(!i){return}var v={position:j.position,left:j.left==""?"auto":j.left,top:j.top==""?"auto":j.top,bottom:j.bottom==""?"auto":j.bottom,right:j.right==""?"auto":j.right};if(p){u.style.removeExpression("left");u.style.removeExpression("top")}baidu.setStyles(u,v);l();i=false}function g(v){if(!v){return}m=v.onrender||m;c=v.onupdate||c;l=v.onrelease||l;k=v.vertival||"top";s=v.horizontal||"left";baidu.extend(d,v.offset||{});c()}return{render:t,update:g,release:o}};baidu.dom.getAncestorBy=function(a,b){a=baidu.dom.g(a);while((a=a.parentNode)&&a.nodeType==1){if(b(a)){return a}}return null};baidu.dom.getAncestorByClass=function(a,b){a=baidu.dom.g(a);b=new RegExp("(^|\\s)"+baidu.string.trim(b)+"(\\s|\x24)");while((a=a.parentNode)&&a.nodeType==1){if(b.test(a.className)){return a}}return null};baidu.dom.getAncestorByTag=function(b,a){b=baidu.dom.g(b);a=a.toUpperCase();while((b=b.parentNode)&&b.nodeType==1){if(b.tagName==a){return b}}return null};baidu.dom.getCurrentStyle=function(b,a){b=baidu.dom.g(b);return b.style[a]||(b.currentStyle?b.currentStyle[a]:"")||baidu.dom.getComputedStyle(b,a)};baidu.dom.getParent=function(a){a=baidu.dom._g(a);return a.parentElement||a.parentNode||null};baidu.dom.getText=function(d){var b="",f,c=0,a;d=baidu._g(d);if(d.nodeType===3||d.nodeType===4){b+=d.nodeValue}else{if(d.nodeType!==8){f=d.childNodes;for(a=f.length;c<a;c++){b+=baidu.dom.getText(f[c])}}}return b};baidu.dom.getWindow=function(a){a=baidu.dom.g(a);var b=baidu.dom.getDocument(a);return b.parentWindow||b.defaultView||null};baidu.dom.hasAttr=function(c,b){c=baidu.g(c);var a=c.attributes.getNamedItem(b);return !!(a&&a.specified)};baidu.dom.hasClass=function(c,d){c=baidu.dom.g(c);if(!c||!c.className){return false}var b=baidu.string.trim(d).split(/\s+/),a=b.length;d=c.className.split(/\s+/).join(" ");while(a--){if(!(new RegExp("(^| )"+b[a]+"( |\x24)")).test(d)){return false}}return true};baidu.dom.hide=function(a){a=baidu.dom.g(a);a.style.display="none";return a};baidu.hide=baidu.dom.hide;baidu.dom.insertAfter=function(d,c){var b,a;b=baidu.dom._g;d=b(d);c=b(c);a=c.parentNode;if(a){a.insertBefore(d,c.nextSibling)}return d};baidu.dom.insertBefore=function(d,c){var b,a;b=baidu.dom._g;d=b(d);c=b(c);a=c.parentNode;if(a){a.insertBefore(d,c)}return d};baidu.dom.insertHTML=function(d,a,c){d=baidu.dom.g(d);var b,f;if(d.insertAdjacentHTML&&!baidu.browser.opera){d.insertAdjacentHTML(a,c)}else{b=d.ownerDocument.createRange();a=a.toUpperCase();if(a=="AFTERBEGIN"||a=="BEFOREEND"){b.selectNodeContents(d);b.collapse(a=="AFTERBEGIN")}else{f=a=="BEFOREBEGIN";b[f?"setStartBefore":"setEndAfter"](d);b.collapse(f)}b.insertNode(b.createContextualFragment(c))}return d};baidu.insertHTML=baidu.dom.insertHTML;baidu.dom.last=function(a){return baidu.dom._matchNode(a,"previousSibling","lastChild")};baidu.dom.next=function(a){return baidu.dom._matchNode(a,"nextSibling","nextSibling")};baidu.dom.opacity=function(b,a){b=baidu.dom.g(b);if(!baidu.browser.ie){b.style.opacity=a;b.style.KHTMLOpacity=a}else{b.style.filter="progid:DXImageTransform.Microsoft.Alpha(opacity:"+Math.floor(a*100)+")"}};baidu.dom.prev=function(a){return baidu.dom._matchNode(a,"previousSibling","previousSibling")};baidu.string.escapeReg=function(a){return String(a).replace(new RegExp("([.*+?^=!:\x24{}()|[\\]/\\\\])","g"),"\\\x241")};baidu.dom.q=function(j,f,b){var k=[],d=baidu.string.trim,h,g,a,c;if(!(j=d(j))){return k}if("undefined"==typeof f){f=document}else{f=baidu.dom.g(f);if(!f){return k}}b&&(b=d(b).toUpperCase());if(f.getElementsByClassName){a=f.getElementsByClassName(j);h=a.length;for(g=0;g<h;g++){c=a[g];if(b&&c.tagName!=b){continue}k[k.length]=c}}else{j=new RegExp("(^|\\s)"+baidu.string.escapeReg(j)+"(\\s|\x24)");a=b?f.getElementsByTagName(b):(f.all||f.getElementsByTagName("*"));h=a.length;for(g=0;g<h;g++){c=a[g];j.test(c.className)&&(k[k.length]=c)}}return k};baidu.q=baidu.Q=baidu.dom.q;
/*
 * Sizzle CSS Selector Engine
 *  Copyright 2011, The Dojo Foundation
 *  Released under the MIT, BSD, and GPL Licenses.
 *  More information: http://sizzlejs.com/
 */
(function(){var n=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,i="sizcache"+(Math.random()+"").replace(".",""),o=0,r=Object.prototype.toString,h=false,g=true,q=/\\/g,u=/\r\n/g,w=/\W/;[0,0].sort(function(){g=false;return 0});var d=function(C,x,F,G){F=F||[];x=x||document;var I=x;if(x.nodeType!==1&&x.nodeType!==9){return[]}if(!C||typeof C!=="string"){return F}var z,K,N,y,J,M,L,E,B=true,A=d.isXML(x),D=[],H=C;do{n.exec("");z=n.exec(H);if(z){H=z[3];D.push(z[1]);if(z[2]){y=z[3];break}}}while(z);if(D.length>1&&j.exec(C)){if(D.length===2&&k.relative[D[0]]){K=s(D[0]+D[1],x,G)}else{K=k.relative[D[0]]?[x]:d(D.shift(),x);while(D.length){C=D.shift();if(k.relative[C]){C+=D.shift()}K=s(C,K,G)}}}else{if(!G&&D.length>1&&x.nodeType===9&&!A&&k.match.ID.test(D[0])&&!k.match.ID.test(D[D.length-1])){J=d.find(D.shift(),x,A);x=J.expr?d.filter(J.expr,J.set)[0]:J.set[0]}if(x){J=G?{expr:D.pop(),set:l(G)}:d.find(D.pop(),D.length===1&&(D[0]==="~"||D[0]==="+")&&x.parentNode?x.parentNode:x,A);K=J.expr?d.filter(J.expr,J.set):J.set;if(D.length>0){N=l(K)}else{B=false}while(D.length){M=D.pop();L=M;if(!k.relative[M]){M=""}else{L=D.pop()}if(L==null){L=x}k.relative[M](N,L,A)}}else{N=D=[]}}if(!N){N=K}if(!N){d.error(M||C)}if(r.call(N)==="[object Array]"){if(!B){F.push.apply(F,N)}else{if(x&&x.nodeType===1){for(E=0;N[E]!=null;E++){if(N[E]&&(N[E]===true||N[E].nodeType===1&&d.contains(x,N[E]))){F.push(K[E])}}}else{for(E=0;N[E]!=null;E++){if(N[E]&&N[E].nodeType===1){F.push(K[E])}}}}}else{l(N,F)}if(y){d(y,I,F,G);d.uniqueSort(F)}return F};d.uniqueSort=function(y){if(p){h=g;y.sort(p);if(h){for(var x=1;x<y.length;x++){if(y[x]===y[x-1]){y.splice(x--,1)}}}}return y};d.matches=function(x,y){return d(x,null,null,y)};d.matchesSelector=function(x,y){return d(y,null,null,[x]).length>0};d.find=function(E,x,F){var D,z,B,A,C,y;if(!E){return[]}for(z=0,B=k.order.length;z<B;z++){C=k.order[z];if((A=k.leftMatch[C].exec(E))){y=A[1];A.splice(1,1);if(y.substr(y.length-1)!=="\\"){A[1]=(A[1]||"").replace(q,"");D=k.find[C](A,x,F);if(D!=null){E=E.replace(k.match[C],"");break}}}}if(!D){D=typeof x.getElementsByTagName!=="undefined"?x.getElementsByTagName("*"):[]}return{set:D,expr:E}};d.filter=function(I,H,L,B){var D,x,G,N,K,y,A,C,J,z=I,M=[],F=H,E=H&&H[0]&&d.isXML(H[0]);while(I&&H.length){for(G in k.filter){if((D=k.leftMatch[G].exec(I))!=null&&D[2]){y=k.filter[G];A=D[1];x=false;D.splice(1,1);if(A.substr(A.length-1)==="\\"){continue}if(F===M){M=[]}if(k.preFilter[G]){D=k.preFilter[G](D,F,L,M,B,E);if(!D){x=N=true}else{if(D===true){continue}}}if(D){for(C=0;(K=F[C])!=null;C++){if(K){N=y(K,D,C,F);J=B^N;if(L&&N!=null){if(J){x=true}else{F[C]=false}}else{if(J){M.push(K);x=true}}}}}if(N!==undefined){if(!L){F=M}I=I.replace(k.match[G],"");if(!x){return[]}break}}}if(I===z){if(x==null){d.error(I)}else{break}}z=I}return F};d.error=function(x){throw"Syntax error, unrecognized expression: "+x};var b=d.getText=function(B){var z,A,x=B.nodeType,y="";if(x){if(x===1){if(typeof B.textContent==="string"){return B.textContent}else{if(typeof B.innerText==="string"){return B.innerText.replace(u,"")}else{for(B=B.firstChild;B;B=B.nextSibling){y+=b(B)}}}}else{if(x===3||x===4){return B.nodeValue}}}else{for(z=0;(A=B[z]);z++){if(A.nodeType!==8){y+=b(A)}}}return y};var k=d.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(x){return x.getAttribute("href")},type:function(x){return x.getAttribute("type")}},relative:{"+":function(D,y){var A=typeof y==="string",C=A&&!w.test(y),E=A&&!C;if(C){y=y.toLowerCase()}for(var z=0,x=D.length,B;z<x;z++){if((B=D[z])){while((B=B.previousSibling)&&B.nodeType!==1){}D[z]=E||B&&B.nodeName.toLowerCase()===y?B||false:B===y}}if(E){d.filter(y,D,true)}},">":function(D,y){var C,B=typeof y==="string",z=0,x=D.length;if(B&&!w.test(y)){y=y.toLowerCase();for(;z<x;z++){C=D[z];if(C){var A=C.parentNode;D[z]=A.nodeName.toLowerCase()===y?A:false}}}else{for(;z<x;z++){C=D[z];if(C){D[z]=B?C.parentNode:C.parentNode===y}}if(B){d.filter(y,D,true)}}},"":function(A,y,C){var B,z=o++,x=t;if(typeof y==="string"&&!w.test(y)){y=y.toLowerCase();B=y;x=a}x("parentNode",y,z,A,B,C)},"~":function(A,y,C){var B,z=o++,x=t;if(typeof y==="string"&&!w.test(y)){y=y.toLowerCase();B=y;x=a}x("previousSibling",y,z,A,B,C)}},find:{ID:function(y,z,A){if(typeof z.getElementById!=="undefined"&&!A){var x=z.getElementById(y[1]);return x&&x.parentNode?[x]:[]}},NAME:function(z,C){if(typeof C.getElementsByName!=="undefined"){var y=[],B=C.getElementsByName(z[1]);for(var A=0,x=B.length;A<x;A++){if(B[A].getAttribute("name")===z[1]){y.push(B[A])}}return y.length===0?null:y}},TAG:function(x,y){if(typeof y.getElementsByTagName!=="undefined"){return y.getElementsByTagName(x[1])}}},preFilter:{CLASS:function(A,y,z,x,D,E){A=" "+A[1].replace(q,"")+" ";if(E){return A}for(var B=0,C;(C=y[B])!=null;B++){if(C){if(D^(C.className&&(" "+C.className+" ").replace(/[\t\n\r]/g," ").indexOf(A)>=0)){if(!z){x.push(C)}}else{if(z){y[B]=false}}}}return false},ID:function(x){return x[1].replace(q,"")},TAG:function(y,x){return y[1].replace(q,"").toLowerCase()},CHILD:function(x){if(x[1]==="nth"){if(!x[2]){d.error(x[0])}x[2]=x[2].replace(/^\+|\s*/g,"");var y=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(x[2]==="even"&&"2n"||x[2]==="odd"&&"2n+1"||!/\D/.test(x[2])&&"0n+"+x[2]||x[2]);x[2]=(y[1]+(y[2]||1))-0;x[3]=y[3]-0}else{if(x[2]){d.error(x[0])}}x[0]=o++;return x},ATTR:function(B,y,z,x,C,D){var A=B[1]=B[1].replace(q,"");if(!D&&k.attrMap[A]){B[1]=k.attrMap[A]}B[4]=(B[4]||B[5]||"").replace(q,"");if(B[2]==="~="){B[4]=" "+B[4]+" "}return B},PSEUDO:function(B,y,z,x,C){if(B[1]==="not"){if((n.exec(B[3])||"").length>1||/^\w/.test(B[3])){B[3]=d(B[3],null,null,y)}else{var A=d.filter(B[3],y,z,true^C);if(!z){x.push.apply(x,A)}return false}}else{if(k.match.POS.test(B[0])||k.match.CHILD.test(B[0])){return true}}return B},POS:function(x){x.unshift(true);return x}},filters:{enabled:function(x){return x.disabled===false&&x.type!=="hidden"},disabled:function(x){return x.disabled===true},checked:function(x){return x.checked===true},selected:function(x){if(x.parentNode){x.parentNode.selectedIndex}return x.selected===true},parent:function(x){return !!x.firstChild},empty:function(x){return !x.firstChild},has:function(z,y,x){return !!d(x[3],z).length},header:function(x){return(/h\d/i).test(x.nodeName)},text:function(z){var x=z.getAttribute("type"),y=z.type;return z.nodeName.toLowerCase()==="input"&&"text"===y&&(x===y||x===null)},radio:function(x){return x.nodeName.toLowerCase()==="input"&&"radio"===x.type},checkbox:function(x){return x.nodeName.toLowerCase()==="input"&&"checkbox"===x.type},file:function(x){return x.nodeName.toLowerCase()==="input"&&"file"===x.type},password:function(x){return x.nodeName.toLowerCase()==="input"&&"password"===x.type},submit:function(y){var x=y.nodeName.toLowerCase();return(x==="input"||x==="button")&&"submit"===y.type},image:function(x){return x.nodeName.toLowerCase()==="input"&&"image"===x.type},reset:function(y){var x=y.nodeName.toLowerCase();return(x==="input"||x==="button")&&"reset"===y.type},button:function(y){var x=y.nodeName.toLowerCase();return x==="input"&&"button"===y.type||x==="button"},input:function(x){return(/input|select|textarea|button/i).test(x.nodeName)},focus:function(x){return x===x.ownerDocument.activeElement}},setFilters:{first:function(y,x){return x===0},last:function(z,y,x,A){return y===A.length-1},even:function(y,x){return x%2===0},odd:function(y,x){return x%2===1},lt:function(z,y,x){return y<x[3]-0},gt:function(z,y,x){return y>x[3]-0},nth:function(z,y,x){return x[3]-0===y},eq:function(z,y,x){return x[3]-0===y}},filter:{PSEUDO:function(z,E,D,F){var x=E[1],y=k.filters[x];if(y){return y(z,D,E,F)}else{if(x==="contains"){return(z.textContent||z.innerText||b([z])||"").indexOf(E[3])>=0}else{if(x==="not"){var A=E[3];for(var C=0,B=A.length;C<B;C++){if(A[C]===z){return false}}return true}else{d.error(x)}}}},CHILD:function(z,B){var A,H,D,G,x,C,F,E=B[1],y=z;switch(E){case"only":case"first":while((y=y.previousSibling)){if(y.nodeType===1){return false}}if(E==="first"){return true}y=z;case"last":while((y=y.nextSibling)){if(y.nodeType===1){return false}}return true;case"nth":A=B[2];H=B[3];if(A===1&&H===0){return true}D=B[0];G=z.parentNode;if(G&&(G[i]!==D||!z.nodeIndex)){C=0;for(y=G.firstChild;y;y=y.nextSibling){if(y.nodeType===1){y.nodeIndex=++C}}G[i]=D}F=z.nodeIndex-H;if(A===0){return F===0}else{return(F%A===0&&F/A>=0)}}},ID:function(y,x){return y.nodeType===1&&y.getAttribute("id")===x},TAG:function(y,x){return(x==="*"&&y.nodeType===1)||!!y.nodeName&&y.nodeName.toLowerCase()===x},CLASS:function(y,x){return(" "+(y.className||y.getAttribute("class"))+" ").indexOf(x)>-1},ATTR:function(C,A){var z=A[1],x=d.attr?d.attr(C,z):k.attrHandle[z]?k.attrHandle[z](C):C[z]!=null?C[z]:C.getAttribute(z),D=x+"",B=A[2],y=A[4];return x==null?B==="!=":!B&&d.attr?x!=null:B==="="?D===y:B==="*="?D.indexOf(y)>=0:B==="~="?(" "+D+" ").indexOf(y)>=0:!y?D&&x!==false:B==="!="?D!==y:B==="^="?D.indexOf(y)===0:B==="$="?D.substr(D.length-y.length)===y:B==="|="?D===y||D.substr(0,y.length+1)===y+"-":false},POS:function(B,y,z,C){var x=y[2],A=k.setFilters[x];if(A){return A(B,z,y,C)}}}};var j=k.match.POS,c=function(y,x){return"\\"+(x-0+1)};for(var f in k.match){k.match[f]=new RegExp(k.match[f].source+(/(?![^\[]*\])(?![^\(]*\))/.source));k.leftMatch[f]=new RegExp(/(^(?:.|\r|\n)*?)/.source+k.match[f].source.replace(/\\(\d+)/g,c))}var l=function(y,x){y=Array.prototype.slice.call(y,0);if(x){x.push.apply(x,y);return x}return y};try{Array.prototype.slice.call(document.documentElement.childNodes,0)[0].nodeType}catch(v){l=function(B,A){var z=0,y=A||[];if(r.call(B)==="[object Array]"){Array.prototype.push.apply(y,B)}else{if(typeof B.length==="number"){for(var x=B.length;z<x;z++){y.push(B[z])}}else{for(;B[z];z++){y.push(B[z])}}}return y}}var p,m;if(document.documentElement.compareDocumentPosition){p=function(y,x){if(y===x){h=true;return 0}if(!y.compareDocumentPosition||!x.compareDocumentPosition){return y.compareDocumentPosition?-1:1}return y.compareDocumentPosition(x)&4?-1:1}}else{p=function(F,E){if(F===E){h=true;return 0}else{if(F.sourceIndex&&E.sourceIndex){return F.sourceIndex-E.sourceIndex}}var C,y,z=[],x=[],B=F.parentNode,D=E.parentNode,G=B;if(B===D){return m(F,E)}else{if(!B){return -1}else{if(!D){return 1}}}while(G){z.unshift(G);G=G.parentNode}G=D;while(G){x.unshift(G);G=G.parentNode}C=z.length;y=x.length;for(var A=0;A<C&&A<y;A++){if(z[A]!==x[A]){return m(z[A],x[A])}}return A===C?m(F,x[A],-1):m(z[A],E,1)};m=function(y,x,z){if(y===x){return z}var A=y.nextSibling;while(A){if(A===x){return -1}A=A.nextSibling}return 1}}(function(){var y=document.createElement("div"),z="script"+(new Date()).getTime(),x=document.documentElement;y.innerHTML="<a name='"+z+"'/>";x.insertBefore(y,x.firstChild);if(document.getElementById(z)){k.find.ID=function(B,C,D){if(typeof C.getElementById!=="undefined"&&!D){var A=C.getElementById(B[1]);return A?A.id===B[1]||typeof A.getAttributeNode!=="undefined"&&A.getAttributeNode("id").nodeValue===B[1]?[A]:undefined:[]}};k.filter.ID=function(C,A){var B=typeof C.getAttributeNode!=="undefined"&&C.getAttributeNode("id");return C.nodeType===1&&B&&B.nodeValue===A}}x.removeChild(y);x=y=null})();(function(){var x=document.createElement("div");x.appendChild(document.createComment(""));if(x.getElementsByTagName("*").length>0){k.find.TAG=function(y,C){var B=C.getElementsByTagName(y[1]);if(y[1]==="*"){var A=[];for(var z=0;B[z];z++){if(B[z].nodeType===1){A.push(B[z])}}B=A}return B}}x.innerHTML="<a href='#'></a>";if(x.firstChild&&typeof x.firstChild.getAttribute!=="undefined"&&x.firstChild.getAttribute("href")!=="#"){k.attrHandle.href=function(y){return y.getAttribute("href",2)}}x=null})();if(document.querySelectorAll){(function(){var x=d,A=document.createElement("div"),z="__sizzle__";A.innerHTML="<p class='TEST'></p>";if(A.querySelectorAll&&A.querySelectorAll(".TEST").length===0){return}d=function(L,C,G,K){C=C||document;if(!K&&!d.isXML(C)){var J=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(L);if(J&&(C.nodeType===1||C.nodeType===9)){if(J[1]){return l(C.getElementsByTagName(L),G)}else{if(J[2]&&k.find.CLASS&&C.getElementsByClassName){return l(C.getElementsByClassName(J[2]),G)}}}if(C.nodeType===9){if(L==="body"&&C.body){return l([C.body],G)}else{if(J&&J[3]){var F=C.getElementById(J[3]);if(F&&F.parentNode){if(F.id===J[3]){return l([F],G)}}else{return l([],G)}}}try{return l(C.querySelectorAll(L),G)}catch(H){}}else{if(C.nodeType===1&&C.nodeName.toLowerCase()!=="object"){var D=C,E=C.getAttribute("id"),B=E||z,N=C.parentNode,M=/^\s*[+~]/.test(L);if(!E){C.setAttribute("id",B)}else{B=B.replace(/'/g,"\\$&")}if(M&&N){C=C.parentNode}try{if(!M||N){return l(C.querySelectorAll("[id='"+B+"'] "+L),G)}}catch(I){}finally{if(!E){D.removeAttribute("id")}}}}}return x(L,C,G,K)};for(var y in x){d[y]=x[y]}A=null})()}(function(){var x=document.documentElement,z=x.matchesSelector||x.mozMatchesSelector||x.webkitMatchesSelector||x.msMatchesSelector;if(z){var B=!z.call(document.createElement("div"),"div"),y=false;try{z.call(document.documentElement,"[test!='']:sizzle")}catch(A){y=true}d.matchesSelector=function(D,F){F=F.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!d.isXML(D)){try{if(y||!k.match.PSEUDO.test(F)&&!/!=/.test(F)){var C=z.call(D,F);if(C||!B||D.document&&D.document.nodeType!==11){return C}}}catch(E){}}return d(F,null,null,[D]).length>0}}})();(function(){var x=document.createElement("div");x.innerHTML="<div class='test e'></div><div class='test'></div>";if(!x.getElementsByClassName||x.getElementsByClassName("e").length===0){return}x.lastChild.className="e";if(x.getElementsByClassName("e").length===1){return}k.order.splice(1,0,"CLASS");k.find.CLASS=function(y,z,A){if(typeof z.getElementsByClassName!=="undefined"&&!A){return z.getElementsByClassName(y[1])}};x=null})();function a(y,D,C,G,E,F){for(var A=0,z=G.length;A<z;A++){var x=G[A];if(x){var B=false;x=x[y];while(x){if(x[i]===C){B=G[x.sizset];break}if(x.nodeType===1&&!F){x[i]=C;x.sizset=A}if(x.nodeName.toLowerCase()===D){B=x;break}x=x[y]}G[A]=B}}}function t(y,D,C,G,E,F){for(var A=0,z=G.length;A<z;A++){var x=G[A];if(x){var B=false;x=x[y];while(x){if(x[i]===C){B=G[x.sizset];break}if(x.nodeType===1){if(!F){x[i]=C;x.sizset=A}if(typeof D!=="string"){if(x===D){B=true;break}}else{if(d.filter(D,[x]).length>0){B=x;break}}}x=x[y]}G[A]=B}}}if(document.documentElement.contains){d.contains=function(y,x){return y!==x&&(y.contains?y.contains(x):true)}}else{if(document.documentElement.compareDocumentPosition){d.contains=function(y,x){return !!(y.compareDocumentPosition(x)&16)}}else{d.contains=function(){return false}}}d.isXML=function(x){var y=(x?x.ownerDocument||x:0).documentElement;return y?y.nodeName!=="HTML":false};var s=function(z,x,D){var C,E=[],B="",F=x.nodeType?[x]:x;while((C=k.match.PSEUDO.exec(z))){B+=C[0];z=z.replace(k.match.PSEUDO,"")}z=k.relative[z]?z+"*":z;for(var A=0,y=F.length;A<y;A++){d(z,F[A],E,D)}return d.filter(B,E)};baidu.dom.query=d})();(function(){var a=baidu.dom.ready=function(){var h=false,g=[],c;if(document.addEventListener){c=function(){document.removeEventListener("DOMContentLoaded",c,false);d()}}else{if(document.attachEvent){c=function(){if(document.readyState==="complete"){document.detachEvent("onreadystatechange",c);d()}}}}function d(){if(!d.isReady){d.isReady=true;for(var l=0,k=g.length;l<k;l++){g[l]()}}}function b(){try{document.documentElement.doScroll("left")}catch(i){setTimeout(b,1);return}d()}function f(){if(h){return}h=true;if(document.readyState==="complete"){d.isReady=true}else{if(document.addEventListener){document.addEventListener("DOMContentLoaded",c,false);window.addEventListener("load",d,false)}else{if(document.attachEvent){document.attachEvent("onreadystatechange",c);window.attachEvent("onload",d);var i=false;try{i=window.frameElement==null}catch(j){}if(document.documentElement.doScroll&&i){b()}}}}}f();return function(i){d.isReady?i():g.push(i)}}();a.isReady=false})();baidu.dom.remove=function(a){a=baidu.dom._g(a);var b=a.parentNode;b&&b.removeChild(a)};baidu.dom.removeClass=function(g,h){g=baidu.dom.g(g);var d=g.className.split(/\s+/),k=h.split(/\s+/),b,a=k.length,c,f=0;for(;f<a;++f){for(c=0,b=d.length;c<b;++c){if(d[c]==k[f]){d.splice(c,1);break}}}g.className=d.join(" ");return g};baidu.removeClass=baidu.dom.removeClass;baidu.dom.removeStyle=function(){var b=document.createElement("DIV"),a,c=baidu.dom._g;if(b.style.removeProperty){a=function(f,d){f=c(f);f.style.removeProperty(d);return f}}else{if(b.style.removeAttribute){a=function(f,d){f=c(f);f.style.removeAttribute(baidu.string.toCamelCase(d));return f}}}b=null;return a}();baidu.object.each=function(f,c){var b,a,d;if("function"==typeof c){for(a in f){if(f.hasOwnProperty(a)){d=f[a];b=c.call(f,d,a);if(b===false){break}}}}return f};baidu.lang.isNumber=function(a){return"[object Number]"==Object.prototype.toString.call(a)&&isFinite(a)};baidu.event.getTarget=function(a){return a.target||a.srcElement};baidu.dom.setBorderBoxSize=function(c,b){var a={};b.width&&(a.width=parseFloat(b.width));b.height&&(a.height=parseFloat(b.height));function d(g,f){return parseFloat(baidu.getStyle(g,f))||0}if(baidu.browser.isStrict){if(b.width){a.width=parseFloat(b.width)-d(c,"paddingLeft")-d(c,"paddingRight")-d(c,"borderLeftWidth")-d(c,"borderRightWidth");a.width<0&&(a.width=0)}if(b.height){a.height=parseFloat(b.height)-d(c,"paddingTop")-d(c,"paddingBottom")-d(c,"borderTopWidth")-d(c,"borderBottomWidth");a.height<0&&(a.height=0)}}return baidu.dom.setStyles(c,a)};baidu.dom.setOuterHeight=baidu.dom.setBorderBoxHeight=function(b,a){return baidu.dom.setBorderBoxSize(b,{height:a})};baidu.dom.setOuterWidth=baidu.dom.setBorderBoxWidth=function(a,b){return baidu.dom.setBorderBoxSize(a,{width:b})};baidu.dom.resizable=function(d,h){var A,n,j={},c,a={},s,y,v,b,f,l,p,t=false,k=false,w={direction:["e","s","se"],minWidth:16,minHeight:16,classPrefix:"tangram",directionHandlePosition:{}};if(!(A=baidu.dom.g(d))&&baidu.getStyle(A,"position")=="static"){return false}b=A.offsetParent;var o=baidu.getStyle(A,"position");n=baidu.extend(w,h);baidu.each(["minHeight","minWidth","maxHeight","maxWidth"],function(B){n[B]&&(n[B]=parseFloat(n[B]))});s=[n.minWidth||0,n.maxWidth||Number.MAX_VALUE,n.minHeight||0,n.maxHeight||Number.MAX_VALUE];z();function z(){l=baidu.extend({e:{right:"-5px",top:"0px",width:"7px",height:A.offsetHeight},s:{left:"0px",bottom:"-5px",height:"7px",width:A.offsetWidth},n:{left:"0px",top:"-5px",height:"7px",width:A.offsetWidth},w:{left:"-5px",top:"0px",height:A.offsetHeight,width:"7px"},se:{right:"1px",bottom:"1px",height:"16px",width:"16px"},sw:{left:"1px",bottom:"1px",height:"16px",width:"16px"},ne:{right:"1px",top:"1px",height:"16px",width:"16px"},nw:{left:"1px",top:"1px",height:"16px",width:"16px"}},n.directionHandlePosition);baidu.each(n.direction,function(B){var C=n.classPrefix.split(" ");C[0]=C[0]+"-resizable-"+B;var E=baidu.dom.create("div",{className:C.join(" ")}),D=l[B];D.cursor=B+"-resize";D.position="absolute";baidu.setStyles(E,D);E.key=B;E.style.MozUserSelect="none";A.appendChild(E);j[B]=E;baidu.on(E,"mousedown",i)});t=false}function g(){f&&u();baidu.object.each(j,function(B){baidu.un(B,"mousedown",i);baidu.dom.remove(B)});t=true}function m(B){if(!t){n=baidu.extend(n,B||{});g();z()}}function i(D){k&&u();var C=baidu.event.getTarget(D),B=C.key;f=C;k=true;if(C.setCapture){C.setCapture()}else{if(window.captureEvents){window.captureEvents(Event.MOUSEMOVE|Event.MOUSEUP)}}v=baidu.getStyle(document.body,"cursor");baidu.setStyle(document.body,"cursor",B+"-resize");baidu.on(document.body,"mouseup",u);baidu.on(document.body,"selectstart",q);y=document.body.style.MozUserSelect;document.body.style.MozUserSelect="none";var E=baidu.page.getMousePosition();a=r();p=setInterval(function(){x(B,E)},20);baidu.lang.isFunction(n.onresizestart)&&n.onresizestart();baidu.event.preventDefault(D)}function u(){if(f&&f.releaseCapture){f.releaseCapture()}else{if(window.releaseEvents){window.releaseEvents(Event.MOUSEMOVE|Event.MOUSEUP)}}baidu.un(document.body,"mouseup",u);baidu.un(document,"selectstart",q);document.body.style.MozUserSelect=y;baidu.un(document.body,"selectstart",q);clearInterval(p);baidu.setStyle(document.body,"cursor",v);f=null;k=false;baidu.lang.isFunction(n.onresizeend)&&n.onresizeend()}function x(C,I){var H=baidu.page.getMousePosition(),D=a.width,B=a.height,G=a.top,F=a.left,E;if(C.indexOf("e")>=0){D=Math.max(H.x-I.x+a.width,s[0]);D=Math.min(D,s[1])}else{if(C.indexOf("w")>=0){D=Math.max(I.x-H.x+a.width,s[0]);D=Math.min(D,s[1]);F-=D-a.width}}if(C.indexOf("s")>=0){B=Math.max(H.y-I.y+a.height,s[2]);B=Math.min(B,s[3])}else{if(C.indexOf("n")>=0){B=Math.max(I.y-H.y+a.height,s[2]);B=Math.min(B,s[3]);G-=B-a.height}}E={width:D,height:B,top:G,left:F};baidu.dom.setOuterHeight(A,B);baidu.dom.setOuterWidth(A,D);baidu.setStyles(A,{top:G,left:F});j.n&&baidu.setStyle(j.n,"width",D);j.s&&baidu.setStyle(j.s,"width",D);j.e&&baidu.setStyle(j.e,"height",B);j.w&&baidu.setStyle(j.w,"height",B);baidu.lang.isFunction(n.onresize)&&n.onresize({current:E,original:a})}function q(B){return baidu.event.preventDefault(B,false)}function r(){var B=baidu.dom.getPosition(A.offsetParent),C=baidu.dom.getPosition(A),E,D;if(o=="absolute"){E=C.top-(A.offsetParent==document.body?0:B.top);D=C.left-(A.offsetParent==document.body?0:B.left)}else{E=parseFloat(baidu.getStyle(A,"top"))||-parseFloat(baidu.getStyle(A,"bottom"))||0;D=parseFloat(baidu.getStyle(A,"left"))||-parseFloat(baidu.getStyle(A,"right"))||0}baidu.setStyles(A,{top:E,left:D});return{width:A.offsetWidth,height:A.offsetHeight,top:E,left:D}}return{cancel:g,update:m,enable:z}};baidu.dom.setPixel=function(b,a,c){typeof c!="undefined"&&(baidu.dom.g(b).style[a]=c+(!isNaN(c)?"px":""))};baidu.dom.setPosition=function(b,a){return baidu.dom.setStyles(b,{left:a.left-(parseFloat(baidu.dom.getStyle(b,"margin-left"))||0),top:a.top-(parseFloat(baidu.dom.getStyle(b,"margin-top"))||0)})};baidu.dom.show=function(a){a=baidu.dom.g(a);a.style.display="";return a};baidu.show=baidu.dom.show;baidu.dom.toggle=function(a){a=baidu.dom.g(a);a.style.display=a.style.display=="none"?"":"none";return a};baidu.dom.toggleClass=function(a,b){if(baidu.dom.hasClass(a,b)){baidu.dom.removeClass(a,b)}else{baidu.dom.addClass(a,b)}};baidu.dom._styleFilter[baidu.dom._styleFilter.length]={get:function(c,d){if(/color/i.test(c)&&d.indexOf("rgb(")!=-1){var f=d.split(",");d="#";for(var b=0,a;a=f[b];b++){a=parseInt(a.replace(/[^\d]/gi,""),10).toString(16);d+=a.length==1?"0"+a:a}d=d.toUpperCase()}return d}};baidu.dom._styleFixer.display=baidu.browser.ie&&baidu.browser.ie<8?{set:function(a,b){a=a.style;if(b=="inline-block"){a.display="inline";a.zoom=1}else{a.display=b}}}:baidu.browser.firefox&&baidu.browser.firefox<3?{set:function(a,b){a.style.display=b=="inline-block"?"-moz-inline-box":b}}:null;baidu.dom._styleFixer["float"]=baidu.browser.ie?"styleFloat":"cssFloat";baidu.dom._styleFixer.opacity=baidu.browser.ie?{get:function(a){var b=a.style.filter;return b&&b.indexOf("opacity=")>=0?(parseFloat(b.match(/opacity=([^)]*)/)[1])/100)+"":"1"},set:function(a,c){var b=a.style;b.filter=(b.filter||"").replace(/alpha\([^\)]*\)/gi,"")+(c==1?"":"alpha(opacity="+c*100+")");b.zoom=1}}:null;baidu.dom._styleFixer.width=baidu.dom._styleFixer.height={get:function(b,a,c){var a=a.replace(/^[a-z]/,function(f){return f.toUpperCase()}),d=b["client"+a]||b["offset"+a];return d>0?d+"px":!c||c=="auto"?0+"px":d},set:function(b,c,a){b.style[a]=c}};baidu.dom._styleFixer.textOverflow=(function(){var b={};function a(f){var g=f.length;if(g>0){g=f[g-1];f.length--}else{g=null}return g}function c(f,g){f[baidu.browser.firefox?"textContent":"innerText"]=g}function d(n,j,t){var l=baidu.browser.ie?n.currentStyle||n.style:getComputedStyle(n,null),s=l.fontWeight,r="font-family:"+l.fontFamily+";font-size:"+l.fontSize+";word-spacing:"+l.wordSpacing+";font-weight:"+((parseInt(s)||0)==401?700:s)+";font-style:"+l.fontStyle+";font-variant:"+l.fontVariant,f=b[r];if(!f){l=n.appendChild(document.createElement("div"));l.style.cssText="float:left;"+r;f=b[r]=[];for(var p=0;p<256;p++){p==32?(l.innerHTML="&nbsp;"):c(l,String.fromCharCode(p));f[p]=l.offsetWidth}c(l,"\u4e00");f[256]=l.offsetWidth;c(l,"\u4e00\u4e00");f[257]=l.offsetWidth-f[256]*2;f[258]=f[".".charCodeAt(0)]*3+f[257]*3;n.removeChild(l)}for(var m=n.firstChild,q=f[256],h=f[257],g=f[258],v=[],t=t?g:0;m;m=m.nextSibling){if(j<t){n.removeChild(m)}else{if(m.nodeType==3){for(var p=0,u=m.nodeValue,k=u.length;p<k;p++){l=u.charCodeAt(p);v[v.length]=[j,m,p];j-=(p?h:0)+(l<256?f[l]:q);if(j<t){break}}}else{l=m.tagName;if(l=="IMG"||l=="TABLE"){l=m;m=m.previousSibling;n.removeChild(l)}else{v[v.length]=[j,m];j-=m.offsetWidth}}}}if(j<t){while(l=a(v)){j=l[0];m=l[1];l=l[2];if(m.nodeType==3){if(j>=g){m.nodeValue=m.nodeValue.substring(0,l)+"...";return true}else{if(!l){n.removeChild(m)}}}else{if(d(m,j,true)){return true}else{n.removeChild(m)}}}n.innerHTML=""}}return{get:function(h){var g=baidu.browser,f=dom.getStyle;return(g.opera?f("OTextOverflow"):g.firefox?h._baiduOverflow:f("textOverflow"))||"clip"},set:function(g,i){var f=baidu.browser;if(g.tagName=="TD"||g.tagName=="TH"||f.firefox){g._baiduHTML&&(g.innerHTML=g._baiduHTML);if(i=="ellipsis"){g._baiduHTML=g.innerHTML;var j=document.createElement("div"),h=g.appendChild(j).offsetWidth;g.removeChild(j);d(g,h)}else{g._baiduHTML=""}}j=g.style;f.opera?(j.OTextOverflow=i):f.firefox?(g._baiduOverflow=i):(j.textOverflow=i)}}})();baidu.lang.isArray=function(a){return"[object Array]"==Object.prototype.toString.call(a)};baidu.lang.toArray=function(b){if(b===null||b===undefined){return[]}if(baidu.lang.isArray(b)){return b}if(typeof b.length!=="number"||typeof b==="string"||baidu.lang.isFunction(b)){return[b]}if(b.item){var a=b.length,c=new Array(a);while(a--){c[a]=b[a]}return c}return[].slice.call(b)};baidu.fn.methodize=function(b,a){return function(){return b.apply(this,[(a?this[a]:this)].concat([].slice.call(arguments)))}};baidu.fn.wrapReturnValue=function(a,c,b){b=b|0;return function(){var d=a.apply(this,arguments);if(!b){return new c(d)}if(b>0){return new c(arguments[b-1])}return d}};baidu.fn.multize=function(d,b,a){var c=function(){var m=arguments[0],j=b?c:d,g=[],l=[].slice.call(arguments,0),h=0,f,k;if(m instanceof Array){for(f=m.length;h<f;h++){l[0]=m[h];k=j.apply(this,l);if(a){if(k){g=g.concat(k)}}else{g.push(k)}}return g}else{return d.apply(this,arguments)}};return c};baidu.element=function(b){var a=baidu._g(b);if(!a&&baidu.dom.query){a=baidu.dom.query(b)}return new baidu.element.Element(a)};baidu.e=baidu.element;baidu.element.Element=function(a){if(!baidu.element._init){baidu.element._makeChain();baidu.element._init=true}this._dom=(a.tagName||"").toLowerCase()=="select"?[a]:baidu.lang.toArray(a)};baidu.element.Element.prototype.each=function(a){baidu.array.each(this._dom,function(c,b){a.call(c,c,b)})};baidu.element._toChainFunction=function(c,b,a){return baidu.fn.methodize(baidu.fn.wrapReturnValue(baidu.fn.multize(c,0,1),baidu.element.Element,b),"_dom")};baidu.element._makeChain=function(){var b=baidu.element.Element.prototype,c=baidu.element._toChainFunction;baidu.each(("draggable droppable resizable fixable").split(" "),function(d){b[d]=c(baidu.dom[d],1)});baidu.each(("remove getText contains getAttr getPosition getStyle hasClass intersect hasAttr getComputedStyle").split(" "),function(d){b[d]=b[d.replace(/^get[A-Z]/g,a)]=c(baidu.dom[d],-1)});baidu.each(("addClass empty hide show insertAfter insertBefore insertHTML removeClass setAttr setAttrs setStyle setStyles show toggleClass toggle next first getAncestorByClass getAncestorBy getAncestorByTag getDocument getParent getWindow last next prev g removeStyle setBorderBoxSize setOuterWidth setOuterHeight setBorderBoxWidth setBorderBoxHeight setPosition children query").split(" "),function(d){b[d]=b[d.replace(/^get[A-Z]/g,a)]=c(baidu.dom[d],0)});b.q=b.Q=c(function(f,d){return baidu.dom.q.apply(this,[d,f].concat([].slice.call(arguments,2)))},0);baidu.each(("on un").split(" "),function(d){b[d]=c(baidu.event[d],0)});baidu.each(("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error").split(" "),function(d){b[d]=function(f){return this.on(d,f)}});function a(d){return d.charAt(3).toLowerCase()}};baidu.element.extend=function(a){var b=baidu.element;baidu.object.each(a,function(d,c){b.Element.prototype[c]=baidu.element._toChainFunction(d,-1)})};baidu.event.EventArg=function(c,f){f=f||window;c=c||f.event;var d=f.document;this.target=(c.target)||c.srcElement;this.keyCode=c.which||c.keyCode;for(var a in c){var b=c[a];if("function"!=typeof b){this[a]=b}}if(!this.pageX&&this.pageX!==0){this.pageX=(c.clientX||0)+(d.documentElement.scrollLeft||d.body.scrollLeft);this.pageY=(c.clientY||0)+(d.documentElement.scrollTop||d.body.scrollTop)}this._event=c};baidu.event.EventArg.prototype.preventDefault=function(){if(this._event.preventDefault){this._event.preventDefault()}else{this._event.returnValue=false}return this};baidu.event.EventArg.prototype.stopPropagation=function(){if(this._event.stopPropagation){this._event.stopPropagation()}else{this._event.cancelBubble=true}return this};baidu.event.EventArg.prototype.stop=function(){return this.stopPropagation().preventDefault()};baidu.object.values=function(d){var a=[],c=0,b;for(b in d){if(d.hasOwnProperty(b)){a[c++]=d[b]}}return a};(function(){var d=baidu.browser,l={keydown:1,keyup:1,keypress:1},a={click:1,dblclick:1,mousedown:1,mousemove:1,mouseup:1,mouseover:1,mouseout:1},i={abort:1,blur:1,change:1,error:1,focus:1,load:d.ie?0:1,reset:1,resize:1,scroll:1,select:1,submit:1,unload:d.ie?0:1},g={scroll:1,resize:1,reset:1,submit:1,change:1,select:1,error:1,abort:1},k={KeyEvents:["bubbles","cancelable","view","ctrlKey","altKey","shiftKey","metaKey","keyCode","charCode"],MouseEvents:["bubbles","cancelable","view","detail","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget"],HTMLEvents:["bubbles","cancelable"],UIEvents:["bubbles","cancelable","view","detail"],Events:["bubbles","cancelable"]};baidu.object.extend(g,l);baidu.object.extend(g,a);function c(r,p){var o=0,n=r.length,q={};for(;o<n;o++){q[r[o]]=p[r[o]];delete p[r[o]]}return q}function f(p,o,n){n=baidu.object.extend({},n);var q=baidu.object.values(c(k[o],n)),r=document.createEvent(o);q.unshift(p);if("KeyEvents"==o){r.initKeyEvent.apply(r,q)}else{if("MouseEvents"==o){r.initMouseEvent.apply(r,q)}else{if("UIEvents"==o){r.initUIEvent.apply(r,q)}else{r.initEvent.apply(r,q)}}}baidu.object.extend(r,n);return r}function b(n){var o;if(document.createEventObject){o=document.createEventObject();baidu.object.extend(o,n)}return o}function h(q,n){n=c(k.KeyEvents,n);var r;if(document.createEvent){try{r=f(q,"KeyEvents",n)}catch(p){try{r=f(q,"Events",n)}catch(o){r=f(q,"UIEvents",n)}}}else{n.keyCode=n.charCode>0?n.charCode:n.keyCode;r=b(n)}return r}function m(o,n){n=c(k.MouseEvents,n);var p;if(document.createEvent){p=f(o,"MouseEvents",n);if(n.relatedTarget&&!p.relatedTarget){if("mouseout"==o.toLowerCase()){p.toElement=n.relatedTarget}else{if("mouseover"==o.toLowerCase()){p.fromElement=n.relatedTarget}}}}else{n.button=n.button==0?1:n.button==1?4:baidu.lang.isNumber(n.button)?n.button:0;p=b(n)}return p}function j(p,n){n.bubbles=g.hasOwnProperty(p);n=c(k.HTMLEvents,n);var r;if(document.createEvent){try{r=f(p,"HTMLEvents",n)}catch(q){try{r=f(p,"UIEvents",n)}catch(o){r=f(p,"Events",n)}}}else{r=b(n)}return r}baidu.event.fire=function(o,p,n){var q;p=p.replace(/^on/i,"");o=baidu.dom._g(o);n=baidu.object.extend({bubbles:true,cancelable:true,view:window,detail:1,screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false,keyCode:0,charCode:0,button:0,relatedTarget:null},n);if(l[p]){q=h(p,n)}else{if(a[p]){q=m(p,n)}else{if(i[p]){q=j(p,n)}else{throw (new Error(p+" is not support!"))}}}if(q){if(o.dispatchEvent){o.dispatchEvent(q)}else{if(o.fireEvent){o.fireEvent("on"+p,q)}}}}})();baidu.event.get=function(a,b){return new baidu.event.EventArg(a,b)};baidu.event.getEvent=function(a){if(window.event){return window.event}else{var b=arguments.callee;do{if(/Event/.test(b.arguments[0])){return b.arguments[0]}}while(b=b.caller);return null}};baidu.event.getKeyCode=function(a){return a.which||a.keyCode};baidu.event.getPageX=function(b){var a=b.pageX,c=document;if(!a&&a!==0){a=(b.clientX||0)+(c.documentElement.scrollLeft||c.body.scrollLeft)}return a};baidu.event.getPageY=function(b){var a=b.pageY,c=document;if(!a&&a!==0){a=(b.clientY||0)+(c.documentElement.scrollTop||c.body.scrollTop)}return a};baidu.event.once=function(a,b,c){a=baidu.dom._g(a);function d(f){c.call(a,f);baidu.event.un(a,b,d)}baidu.event.on(a,b,d);return a};baidu.event.stopPropagation=function(a){if(a.stopPropagation){a.stopPropagation()}else{a.cancelBubble=true}};baidu.event.stop=function(a){var b=baidu.event;b.stopPropagation(a);b.preventDefault(a)};baidu.event._eventFilter=baidu.event._eventFilter||{};baidu.event._eventFilter._crossElementBoundary=function(a,d){var c=d.relatedTarget,b=d.currentTarget;if(c===false||b==c||(c&&(c.prefix=="xul"||baidu.dom.contains(b,c)))){return}return a.call(b,d)};baidu.fn.bind=function(b,a){var c=arguments.length>2?[].slice.call(arguments,2):null;return function(){var f=baidu.lang.isString(b)?a[b]:b,d=(c)?c.concat([].slice.call(arguments,0)):arguments;return f.apply(a||f,d)}};baidu.event._eventFilter.mouseenter=window.attachEvent?null:function(a,b,c){return{type:"mouseover",listener:baidu.fn.bind(baidu.event._eventFilter._crossElementBoundary,this,c)}};baidu.event._eventFilter.mouseleave=window.attachEvent?null:function(a,b,c){return{type:"mouseout",listener:baidu.fn.bind(baidu.event._eventFilter._crossElementBoundary,this,c)}};baidu.event._unload=function(){var c=baidu.event._listeners,a=c.length,b=!!window.removeEventListener,f,d;while(a--){f=c[a];if(f[1]=="unload"){continue}if(!(d=f[0])){continue}if(d.removeEventListener){d.removeEventListener(f[1],f[3],false)}else{if(d.detachEvent){d.detachEvent("on"+f[1],f[3])}}}if(b){window.removeEventListener("unload",baidu.event._unload,false)}else{window.detachEvent("onunload",baidu.event._unload)}};if(window.attachEvent){window.attachEvent("onunload",baidu.event._unload)}else{window.addEventListener("unload",baidu.event._unload,false)}baidu.fn.abstractMethod=function(){throw Error("unimplemented abstract method")};baidu.form=baidu.form||{};baidu.form.json=function(c,f){var b=c.elements,f=f||function(r,i){return r},j={},p,l,q,d,a,o,n,m;function g(i,r){var s=j[i];if(s){s.push||(j[i]=[s]);j[i].push(r)}else{j[i]=r}}for(var h=0,k=b.length;h<k;h++){p=b[h];q=p.name;if(!p.disabled&&q){l=p.type;d=baidu.url.escapeSymbol(p.value);switch(l){case"radio":case"checkbox":if(!p.checked){break}case"textarea":case"text":case"password":case"hidden":case"file":case"select-one":g(q,f(d,q));break;case"select-multiple":a=p.options;n=a.length;for(o=0;o<n;o++){m=a[o];if(m.selected){g(q,f(m.value,q))}}break}}}return j};baidu.form.serialize=function(c,f){var b=c.elements,f=f||function(r,i){return r},j=[],p,l,q,d,a,o,n,m;function g(i,r){j.push(i+"="+r)}for(var h=0,k=b.length;h<k;h++){p=b[h];q=p.name;if(!p.disabled&&q){l=p.type;d=baidu.url.escapeSymbol(p.value);switch(l){case"radio":case"checkbox":if(!p.checked){break}case"textarea":case"text":case"password":case"hidden":case"file":case"select-one":g(q,f(d,q));break;case"select-multiple":a=p.options;n=a.length;for(o=0;o<n;o++){m=a[o];if(m.selected){g(q,f(m.value,q))}}break}}}return j};baidu.global=baidu.global||{};window[baidu.guid].global=window[baidu.guid].global||{};(function(){var a=window[baidu.guid].global;baidu.global.get=function(b){return a[b]}})();(function(){var a=window[baidu.guid].global;baidu.global.set=function(f,g,d){var c=!d||(d&&typeof a[f]=="undefined");c&&(a[f]=g);return a[f]}})();baidu.global.getZIndex=function(a,c){var b=baidu.global.get("zIndex");if(a){b[a]=b[a]+(c||1)}return b[a]};baidu.global.set("zIndex",{popup:50000,dialog:1000},true);baidu.json=baidu.json||{};baidu.json.parse=function(a){return(new Function("return ("+a+")"))()};baidu.json.decode=baidu.json.parse;baidu.json.stringify=(function(){var b={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function a(g){if(/["\\\x00-\x1f]/.test(g)){g=g.replace(/["\\\x00-\x1f]/g,function(h){var i=b[h];if(i){return i}i=h.charCodeAt();return"\\u00"+Math.floor(i/16).toString(16)+(i%16).toString(16)})}return'"'+g+'"'}function d(n){var h=["["],j=n.length,g,k,m;for(k=0;k<j;k++){m=n[k];switch(typeof m){case"undefined":case"function":case"unknown":break;default:if(g){h.push(",")}h.push(baidu.json.stringify(m));g=1}}h.push("]");return h.join("")}function c(g){return g<10?"0"+g:g}function f(g){return'"'+g.getFullYear()+"-"+c(g.getMonth()+1)+"-"+c(g.getDate())+"T"+c(g.getHours())+":"+c(g.getMinutes())+":"+c(g.getSeconds())+'"'}return function(l){switch(typeof l){case"undefined":return"undefined";case"number":return isFinite(l)?String(l):"null";case"string":return a(l);case"boolean":return String(l);default:if(l===null){return"null"}else{if(l instanceof Array){return d(l)}else{if(l instanceof Date){return f(l)}else{var h=["{"],k=baidu.json.stringify,g,j;for(var i in l){if(Object.prototype.hasOwnProperty.call(l,i)){j=l[i];switch(typeof j){case"undefined":case"unknown":case"function":break;default:if(g){h.push(",")}g=1;h.push(k(i)+":"+k(j))}}}h.push("}");return h.join("")}}}}}})();baidu.json.encode=baidu.json.stringify;baidu.lang.Class.prototype.addEventListeners=function(c,d){if(typeof d=="undefined"){for(var b in c){this.addEventListener(b,c[b])}}else{c=c.split(",");var b=0,a=c.length,f;for(;b<a;b++){this.addEventListener(baidu.trim(c[b]),d)}}};baidu.lang.createClass=function(b,k){k=k||{};var h=k.superClass||baidu.lang.Class;var j=function(){var n=this;k.decontrolled&&(n.__decontrolled=true);h.apply(n,arguments);for(l in j.options){n[l]=j.options[l]}b.apply(n,arguments);for(var l=0,m=j["\x06r"];m&&l<m.length;l++){m[l].apply(n,arguments)}};j.options=k.options||{};var a=function(){},g=b.prototype;a.prototype=h.prototype;var d=j.prototype=new a();for(var c in g){d[c]=g[c]}var f=k.className||k.type;typeof f=="string"&&(d.__type=f);d.constructor=g.constructor;j.extend=function(m){for(var l in m){j.prototype[l]=m[l]}return j};return j};window[baidu.guid]._instances=window[baidu.guid]._instances||{};baidu.lang.decontrol=function(b){var a=window[baidu.guid];a._instances&&(delete a._instances[b])};baidu.lang.eventCenter=baidu.lang.eventCenter||baidu.lang.createSingle();baidu.lang.getModule=function(b,c){var d=b.split("."),f=c||window,a;for(;a=d.shift();){if(f[a]!=null){f=f[a]}else{return null}}return f};baidu.lang.inherits=function(h,f,d){var c,g,a=h.prototype,b=new Function();b.prototype=f.prototype;g=h.prototype=new b();for(c in a){g[c]=a[c]}h.prototype.constructor=h;h.superClass=f.prototype;typeof d=="string"&&(g.__type=d);h.extend=function(k){for(var j in k){g[j]=k[j]}return h};return h};baidu.inherits=baidu.lang.inherits;baidu.lang.instance=function(a){return window[baidu.guid]._instances[a]||null};baidu.lang.isBoolean=function(a){return typeof a==="boolean"};baidu.lang.isDate=function(a){return{}.toString.call(a)==="[object Date]"&&a.toString()!=="Invalid Date"&&!isNaN(a)};baidu.lang.isElement=function(a){return !!(a&&a.nodeName&&a.nodeType==1)};baidu.lang.module=function(name,module,owner){var packages=name.split("."),len=packages.length-1,packageName,i=0;if(!owner){try{if(!(new RegExp("^[a-zA-Z_\x24][a-zA-Z0-9_\x24]*\x24")).test(packages[0])){throw""}owner=eval(packages[0]);i=1}catch(e){owner=window}}for(;i<len;i++){packageName=packages[i];if(!owner[packageName]){owner[packageName]={}}owner=owner[packageName]}if(!owner[packages[len]]){owner[packages[len]]=module}};baidu.lang.register=function(b,d,a){var c=b["\x06r"]||(b["\x06r"]=[]);c[c.length]=d;for(var f in a){b.prototype[f]=a[f]}};baidu.number.comma=function(b,a){if(!a||a<1){a=3}b=String(b).split(".");b[0]=b[0].replace(new RegExp("(\\d)(?=(\\d{"+a+"})+$)","ig"),"$1,");return b.join(".")};baidu.number.randomInt=function(b,a){return Math.floor(Math.random()*(a-b+1)+b)};baidu.object.isPlain=function(c){var b=Object.prototype.hasOwnProperty,a;if(!c||Object.prototype.toString.call(c)!=="[object Object]"||!("isPrototypeOf" in c)){return false}if(c.constructor&&!b.call(c,"constructor")&&!b.call(c.constructor.prototype,"isPrototypeOf")){return false}for(a in c){}return a===undefined||b.call(c,a)};baidu.object.clone=function(f){var b=f,c,a;if(!f||f instanceof Number||f instanceof String||f instanceof Boolean){return b}else{if(baidu.lang.isArray(f)){b=[];var d=0;for(c=0,a=f.length;c<a;c++){b[d++]=baidu.object.clone(f[c])}}else{if(baidu.object.isPlain(f)){b={};for(c in f){if(f.hasOwnProperty(c)){b[c]=baidu.object.clone(f[c])}}}}}return b};baidu.object.isEmpty=function(b){for(var a in b){return false}return true};baidu.object.keys=function(d){var a=[],c=0,b;for(b in d){if(d.hasOwnProperty(b)){a[c++]=b}}return a};baidu.object.map=function(d,c){var b={};for(var a in d){if(d.hasOwnProperty(a)){b[a]=c(d[a],a)}}return b};(function(){var b=function(c){return baidu.lang.isObject(c)&&!baidu.lang.isFunction(c)};function a(h,g,f,d,c){if(g.hasOwnProperty(f)){if(c&&b(h[f])){baidu.object.merge(h[f],g[f],{overwrite:d,recursive:c})}else{if(d||!(f in h)){h[f]=g[f]}}}}baidu.object.merge=function(j,c,l){var f=0,m=l||{},h=m.overwrite,k=m.whiteList,d=m.recursive,g;if(k&&k.length){g=k.length;for(;f<g;++f){a(j,c,k[f],h,d)}}else{for(f in c){a(j,c,f,h,d)}}return j}})();baidu.page.createStyleSheet=function(a){var g=a||{},d=g.document||document,c;if(baidu.browser.ie){if(!g.url){g.url=""}return d.createStyleSheet(g.url,g.index)}else{c="<style type='text/css'></style>";g.url&&(c="<link type='text/css' rel='stylesheet' href='"+g.url+"'/>");baidu.dom.insertHTML(d.getElementsByTagName("HEAD")[0],"beforeEnd",c);if(g.url){return null}var b=d.styleSheets[d.styleSheets.length-1],f=b.rules||b.cssRules;return{self:b,rules:b.rules||b.cssRules,addRule:function(h,k,j){if(b.addRule){return b.addRule(h,k,j)}else{if(b.insertRule){isNaN(j)&&(j=f.length);return b.insertRule(h+"{"+k+"}",j)}}},removeRule:function(h){if(b.removeRule){b.removeRule(h)}else{if(b.deleteRule){isNaN(h)&&(h=0);b.deleteRule(h)}}}}}};baidu.page.getHeight=function(){var d=document,a=d.body,c=d.documentElement,b=d.compatMode=="BackCompat"?a:d.documentElement;return Math.max(c.scrollHeight,a.scrollHeight,b.clientHeight)};baidu.page.getWidth=function(){var d=document,a=d.body,c=d.documentElement,b=d.compatMode=="BackCompat"?a:d.documentElement;return Math.max(c.scrollWidth,a.scrollWidth,b.clientWidth)};baidu.page.lazyLoadImage=function(a){a=a||{};a.preloadHeight=a.preloadHeight||0;baidu.dom.ready(function(){var f=document.getElementsByTagName("IMG"),g=f,h=f.length,d=0,l=c(),k="data-tangram-ori-src",j;if(a.className){g=[];for(;d<h;++d){if(baidu.dom.hasClass(f[d],a.className)){g.push(f[d])}}}function c(){return baidu.page.getScrollTop()+baidu.page.getViewHeight()+a.preloadHeight}for(d=0,h=g.length;d<h;++d){j=g[d];if(baidu.dom.getPosition(j).top>l){j.setAttribute(k,j.src);a.placeHolder?j.src=a.placeHolder:j.removeAttribute("src")}}var b=function(){var n=c(),p,q=true,o=0,m=g.length;for(;o<m;++o){j=g[o];p=j.getAttribute(k);p&&(q=false);if(baidu.dom.getPosition(j).top<n&&p){j.src=p;j.removeAttribute(k);baidu.lang.isFunction(a.onlazyload)&&a.onlazyload(j)}}q&&baidu.un(window,"scroll",b)};baidu.on(window,"scroll",b)})};baidu.page.load=function(c,k,f){k=k||{};var i=baidu.page.load,a=i._cache=i._cache||{},h=i._loadingCache=i._loadingCache||{},g=k.parallel;function d(){for(var m=0,l=c.length;m<l;++m){if(!a[c[m].url]){setTimeout(arguments.callee,10);return}}k.onload()}function b(n,p){var o,m,l;switch(n.type.toLowerCase()){case"css":o=document.createElement("link");o.setAttribute("rel","stylesheet");o.setAttribute("type","text/css");break;case"js":o=document.createElement("script");o.setAttribute("type","text/javascript");o.setAttribute("charset",n.charset||i.charset);break;case"html":o=document.createElement("iframe");o.frameBorder="none";break;default:return}l=function(){if(!m&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){m=true;baidu.un(o,"load",l);baidu.un(o,"readystatechange",l);p.call(window,o)}};baidu.on(o,"load",l);baidu.on(o,"readystatechange",l);if(n.type=="css"){(function(){if(m){return}try{o.sheet.cssRule}catch(q){setTimeout(arguments.callee,20);return}m=true;p.call(window,o)})()}o.href=o.src=n.url;document.getElementsByTagName("head")[0].appendChild(o)}baidu.lang.isString(c)&&(c=[{url:c}]);if(!(c&&c.length)){return}function j(n){var m=n.url,o=!!g,l,p=function(q){a[n.url]=q;delete h[n.url];if(baidu.lang.isFunction(n.onload)){if(false===n.onload.call(window,q)){return}}!g&&i(c.slice(1),k,true);if((!f)&&baidu.lang.isFunction(k.onload)){d()}};n.type=n.type||m.replace(/^[^\?#]+\.(css|js|html)(\?|#| |$)[^\?#]*/i,"$1");n.requestType=n.requestType||(n.type=="html"?"ajax":"dom");if(l=a[n.url]){p(l);return o}if(!k.refresh&&h[n.url]){setTimeout(function(){j(n)},10);return o}h[n.url]=true;if(n.requestType.toLowerCase()=="dom"){b(n,p)}else{baidu.ajax.get(n.url,function(r,q){p(q)})}return o}baidu.each(c,j)};baidu.page.load.charset="UTF8";baidu.page.loadCssFile=function(b){var a=document.createElement("link");a.setAttribute("rel","stylesheet");a.setAttribute("type","text/css");a.setAttribute("href",b);document.getElementsByTagName("head")[0].appendChild(a)};baidu.page.loadJsFile=function(b){var a=document.createElement("script");a.setAttribute("type","text/javascript");a.setAttribute("src",b);a.setAttribute("defer","defer");document.getElementsByTagName("head")[0].appendChild(a)};baidu.platform=baidu.platform||{};baidu.platform.isAndroid=/android/i.test(navigator.userAgent);baidu.platform.isIpad=/ipad/i.test(navigator.userAgent);baidu.platform.isIphone=/iphone/i.test(navigator.userAgent);baidu.platform.isMacintosh=/macintosh/i.test(navigator.userAgent);baidu.platform.isWindows=/windows/i.test(navigator.userAgent);baidu.platform.isX11=/x11/i.test(navigator.userAgent);baidu.sio=baidu.sio||{};baidu.sio._createScriptTag=function(b,a,c){b.setAttribute("type","text/javascript");c&&b.setAttribute("charset",c);b.setAttribute("src",a);document.getElementsByTagName("head")[0].appendChild(b)};baidu.sio._removeScriptTag=function(b){if(b.clearAttributes){b.clearAttributes()}else{for(var a in b){if(b.hasOwnProperty(a)){delete b[a]}}}if(b&&b.parentNode){b.parentNode.removeChild(b)}b=null};baidu.sio.callByBrowser=function(a,h,j){var d=document.createElement("SCRIPT"),f=0,k=j||{},c=k.charset,i=h||function(){},g=k.timeOut||0,b;d.onload=d.onreadystatechange=function(){if(f){return}var l=d.readyState;if("undefined"==typeof l||l=="loaded"||l=="complete"){f=1;try{i();clearTimeout(b)}finally{d.onload=d.onreadystatechange=null;baidu.sio._removeScriptTag(d)}}};if(g){b=setTimeout(function(){d.onload=d.onreadystatechange=null;baidu.sio._removeScriptTag(d);k.onfailure&&k.onfailure()},g)}baidu.sio._createScriptTag(d,a,c)};baidu.sio.callByServer=function(a,n,o){var j=document.createElement("SCRIPT"),i="bd__cbs__",l,f,p=o||{},d=p.charset,g=p.queryField||"callback",m=p.timeOut||0,b,c=new RegExp("(\\?|&)"+g+"=([^&]*)"),h;if(baidu.lang.isFunction(n)){l=i+Math.floor(Math.random()*2147483648).toString(36);window[l]=k(0)}else{if(baidu.lang.isString(n)){l=n}else{if(h=c.exec(a)){l=h[2]}}}if(m){b=setTimeout(k(1),m)}a=a.replace(c,"\x241"+g+"="+l);if(a.search(c)<0){a+=(a.indexOf("?")<0?"?":"&")+g+"="+l}baidu.sio._createScriptTag(j,a,d);function k(q){return function(){try{if(q){p.onfailure&&p.onfailure()}else{n.apply(window,arguments);clearTimeout(b)}window[l]=null;delete window[l]}catch(r){}finally{baidu.sio._removeScriptTag(j)}}}};baidu.sio.log=function(b){var a=new Image(),c="tangram_sio_log_"+Math.floor(Math.random()*2147483648).toString(36);window[c]=a;a.onload=a.onerror=a.onabort=function(){a.onload=a.onerror=a.onabort=null;window[c]=null;a=null};a.src=b};baidu.string.decodeHTML=function(a){var b=String(a).replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&");return b.replace(/&#([\d]+);/g,function(d,c){return String.fromCharCode(parseInt(c,10))})};baidu.decodeHTML=baidu.string.decodeHTML;baidu.string.encodeHTML=function(a){return String(a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")};baidu.encodeHTML=baidu.string.encodeHTML;baidu.string.filterFormat=function(c,a){var b=Array.prototype.slice.call(arguments,1),d=Object.prototype.toString;if(b.length){b=b.length==1?(a!==null&&(/\[object Array\]|\[object Object\]/.test(d.call(a)))?a:b):b;return c.replace(/#\{(.+?)\}/g,function(g,k){var m,j,h,f,l;if(!b){return""}m=k.split("|");j=b[m[0]];if("[object Function]"==d.call(j)){j=j(m[0])}for(h=1,f=m.length;h<f;++h){l=baidu.string.filterFormat[m[h]];if("[object Function]"==d.call(l)){j=l(j)}}return(("undefined"==typeof j||j===null)?"":j)})}return c};baidu.string.filterFormat.escapeJs=function(f){if(!f||"string"!=typeof f){return f}var d,a,b,c=[];for(d=0,a=f.length;d<a;++d){b=f.charCodeAt(d);if(b>255){c.push(f.charAt(d))}else{c.push("\\x"+b.toString(16))}}return c.join("")};baidu.string.filterFormat.js=baidu.string.filterFormat.escapeJs;baidu.string.filterFormat.escapeString=function(a){if(!a||"string"!=typeof a){return a}return a.replace(/["'<>\\\/`]/g,function(b){return"&#"+b.charCodeAt(0)+";"})};baidu.string.filterFormat.e=baidu.string.filterFormat.escapeString;baidu.string.filterFormat.toInt=function(a){return parseInt(a,10)||0};baidu.string.filterFormat.i=baidu.string.filterFormat.toInt;baidu.string.format=function(c,a){c=String(c);var b=Array.prototype.slice.call(arguments,1),d=Object.prototype.toString;if(b.length){b=b.length==1?(a!==null&&(/\[object Array\]|\[object Object\]/.test(d.call(a)))?a:b):b;return c.replace(/#\{(.+?)\}/g,function(f,h){var g=b[h];if("[object Function]"==d.call(g)){g=g(h)}return("undefined"==typeof g?"":g)})}return c};baidu.format=baidu.string.format;(function(){var c=/^\#[\da-f]{6}$/i,b=/^rgb\((\d+), (\d+), (\d+)\)$/,a={black:"#000000",silver:"#c0c0c0",gray:"#808080",white:"#ffffff",maroon:"#800000",red:"#ff0000",purple:"#800080",fuchsia:"#ff00ff",green:"#008000",lime:"#00ff00",olive:"#808000",yellow:"#ffff0",navy:"#000080",blue:"#0000ff",teal:"#008080",aqua:"#00ffff"};baidu.string.formatColor=function(f){if(c.test(f)){return f}else{if(b.test(f)){for(var k,j=1,f="#";j<4;j++){k=parseInt(RegExp["\x24"+j]).toString(16);f+=("00"+k).substr(k.length)}return f}else{if(/^\#[\da-f]{3}$/.test(f)){var h=f.charAt(1),g=f.charAt(2),d=f.charAt(3);return"#"+h+h+g+g+d+d}else{if(a[f]){return a[f]}}}}return""}})();baidu.string.getByteLength=function(a){return String(a).replace(/[^\x00-\xff]/g,"ci").length};baidu.string.stripTags=function(a){return String(a||"").replace(/<[^>]+>/g,"")};baidu.string.subByte=function(c,b,a){c=String(c);a=a||"";if(b<0||baidu.string.getByteLength(c)<=b){return c+a}c=c.substr(0,b).replace(/([^\x00-\xff])/g,"\x241 ").substr(0,b).replace(/[^\x00-\xff]$/,"").replace(/([^\x00-\xff]) /g,"\x241");return c+a};baidu.string.toHalfWidth=function(a){return String(a).replace(/[\uFF01-\uFF5E]/g,function(b){return String.fromCharCode(b.charCodeAt(0)-65248)}).replace(/\u3000/g," ")};baidu.string.wbr=function(a){return String(a).replace(/(?:<[^>]+>)|(?:&#?[0-9a-z]{2,6};)|(.{1})/gi,"$&<wbr>").replace(/><wbr>/g,">")};baidu.swf=baidu.swf||{};baidu.swf.version=(function(){var h=navigator;if(h.plugins&&h.mimeTypes.length){var d=h.plugins["Shockwave Flash"];if(d&&d.description){return d.description.replace(/([a-zA-Z]|\s)+/,"").replace(/(\s)+r/,".")+".0"}}else{if(window.ActiveXObject&&!window.opera){for(var b=12;b>=2;b--){try{var g=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+b);if(g){var a=g.GetVariable("$version");return a.replace(/WIN/g,"").replace(/,/g,".")}}catch(f){}}}}})();baidu.swf.createHTML=function(t){t=t||{};var l=baidu.swf.version,h=t.ver||"6.0.0",g,d,f,c,j,s,a={},p=baidu.string.encodeHTML;for(c in t){a[c]=t[c]}t=a;if(l){l=l.split(".");h=h.split(".");for(f=0;f<3;f++){g=parseInt(l[f],10);d=parseInt(h[f],10);if(d<g){break}else{if(d>g){return""}}}}else{return""}var n=t.vars,m=["classid","codebase","id","width","height","align"];t.align=t.align||"middle";t.classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000";t.codebase="http://fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0";t.movie=t.url||"";delete t.vars;delete t.url;if("string"==typeof n){t.flashvars=n}else{var q=[];for(c in n){s=n[c];q.push(c+"="+encodeURIComponent(s))}t.flashvars=q.join("&")}var o=["<object "];for(f=0,j=m.length;f<j;f++){s=m[f];o.push(" ",s,'="',p(t[s]),'"')}o.push(">");var b={wmode:1,scale:1,quality:1,play:1,loop:1,menu:1,salign:1,bgcolor:1,base:1,allowscriptaccess:1,allownetworking:1,allowfullscreen:1,seamlesstabbing:1,devicefont:1,swliveconnect:1,flashvars:1,movie:1};for(c in t){s=t[c];c=c.toLowerCase();if(b[c]&&(s||s===false||s===0)){o.push('<param name="'+c+'" value="'+p(s)+'" />')}}t.src=t.movie;t.name=t.id;delete t.id;delete t.movie;delete t.classid;delete t.codebase;t.type="application/x-shockwave-flash";t.pluginspage="http://www.macromedia.com/go/getflashplayer";o.push("<embed");var r;for(c in t){s=t[c];if(s||s===false||s===0){if((new RegExp("^salign\x24","i")).test(c)){r=s;continue}o.push(" ",c,'="',p(s),'"')}}if(r){o.push(' salign="',p(r),'"')}o.push("></embed></object>");return o.join("")};baidu.swf.create=function(a,c){a=a||{};var b=baidu.swf.createHTML(a)||a.errorMessage||"";if(c&&"string"==typeof c){c=document.getElementById(c)}baidu.dom.insertHTML(c||document.body,"beforeEnd",b)};baidu.swf.getMovie=function(c){var a=document[c],b;return baidu.browser.ie==9?a&&a.length?(b=baidu.array.remove(baidu.lang.toArray(a),function(d){return d.tagName.toLowerCase()!="embed"})).length==1?b[0]:b:a:a||window[c]};baidu.swf.Proxy=function(g,c,d){var b=this,a=this._flash=baidu.swf.getMovie(g),f;if(!c){return this}f=setInterval(function(){try{if(a[c]){b._initialized=true;clearInterval(f);if(d){d()}}}catch(h){}},100)};baidu.swf.Proxy.prototype.getFlash=function(){return this._flash};baidu.swf.Proxy.prototype.isReady=function(){return !!this._initialized};baidu.swf.Proxy.prototype.call=function(a,f){try{var c=this.getFlash(),b=Array.prototype.slice.call(arguments);b.shift();if(c[a]){c[a].apply(c,b)}}catch(d){}};baidu.url.getQueryValue=function(b,c){var d=new RegExp("(^|&|\\?|#)"+baidu.string.escapeReg(c)+"=([^&#]*)(&|\x24|#)","");var a=b.match(d);if(a){return a[2]}return null};baidu.url.jsonToQuery=function(c,f){var a=[],d,b=f||function(g){return baidu.url.escapeSymbol(g)};baidu.object.each(c,function(h,g){if(baidu.lang.isArray(h)){d=h.length;while(d--){a.push(g+"="+b(h[d],g))}}else{a.push(g+"="+b(h,g))}});return a.join("&")};baidu.url.queryToJson=function(a){var g=a.substr(a.lastIndexOf("?")+1),c=g.split("&"),f=c.length,l={},d=0,j,h,k,b;for(;d<f;d++){if(!c[d]){continue}b=c[d].split("=");j=b[0];h=b[1];k=l[j];if("undefined"==typeof k){l[j]=h}else{if(baidu.lang.isArray(k)){k.push(h)}else{l[j]=[k,h]}}}return l};baidu.data=baidu.data||{};baidu.data.Field=baidu.data.Field||(function(){var a=function(b,c){var d=this,f=b.define||{};d._defaultValue=typeof f.defaultValue!="undefined"?f.defaultValue:d._defaultValue;d._type=f.type||"";d._validation=b.validation||[];d._validation.push({rule:d._type});d._dataModel=c;d._name=b.name;d._validator=d._dataModel._validator};a.prototype={_defaultValue:"",_name:"",set:function(c,f){var d=this,b={result:true};if(typeof f=="undefined"){d._set(c,d._defaultValue)}else{if(d._validator){b=d._validator.test(f,d._validation);b.result&&d._set(c,f)}else{d._set(c,f)}}return b},_set:function(b,d){var c=this;d=baidu.object.clone(d);c._dataModel._data[b]=c._dataModel._data[b]||{};c._dataModel._data[b][c._name]=d}};return a})();baidu.data.DataModel=baidu.data.DataModel||(function(){var g=baidu.object.clone,a=baidu.array.each,f=baidu.object.each;var d={ADD:"ADD",REMOVE:"REMOVE",UPDATE:"UPDATE",NULL:"NULL"};function c(h,i){var h=h||{};f(h,function(j,k){baidu.extend(j,{name:k});i._fields[k]=new baidu.data.Field(j,i)})}var b=function(h){var i=this,h=h||{};i._fields={};i._data={};i._actionQueue=[];i._recodeLength=h.recodeLength||i.recodeLength;i._validator=h.validator;c(h.fields||{},i)};b.prototype={_index:0,_recodeLength:5,_setLastAction:function(k,j,i){var h=this;h._actionQueue.push({action:k,lastData:j,lastChange:i});h._actionQueue.length>h._recodeLength&&h._actionQueue.shift()},_getNewId:function(){return this._index++},_revertId:function(){this._index--},_getDataByIndex:function(i,k){var h={},j=this;a(k,function(l){h[l]=j._getDataByName(i,j._data[l])});return h},_getDataByFunction:function(j,i){var k=this,h={};f(k._data,function(m,l){if(i(m)){h[l]=k._getDataByName(j,m)}});return h},_getDataByName:function(i,k){var j=this,h={};if(i=="*"){return g(k)}baidu.lang.isString(i)&&(i=i.split(","));a(i,function(l){h[l]=k[l]});return g(h)},_getConditionId:function(j){var i=this,h=[];if(j=="*"){return baidu.object.keys(i._data)}if(baidu.lang.isNumber(j)){return[j]}if(baidu.lang.isArray(j)){return j}if(baidu.lang.isFunction(j)){f(i._data,function(l,k){j(l)&&h.push(k)});return h}return h},add:function(l){var n=this,l=l||{},p={fail:[],success:[]},m,h,o,i,j={},k={};if(baidu.object.isEmpty(l)){return p}if(!baidu.lang.isArray(l)){l=[l]}baidu.each(l,function(r,q){m=true;h=[];o=n._getNewId();f(n._fields,function(t,s){m=t.set(o,r[s]);m.result?h.push(s):p.fail.push(q);return m.result});if(!m.result){delete (n._data[o]);n._revertId()}else{j[o]="undefined";k[o]=g(n._data[o]);p.success.push(o)}});p.success.length>0&&n._setLastAction(d.ADD,j,k);return p},select:function(j,l){var k=this,h=[],i;if(k._data.length==0){return h}i=k._getConditionId(l);h=k._getDataByIndex(j,i);return h},update:function(l,j){var o=this,n=[],m,h=[],q=0,p,i={},k={};if(baidu.object.isEmpty(l)){return q}l=g(l);n=o._getConditionId(j);if(n.length>0){p=n.shift();i[p]=g(o._data[p]);f(l,function(s,r){m=o._fields[r].set(p,s);m&&h.push(r);return m});if(!m){o._data[p]=i;return q}k[p]=o._data[p];q++}a(n,function(r){i[r]=g(o._data[r]);f(l,function(t,s){o._data[r][s]=t});k[r]=o._data[r];q++});q>0&&o._setLastAction(d.UPDATE,i,k);return q},remove:function(n){var k=this,i=k._getConditionId(n),h=0,m,l={},j={};if(i.length==0){return h}baidu.each(i,function(o){j[o]=l[o]=g(k._data[o]);h++;delete (k._data[o])});h>0&&k._setLastAction(d.REMOVE,l,j);return h},cancel:function(){var j=this,i,h={row:0,cancelAction:d.NULL,lastChange:{}};if(j._actionQueue.length==0){return h}i=j._actionQueue.pop();h.lastChange=i.lastChange;switch(i.action){case d.ADD:f(i.lastData,function(l,k){delete (j._data[k]);h.row++});h.cancelAction=d.ADD;break;case d.REMOVE:f(i.lastData,function(l,k){j._data[k]=l;h.row++});h.cancelAction=d.REMOVE;break;case d.UPDATE:f(i.lastData,function(l,k){j._data[k]=l;h.row++});h.cancelAction=d.UPDATE;break;default:return h}return h},getLastChange:function(){var h=this;data=h._actionQueue.length>0?g(h._actionQueue[h._actionQueue.length-1].lastChange):[];return data}};return b})();baidu.data.dataSource=baidu.dataSource=baidu.data.dataSource||{};baidu.parser=baidu.parser||{};baidu.parser.type={XML:"Xml",JSON:"Json",HTML:"Html"};baidu.parser.create=function(b,a){var b=b||"",a=a||{};if(baidu.parser[b]){return new baidu.parser[b](a)}return null};baidu.data.dataSource.DataSource=baidu.lang.createClass(function(a){this._cacheData={};baidu.object.extend(this,a);this.addEventListener("onbeforeget",function(b){var c=this,d;if(c.cache&&(d=c._cacheData[b.key])&&b.onsuccess){b.onsuccess.call(c,d)}b.returnValue=!!d})},{type:"baidu.data.dataSource.DataSource"}).extend({maxCache:100,cache:true,dataType:"",update:function(a){var b=this;baidu.object.extend(b,a)},get:function(a){},set:function(){},_get:function(a){var b=this,c;function d(f,g){var h=null;if(f){h=baidu.parser.create(f);h&&h.load(g);return h?h:g}return g}c=d(b.dataType,b.source);c=b.transition.call(b,c);b.cache&&a.key&&c&&b._addCacheData(a.key,c);a.onsuccess&&a.onsuccess.call(b,c);return c},transition:function(a){return a},_addCacheData:function(b,d){var c=this,a=baidu.object.keys(c._cacheData);while(c.maxCache>0&&a.length>=c.maxCache){delete c._cacheData[a.shift()]}if(c.maxCache>0){c._cacheData[b]=d}}});baidu.data.dataSource.ajax=function(b,a){a=baidu.object.extend({url:b},a||{});var c=new baidu.data.dataSource.DataSource(a);c.get=function(d){var f=this;d=d||{};d.key=d.key||(f.url+(d.param?"?"+baidu.json.stringify(d.param):""));if(!f.dispatchEvent("onbeforeget",d)){baidu.ajax.request(d.key,f.ajaxOption||{method:d.method||"get",data:d.param,onsuccess:function(h,g){f.source=g;f._get(d)},onfailure:function(g){d.onfailure&&d.onfailure.call(f,g)}})}};return c};baidu.data.dataSource.local=function(b,a){a=baidu.object.extend({source:b},a||{});var c=new baidu.data.dataSource.DataSource(a);c.get=function(d){var f=this,g;d=baidu.object.extend({key:"local"},d||{});if(!f.dispatchEvent("onbeforeget",d)){g=f._get(d)}return g};return c};baidu.data.dataSource.sio=function(b,a){a=baidu.object.extend({url:b},a||{});var c=new baidu.data.dataSource.DataSource(a);c.get=function(d){var f=this;d=d||{};d.key=d.key||(f.url+(d.param?"?"+baidu.json.stringify(d.param):""));if(d.callByType&&d.callByType.toLowerCase()=="browser"){d.callByType="callByBrowser"}else{d.callByType="callByServer"}if(!f.dispatchEvent("onbeforeget",d)){baidu.sio[d.callByType](d.key,function(){f._get(d)})}};return c};baidu.data.DataStore=(function(){var a={APPEND:"APPEND",REPLACE:"REPLACE",MERGE:"MERGE"};var b={ADD:"ADD",REMOVE:"REMOVE",UPDATE:"UPDATE"};return baidu.lang.createClass(function(c){var g=this,d=c.dataModel,i=c.dataSource,h=c.action,f=c.sync;d&&(g._dataModel=d);i&&(g._dataSource=i);typeof f!="undefined"&&(g._sync=f);if(!h){g._action="APPEND"}else{if(baidu.lang.isFunction(h)){g._action=h}else{g._action=a[h]?a[h]:"APPEND"}}g._mergeFields=c.mergeFields||[];g._usingLocal=typeof c.usingLocal!="undefined"?c.usingLocal:g._usingLocal}).extend({_dataModel:null,_dataSource:null,_action:"APPEND",_usingLocal:true,_sync:false,setDataModel:function(c){if(c instanceof baidu.data.DataModel){this._dataModel=c;return true}return false},getDataModel:function(){return this._dataModel},getDataSource:function(){return this._dataSource},setDataSource:function(c){if(c instanceof baidu.data.dataSource.DataSource){this._dataSource=c;return true}return false},setSnyc:function(c){this._sync=c},load:function(l,j,h){var g=this,c=g._dataSource,i=g._dataModel,j=typeof j!="undefined"?j:g._sync,k=l.onsuccess||baidu.fn.blank,d=l.onfailture||baidu.fn.blank,f=[];if(!c){return}if(j){l.onsuccess=function(m){switch(g._action){case"APPEND":k.call(g,i.add(m));break;case"REPLACE":i.remove("*");k.call(g,i.add(m));break;case"MERGE":(g._mergeFields.length!=0)&&baidu.each(m,function(n){i.update(n,function(p){var o=true;baidu.each(g._mergeFields,function(q){o=(p[q]==n[q]);return o});return o})});k.call(g,m);break;default:k.call(g,g._action.call(g,m))}};l.onfailture=function(){d.apply(g,arguments)}}c.get(l)},save:function(d,c){var g=this,f=g._dataModel,h=g._dataSource,c=c||"LC";h.set(d,c=="ALL"?f.select("*"):f.getLastChange())},add:function(f){var d=this,c=d._dataModel.add(f);d.dispatchEvent("onadd",{row:c.success.length,data:(c.success.length>0?d._dataModel.getLastChange():{})});return c},select:function(c,d){var c=c||"*",d=(typeof d!="undefined"?d:"*");return this._dataModel.select(c,d)},update:function(d,g){var c=this,d=d||{},g=(typeof g!="undefined"?g:"*"),f=c._dataModel.update(d,g);c.dispatchEvent("onupdate",{row:f,data:(f?c._dataModel.getLastChange():{})});return f},remove:function(f){var c=this,f=(typeof f!="undefined"?f:"*"),d=c._dataModel.remove(f);c.dispatchEvent("ondelete",{row:d,data:(d?c._dataModel.getLastChange():{})});return d},cancel:function(){var d=this,c=d._dataModel.cancel();d.dispatchEvent("oncancel",{cancelAction:c.cancelAction,row:c.row,lastChange:c.lastChange});return c.row}})})();baidu.data.ModelManager=baidu.data.ModelManager||(function(){var f={},c={},d={},h=0,b={string:"",number:0,"boolean":true};_validator=null;function g(i){return(b[i]||"")}var a=function(i){};a.prototype={setValidator:function(i){_validator=i},defineDM:function(o,m){var m=m||[],j=m.fields=m.fields||[],n=m.validations=m.validations||[],i={},p="",l="",k=null;baidu.each(j,function(q){p=q.name;l=q.type||"string";k=typeof q.defaultValue!="undefined"?q.defaultValue:g(l);i[p]={define:{type:l,defaultValue:k},validation:[]}});baidu.each(n,function(q){p=q.field;delete (q.field);i[p]["validation"]=q.val||[]});f[o]=i},createDM:function(k,j){j=baidu.extend({fields:f[k]||{},validator:_validator},j);var i=new baidu.data.DataModel(j);c[k]||(c[k]={});c[k][h]=i;d[h]=i;return[h++,i]},getDMByIndex:function(i){return d[i]||null},getDMByType:function(i){return c[i]||[]}};return new a()})();baidu.data.storage=(function(){var c=baidu.lang.guid(),h={SUCCESS:0,FAILURE:1,OVERFLOW:2};function i(j){return j.replace(/[_\s]/g,function(k){return k=="_"?"__":"_s"})}function f(){return baidu.dom.g(c+"-storage")}function b(){var j;if(window.ActiveXObject&&baidu.browser.ie<9){j=a()}else{if(window.localStorage){j=g()}else{j=d()}}return j}function a(){baidu.dom.insertHTML(document.body,"beforeEnd",baidu.string.format('<div id="#{id}" style="display:none;"></div>',{id:c+"-storage"}));f().addBehavior("#default#userData");return{set:function(o,n,p,r){var k=h.SUCCESS,q=f(),m=i(o),j=r&&r.expires?r.expires:new Date().getTime()+365*24*60*60*1000;if(baidu.lang.isDate(j)){j=j.getTime()}else{j=new Date().getTime()+(j-0)}q.expires=new Date(j).toUTCString();try{q.setAttribute(m,n);q.save(m)}catch(l){k=h.OVERFLOW}q=null;p&&p.call(this,k,n)},get:function(k,p){var j=h.SUCCESS,l=f(),o=i(k),n=null;try{l.load(o);n=l.getAttribute(o)}catch(m){j=h.FAILURE;throw"baidu.data.storage.get error!"}p&&p.call(this,j,n)},del:function(k,p){var j=h.SUCCESS,l=f(),o=i(k),n;try{l.load(o);n=l.getAttribute(o);if(n){l.removeAttribute(o);l.expires=new Date(315532799000).toUTCString();l.save(o)}else{j=h.FAILURE}}catch(m){j=h.FAILURE}p&&p.call(this,j,n)}}}function g(){return{set:function(p,o,q,r){var k=h.SUCCESS,l=window.localStorage,n=i(p),j=r&&r.expires?r.expires:0;if(baidu.lang.isDate(j)){j=j.getTime()}else{if(j>0){j=new Date().getTime()+(j-0)}}try{l.setItem(n,j+"|"+o)}catch(m){k=h.OVERFLOW}q&&q.call(this,k,o)},get:function(q,r){var l=h.SUCCESS,m=window.localStorage,p=i(q),j=null,n,k;try{j=m.getItem(p)}catch(o){l=h.FAILURE}if(j){n=j.indexOf("|");k=parseInt(j.substring(0,n),10);if(new Date(k).getTime()>new Date().getTime()||k==0){j=j.substring(n+1,j.length)}else{j=null;l=h.FAILURE;this.del(q)}}else{l=h.FAILURE}r&&r.call(this,l,j)},del:function(k,p){var j=h.SUCCESS,o=window.localStorage,n=i(k),m=null;try{m=o.getItem(n)}catch(l){j=h.FAILURE}if(m){m=m.substring(m.indexOf("|")+1,m.length);j=h[m?"SUCCESS":"FAILURE"];m&&o.removeItem(n)}else{j=h.FAILURE}p&&p.call(this,j,m)}}}function d(){return{set:function(k,l,m,j){baidu.cookie.set(i(k),l,j);m&&m.call(me,h.SUCCESS,l)},get:function(j,l){var k=baidu.cookie.get(i(j));l&&l.call(me,h[k?"SUCCESS":"FAILURE"],k)},del:function(j,m){var l=i(j),k=baidu.cookie.get(l);baidu.cookie.remove(l);m&&m.call(me,h[k?"SUCCESS":"FAILURE"],k)}}}return{set:function(k,m,n,j){var l=this;!l._storage&&(l._storage=b());l._storage.set.apply(l._storage,arguments)},get:function(j,l){var k=this;!k._storage&&(k._storage=b());k._storage.get.apply(k._storage,arguments)},remove:function(j,l){var k=this;!k._storage&&(k._storage=b());k._storage.del.apply(k._storage,arguments)}}})();baidu.data.Validator=baidu.lang.createClass(function(a){var b=this;b._validations=a||{};b._rules={}}).extend({validate:function(d){var f=this,g,c,b={result:[],detail:[]},h,a=baidu.data.Validator.validatorResultTypes;if(d.length<=0){return}baidu.array.each(d,function(j,i){g=j[0];c=j[1];h=f._validations[c]?f._singleValidate(g,f._validations[c]):{result:false};if(h.result!=true){b.detail.push({index:i,rule:h.rule||c})}b.result.push(h.result)});b.result=f._wrapResult(b.result);return b},_wrapResult:function(a){var c=this,b=baidu.data.Validator.validatorResultTypes;if(baidu.array.contains(a,false)){a=b.FAILURE}else{if(!baidu.array.contains(a,false)&&baidu.array.contains(a,"loading")){a=b.SUCCESSWITHOUTREMOTE}else{a=b.SUCCESS}}return a},_singleValidate:function(c,a){var b=this,g,f,h={result:true},d;baidu.each(a,function(i){g=i.rule;if(g=="remote"){d=i.conf}else{f=b._getRule(g);if(!f(c,i.conf)){h.result=false;h.rule=g}}});if(!h.result){return h}if(d){b._remote(c,d);h.result="loading";h.rule="remote"}return h},test:function(f,g,c){var d=this,b,a=[];if(d._validations[g]){b=d._validations[g]}else{if(d._getRule(g)){b=[{rule:g,conf:c}]}else{if(baidu.lang.isArray(g)){baidu.each(g,function(h){if(d._validations[h.rule]){a=a.concat(d._validations[h.rule])}else{a.push(h)}});return d._singleValidate(f,a)}else{return false}}}return d._singleValidate(f,b)},addValidation:function(b,a){var c=this;c._validations[b]=a||[]},_remote:function(i,f){var b=f.url,d=f.key,f=baidu.object.clone(f),h=this;if(f.method.toUpperCase()=="GET"){var c=b.indexOf("?")<0?"?":"&";b=b+c+d+"="+encodeURIComponent(i)}else{f.data=d+"="+encodeURIComponent(i)}if(f.callback){f.onsuccess=f.onfailure=function(k,j){f.callback(i,k,j)}}else{if(f.onsuccess){var a=f.onsuccess;f.onsuccess=function(k,j){a(i,k,j)}}if(f.onfailure){var g=f.onfailure;f.onfailure=function(j){g(i,j)}}}baidu.ajax.request(b,f)},addRule:function(a,b){var c=this;c._rules[a]=b||baidu.fn.blank;c.dispatchEvent("onAddRule",{name:a,handler:b})},_getRule:function(a){var b=this,c=baidu.data.Validator.validatorRules||{};return b._rules[a]||c[a]||null}});baidu.data.Validator.validatorResultTypes={SUCCESS:"success",FAILURE:"failure",SUCCESSWITHOUTREMOTE:"successwithoutremote"};baidu.data.Validator.validatorRules=(function(){var b={require:function(c){return baidu.string.trim(c)!==""},length:function(d,c){return d.length==c.len},equalTo:function(d,c){return d===c.refer},lengthRange:function(h,f){var d=h.length,g=f.min,c=f.max;if((g&&d<g)||(c&&d>c)){return false}else{return true}},numberRange:function(g,d){var f=d.min,c=d.max;if((f&&g<f)||(c&&g>c)){return false}else{return true}},email:function(c){return/^[\w!#\$%'\*\+\-\/=\?\^`{}\|~]+([.][\w!#\$%'\*\+\-\/=\?\^`{}\|~]+)*@[-a-z0-9]{1,20}[.][a-z0-9]{1,10}([.][a-z]{2})?$/i.test(c)},url:function(c){return/^(https?|ftp|rmtp|mms):\/\/(([A-Z0-9][A-Z0-9_-]*)(\.[A-Z0-9][A-Z0-9_-]*)+)(:(\d+))?\/?/i.test(c)}},a=["array","boolean","date","function","number","object","string"];baidu.each(a,function(c){b[c]=baidu.lang["is"+c.substr(0,1).toUpperCase()+c.substr(1)]});return b})();baidu.data.XPC=baidu.lang.createClass(function(c,a,k){k=k||{};this._canUsePostMessage=(typeof window.postMessage==="function"||typeof window.postMessage==="object");this._isParent=c;this.ready=false;this.currentDomain=this._getDomainByUrl(location.href);if(c&&a){this._channel=this._createIframe(a);this.targetDomain=this._getDomainByUrl(a);this.source=(this._channel.contentWindow||this._channel);baidu.on(this._channel,"load",baidu.fn.bind(function(){this.send("init")},this));timeout=parseInt(k.timeout)||30000;this._timer=setTimeout(baidu.fn.bind(function(){this.dispatchEvent(this._createEvent("error","Tiemout."))},this),timeout)}else{if(!c){this.targetDomain=null;this.source=window.parent;this.allowDomains=k.allowDomains||["*"]}else{this.dispatchEvent(this._createEvent("error","need url."))}}var j=baidu.fn.bind("_onMessage",this);if(this._canUsePostMessage){baidu.on(window,"message",j)}else{try{var d=c?this.source:window,g=d.opener||{},i=["parentReceiveHandler","childReceiveHandler"],b=i[c?0:1],h=i[c?1:0];g.xpc=g.xpc||{};g.xpc[b]=j;this._sendHandlerName=h;this._xpc=g.xpc;d.opener=g}catch(f){this.dispatchEvent(this._createEvent("error",f.message))}}}).extend({_createIframe:function(b){var a=document.createElement("IFRAME");a.src="about:blank";a.frameBorder=0;baidu.dom.setStyles(a,{position:"absolute",left:"-10000px",top:"-10000px",width:"10px",height:"10px"});document.body.appendChild(a);a.src=b;return a},_createEvent:function(a,b){return{type:a,data:b}},_checkDomain:function(d){if(this._isParent){return d===this.targetDomain}else{var b=this.allowDomains,a=b.length;while(a--){var c=b[a];if(c==="*"||c===d){return true}}return false}},_getDomainByUrl:function(c){var b=document.createElement("A");b.href=c;return b.protocol+"//"+b.hostname+((parseInt(b.port)||80)===80?"":":"+b.port)},_onMessage:function(a){a=a||window.event;if(this._checkDomain(a.origin)){this.source=a.source;this.targetDomain=a.origin;if(this.ready){this.dispatchEvent(this._createEvent("message",a.data))}else{if(this._isParent){clearTimeout(this._timer);delete this._timer}else{this.send("init")}this.ready=true;this.dispatchEvent(this._createEvent("ready"))}}},send:function(b){if(this._canUsePostMessage){this.source.postMessage(b,this.targetDomain)}else{var a={type:"message",data:b,origin:this.currentDomain,source:window};this._xpc[this._sendHandlerName](a)}}});baidu.flash=baidu.flash||{};baidu.flash._Base=(function(){var d="bd__flash__";function b(){return d+Math.floor(Math.random()*2147483648).toString(36)}function a(h){if(typeof h!=="undefined"&&typeof h.flashInit!=="undefined"&&h.flashInit()){return true}else{return false}}function c(i,j){var h=null;i=i.reverse();baidu.each(i,function(k){h=j.call(k.fnName,k.params);k.callBack(h)})}function g(h){var i="";if(baidu.lang.isFunction(h)){i=b();window[i]=function(){h.apply(window,arguments)};return i}else{if(baidu.lang.isString){return h}}}function f(i){if(!i.id){i.id=b()}var h=i.container||"";delete (i.container);baidu.swf.create(i,h);return baidu.swf.getMovie(i.id)}return function(r,j){var o=this,i=(typeof r.autoRender!=="undefined"?r.autoRender:true),q=r.createOptions||{},m=null,n=false,l=[],h=null,j=j||[];o.render=function(){m=f(q);if(j.length>0){baidu.each(j,function(t,s){j[s]=g(r[t]||new Function())})}o.call("setJSFuncName",[j])};o.isReady=function(){return n};o.call=function(v,u,t){if(!v){return}t=t||new Function();var s=null;if(n){s=m.call(v,u);t(s)}else{l.push({fnName:v,params:u,callBack:t});(!h)&&(h=setInterval(k,200))}};o.createFunName=function(s){return g(s)};function k(){if(a(m)){clearInterval(h);h=null;p();n=true}}function p(){c(l,m);l=[]}i&&o.render()}})();baidu.flash.avatarMaker=baidu.flash.avatarMaker||function(a){var c=this,a=a||{},b=a.uploadURL,d=new baidu.flash._Base(a,["uploadCallBack","tipHandler"]);c.upload=function(f){d.call("upload",[f||b])}};baidu.flash.fileUploader=baidu.flash.fileUploader||function(a){var b=this,a=a||{};a.createOptions=baidu.extend({wmod:"transparent"},a.createOptions||{});var c=new baidu.flash._Base(a,["selectFile","exceedMaxSize","deleteFile","uploadStart","uploadComplete","uploadError","uploadProgress"]);c.call("setMaxNum",a.maxNum?[a.maxNum]:[1]);b.setHandCursor=function(d){c.call("setHandCursor",[d||false])};b.setMSFunName=function(d){c.call("setMSFunName",[c.createFunName(d)])};b.upload=function(g,h,d,f){if(typeof g!=="string"||typeof h!=="string"){return}if(typeof f==="undefined"){f=-1}c.call("upload",[g,h,d,f])};b.cancel=function(d){if(typeof d==="undefined"){d=-1}c.call("cancel",[d])};b.deleteFile=function(d,f){var g=function(h){f&&f(h)};if(typeof d==="undefined"){c.call("deleteFilesAll",[],g);return}if(typeof d==="Number"){d=[d]}d.sort(function(i,h){return h-i});baidu.each(d,function(h){c.call("deleteFileBy",h,g)})};b.addFileType=function(d){var d=d||[[]];if(d instanceof Array){d=[d]}else{d=[[d]]}c.call("addFileTypes",d)};b.setFileType=function(d){var d=d||[[]];if(d instanceof Array){d=[d]}else{d=[[d]]}c.call("setFileTypes",d)};b.setMaxNum=function(d){c.call("setMaxNum",[d])};b.setMaxSize=function(d){c.call("setMaxSize",[d])};b.getFileAll=function(d){c.call("getFilesAll",[],d)};b.getFileByIndex=function(d,f){c.call("getFileByIndex",[],f)};b.getStatusByIndex=function(d,f){c.call("getStatusByIndex",[],f)}};baidu.flash.imageUploader=baidu.flash.imageUploader||function(a){var b=this,a=a||{},c=new baidu.flash._Base(a,["selectFileCallback","exceedFileCallback","deleteFileCallback","startUploadCallback","uploadCompleteCallback","uploadErrorCallback","allCompleteCallback","changeFlashHeight"]);b.upload=function(){c.call("upload")};b.pause=function(){c.call("pause")}};baidu.form.ValidRule=baidu.form.ValidRule||baidu.lang.createClass(function(){var a=this;a._rules={required:function(b){return !!(b&&!/^(?:\s|\u3000)+$/.test(b))},remote:function(c,b){return !!(b&&b.toLowerCase()=="true")},email:/^[\w!#\$%'\*\+\-\/=\?\^`{}\|~]+([.][\w!#\$%'\*\+\-\/=\?\^`{}\|~]+)*@[-a-z0-9]{1,20}[.][a-z0-9]{1,10}([.][a-z]{2})?$/i,number:/^(?:[1-9]\d+|\d)(?:\.\d+)?$/,maxlength:function(c,b){return c.length<=b},minlength:function(c,b){return c.length>=b},rangelength:function(c,b){return c.length>=b[0]&&c.length<=b[1]},equal:function(c,b){return c===(baidu.lang.isFunction(b)?b():b)},telephone:/^(((?:[\+0]\d{1,3}-[1-9]\d{1,2})|\d{3,4})-)?\d{5,8}$/}}).extend({_getRule:function(a){var b=this;return baidu.lang.isString(a)?b._rules[a]:b._rules},match:function(b,g,h,a){var c=this,d=c._getRule(b),f=a&&a.param;if("remote"==b.toLowerCase()){baidu.lang.isString(f)&&(f={url:f});f=baidu.object.extend({},f);f.data&&baidu.lang.isFunction(f.data)&&(f.data=f.data(g));f.onsuccess=f.onfailure=function(j,i){h(d(j,i))};baidu.ajax.request(f.url,f)}else{h(baidu.lang.isFunction(d)?d(g,f):d.test(g))}},addRule:function(a,b){this._rules[a]=b}});baidu.form.Validator=baidu.lang.createClass(function(a,g,k){var h=this,j=baidu.form.Validator,f=j._addons.length,d=0,b;h._form=baidu.dom.g(a);h._fieldRule=g;h._validRule=new baidu.form.ValidRule();baidu.object.extend(h,k);b=h.validateEvent.split(",");function c(i,l){var m={element:l?h._form.elements[l]:h._form,eventName:i,handler:baidu.fn.bind("_onEventHandler",h,l)};baidu.event.on(m.element,m.eventName,m.handler);h.addEventListener("ondispose",function(){baidu.event.un(m.element,m.eventName,m.handler)})}baidu.object.each(h._fieldRule,function(l,i){baidu.array.each(baidu.lang.isString(l.eventName)?l.eventName.split(","):b,function(m){c(m,i)})});h.validateOnSubmit&&c("onsubmit");for(;d<f;d++){j._addons[d](h)}}).extend({validateEvent:"blur",validateOnSubmit:true,_onEventHandler:function(b,a){var c=this;if(!b){baidu.event.preventDefault(a);c.validate(function(f,d){f&&c._form.submit()});return}c.validateField(b)},addRule:function(a,b,d){var c=this;c._validRule.addRule(a,b);c.dispatchEvent("onaddrule",{name:a,handler:b,message:d})},validate:function(f){var c=this,d=baidu.object.keys(c._fieldRule),a=[],b=0;baidu.array.each(d,function(g){c.validateField(g,function(i,h){a=a.concat(h);if(b++>=d.length-1){baidu.lang.isFunction(f)&&f(a.length<=0,a);c.dispatchEvent("onvalidate",{resultList:a})}})})},validateField:function(a,j){var f=this,i,k=f._fieldRule[a].rule,h=f._form.elements[a].value,c=baidu.array.filter(baidu.object.keys(k),function(l){i=k[l];return(h||l=="required")&&(i.hasOwnProperty("param")?i.param:i)!==false}),b=[],d=0;function g(){if(d++>=c.length-1){f.dispatchEvent("validatefield",{field:a,resultList:b});baidu.lang.isFunction(j)&&j(b.length<=0,b)}}c.length==0&&g();baidu.array.each(c,function(l){i=k[l];f._validRule.match(l,h,function(m){!m&&b.push({type:l,field:a,result:m});g()},{param:i.hasOwnProperty("param")?i.param:i})})},dispose:function(){var a=this;a.dispatchEvent("ondispose");baidu.lang.Class.prototype.dispose.call(a)}});baidu.form.Validator._addons=[];baidu.form.Validator.register=function(a){typeof a=="function"&&baidu.form.Validator._addons.push(a)};baidu.form.Validator.register(function(a){if(!a.showMessage){return}a._defaultId=baidu.lang.guid();a._defaultMessage={required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",number:"Please enter a valid number.",maxlength:"Please enter no more than #{param} characters.",minlength:"Please enter at least #{param} characters.",rangelength:"Please enter a value between #{param[0]} and #{param[1]} characters long.",equal:"Please enter the same value again.",telephone:"Please enter a valid telephone number."};a.addEventListener("onaddrule",function(b){a._defaultMessage[b.name]=b.message});a.addEventListener("onvalidatefield",function(b){var f=a._getContentElement(b.field),h=b.resultList.length<=0,d=h?baidu.object.keys(a._fieldRule[b.field].rule).pop():b.resultList[0].type,c=a._fieldRule[b.field].rule[d],g=c.message;!g&&(g=a._defaultMessage[d]);g=h?(g.success||""):(g.failure||g);baidu.dom.addClass(f,"tangram-"+a.uiType+"-"+(h?"success":"failure"));baidu.dom.addClass(f,"tangram-"+a.uiType+"-"+b.field+"-"+(h?"success":"failure"));baidu.dom.removeClass(f,"tangram-"+a.uiType+"-"+(h?"failure":"success"));baidu.dom.removeClass(f,"tangram-"+a.uiType+"-"+b.field+"-"+(h?"failure":"success"));f.innerHTML=baidu.string.format(g,{param:c.param,"param[0]":baidu.lang.isArray(c.param)?c.param[0]:"","param[1]":baidu.lang.isArray(c.param)?c.param[1]:""})})});baidu.object.extend(baidu.form.Validator.prototype,{showMessage:true,uiType:"validator",tplDOM:'<label id="#{id}" class="#{class}"></label>',_getContentElement:function(f){var d=this,a=d._defaultId+"_"+f,c=baidu.dom.g(a),b=baidu.dom.g(d._fieldRule[f].messageContainer);if(!c){baidu.dom.insertHTML(b||d._form.elements[f],b?"beforeEnd":"afterEnd",baidu.string.format(d.tplDOM,{id:a,"class":"tangram-"+d.uiType}));c=baidu.dom.g(a)}return c},getMessageContainer:function(a){return baidu.dom.g(this._defaultId+"_"+a)}});baidu.fx=baidu.fx||{};baidu.fx.Timeline=function(a){baidu.lang.Class.call(this);this.interval=16;this.duration=500;this.dynamic=true;baidu.object.extend(this,a)};baidu.lang.inherits(baidu.fx.Timeline,baidu.lang.Class,"baidu.fx.Timeline").extend({launch:function(){var a=this;a.dispatchEvent("onbeforestart");typeof a.initialize=="function"&&a.initialize();a["\x06btime"]=new Date().getTime();a["\x06etime"]=a["\x06btime"]+(a.dynamic?a.duration:0);a["\x06pulsed"]();return a},"\x06pulsed":function(){var b=this;var a=new Date().getTime();b.percent=(a-b["\x06btime"])/b.duration;b.dispatchEvent("onbeforeupdate");if(a>=b["\x06etime"]){typeof b.render=="function"&&b.render(b.transition(b.percent=1));typeof b.finish=="function"&&b.finish();b.dispatchEvent("onafterfinish");b.dispose();return}typeof b.render=="function"&&b.render(b.transition(b.percent));b.dispatchEvent("onafterupdate");b["\x06timer"]=setTimeout(function(){b["\x06pulsed"]()},b.interval)},transition:function(a){return a},cancel:function(){this["\x06timer"]&&clearTimeout(this["\x06timer"]);this["\x06etime"]=this["\x06btime"];typeof this.restore=="function"&&this.restore();this.dispatchEvent("oncancel");this.dispose()},end:function(){this["\x06timer"]&&clearTimeout(this["\x06timer"]);this["\x06etime"]=this["\x06btime"];this["\x06pulsed"]()}});baidu.fx.create=function(d,b,c){var f=new baidu.fx.Timeline(b);f.element=d;f.__type=c||f.__type;f["\x06original"]={};var a="baidu_current_effect";f.addEventListener("onbeforestart",function(){var h=this,g;h.attribName="att_"+h.__type.replace(/\W/g,"_");g=h.element.getAttribute(a);h.element.setAttribute(a,(g||"")+"|"+h.guid+"|",0);if(!h.overlapping){(g=h.element.getAttribute(h.attribName))&&window[baidu.guid]._instances[g].cancel();h.element.setAttribute(h.attribName,h.guid,0)}});f["\x06clean"]=function(i){var h=this,g;if(i=h.element){i.removeAttribute(h.attribName);g=i.getAttribute(a);g=g.replace("|"+h.guid+"|","");if(!g){i.removeAttribute(a)}else{i.setAttribute(a,g,0)}}};f.addEventListener("oncancel",function(){this["\x06clean"]();this["\x06restore"]()});f.addEventListener("onafterfinish",function(){this["\x06clean"]();this.restoreAfterFinish&&this["\x06restore"]()});f.protect=function(g){this["\x06original"][g]=this.element.style[g]};f["\x06restore"]=function(){var k=this["\x06original"],j=this.element.style,g;for(var h in k){g=k[h];if(typeof g=="undefined"){continue}j[h]=g;if(!g&&j.removeAttribute){j.removeAttribute(h)}else{if(!g&&j.removeProperty){j.removeProperty(h)}}}};return f};baidu.fx.collapse=function(c,b){if(!(c=baidu.dom.g(c))){return null}var h=c,f,a,g={vertical:{value:"height",offset:"offsetHeight",stylesValue:["paddingBottom","paddingTop","borderTopWidth","borderBottomWidth"]},horizontal:{value:"width",offset:"offsetWidth",stylesValue:["paddingLeft","paddingRight","borderLeftWidth","borderRightWidth"]}};var d=baidu.fx.create(h,baidu.object.extend({orientation:"vertical",initialize:function(){a=g[this.orientation];this.protect(a.value);this.protect("overflow");this.restoreAfterFinish=true;f=h[a.offset];h.style.overflow="hidden"},transition:function(i){return Math.pow(1-i,2)},render:function(i){h.style[a.value]=Math.floor(i*f)+"px"},finish:function(){baidu.dom.hide(h)}},b||{}),"baidu.fx.expand_collapse");return d.launch()};baidu.fx.current=function(d){if(!(d=baidu.dom.g(d))){return null}var b,g,f=/\|([^\|]+)\|/g;do{if(g=d.getAttribute("baidu_current_effect")){break}}while((d=d.parentNode)&&d.nodeType==1);if(!g){return null}if((b=g.match(f))){f=/\|([^\|]+)\|/;for(var c=0;c<b.length;c++){f.test(b[c]);b[c]=window[baidu.guid]._instances[RegExp["\x241"]]}}return b};baidu.fx.expand=function(c,b){if(!(c=baidu.dom.g(c))){return null}var h=c,f,a,g={vertical:{value:"height",offset:"offsetHeight",stylesValue:["paddingBottom","paddingTop","borderTopWidth","borderBottomWidth"]},horizontal:{value:"width",offset:"offsetWidth",stylesValue:["paddingLeft","paddingRight","borderLeftWidth","borderRightWidth"]}};var d=baidu.fx.create(h,baidu.object.extend({orientation:"vertical",initialize:function(){a=g[this.orientation];baidu.dom.show(h);this.protect(a.value);this.protect("overflow");this.restoreAfterFinish=true;f=h[a.offset];function i(l,k){var j=parseInt(baidu.getStyle(l,k));j=isNaN(j)?0:j;j=baidu.lang.isNumber(j)?j:0;return j}baidu.each(a.stylesValue,function(j){f-=i(h,j)});h.style.overflow="hidden";h.style[a.value]="1px"},transition:function(i){return Math.sqrt(i)},render:function(i){h.style[a.value]=Math.floor(i*f)+"px"}},b||{}),"baidu.fx.expand_collapse");return d.launch()};baidu.fx.opacity=function(b,a){if(!(b=baidu.dom.g(b))){return null}a=baidu.object.extend({from:0,to:1},a||{});var d=b;var c=baidu.fx.create(d,baidu.object.extend({initialize:function(){baidu.dom.show(b);if(baidu.browser.ie<9){this.protect("filter")}else{this.protect("opacity");this.protect("KHTMLOpacity")}this.distance=this.to-this.from},render:function(f){var g=this.distance*f+this.from;if(!(baidu.browser.ie<9)){d.style.opacity=g;d.style.KHTMLOpacity=g}else{d.style.filter="progid:DXImageTransform.Microsoft.Alpha(opacity:"+Math.floor(g*100)+")"}}},a),"baidu.fx.opacity");return c.launch()};baidu.fx.fadeIn=function(b,a){if(!(b=baidu.dom.g(b))){return null}var c=baidu.fx.opacity(b,baidu.object.extend({from:0,to:1,restoreAfterFinish:true},a||{}));c.__type="baidu.fx.fadeIn";return c};baidu.fx.fadeOut=function(b,a){if(!(b=baidu.dom.g(b))){return null}var c=baidu.fx.opacity(b,baidu.object.extend({from:1,to:0,restoreAfterFinish:true},a||{}));c.addEventListener("onafterfinish",function(){baidu.dom.hide(this.element)});c.__type="baidu.fx.fadeOut";return c};baidu.fx.getTransition=function(c){var b=baidu.fx.transitions;if(!c||typeof b[c]!="string"){c="linear"}return new Function("percent",b[c])};baidu.fx.transitions={none:"return 0",full:"return 1",linear:"return percent",reverse:"return 1 - percent",parabola:"return Math.pow(percent, 2)",antiparabola:"return 1 - Math.pow(1 - percent, 2)",sinoidal:"return (-Math.cos(percent * Math.PI)/2) + 0.5",wobble:"return (-Math.cos(percent * Math.PI * (9 * percent))/2) + 0.5",spring:"return 1 - (Math.cos(percent * 4.5 * Math.PI) * Math.exp(-percent * 6))"};baidu.fx.highlight=function(b,a){if(!(b=baidu.dom.g(b))){return null}var d=b;var c=baidu.fx.create(d,baidu.object.extend({initialize:function(){var l=this,k=baidu.dom.getStyle,j=baidu.string.formatColor,g=j(k(d,"color"))||"#000000",f=j(k(d,"backgroundColor"));l.beginColor=l.beginColor||f||"#FFFF00";l.endColor=l.endColor||f||"#FFFFFF";l.finalColor=l.finalColor||l.endColor||l.element.style.backgroundColor;l.textColor==g&&(l.textColor="");this.protect("color");this.protect("backgroundColor");l.c_b=[];l.c_d=[];l.t_b=[];l.t_d=[];for(var m,h=0;h<3;h++){m=2*h+1;l.c_b[h]=parseInt(l.beginColor.substr(m,2),16);l.c_d[h]=parseInt(l.endColor.substr(m,2),16)-l.c_b[h];if(l.textColor){l.t_b[h]=parseInt(g.substr(m,2),16);l.t_d[h]=parseInt(l.textColor.substr(m,2),16)-l.t_b[h]}}},render:function(k){for(var j=this,g="#",f="#",l,h=0;h<3;h++){l=Math.round(j.c_b[h]+j.c_d[h]*k).toString(16);g+=("00"+l).substr(l.length);if(j.textColor){l=Math.round(j.t_b[h]+j.t_d[h]*k).toString(16);f+=("00"+l).substr(l.length)}}d.style.backgroundColor=g;j.textColor&&(d.style.color=f)},finish:function(){this.textColor&&(d.style.color=this.textColor);d.style.backgroundColor=this.finalColor}},a||{}),"baidu.fx.highlight");return c.launch()};baidu.fx.mask=function(c,a){if(!(c=baidu.dom.g(c))||baidu.dom.getStyle(c,"position")!="absolute"){return null}var g=c,b={};a=a||{};var f=/^(\d+px|\d?\d(\.\d+)?%|100%|left|center|right)(\s+(\d+px|\d?\d(\.\d+)?%|100%|top|center|bottom))?/i;!f.test(a.startOrigin)&&(a.startOrigin="0px 0px");var a=baidu.object.extend({restoreAfterFinish:true,from:0,to:1},a||{});var d=baidu.fx.create(g,baidu.object.extend({initialize:function(){g.style.display="";this.protect("clip");b.width=g.offsetWidth;b.height=g.offsetHeight;f.test(this.startOrigin);var l=RegExp["\x241"].toLowerCase(),k=RegExp["\x244"].toLowerCase(),j=this.element.offsetWidth,m=this.element.offsetHeight,i,h;if(/\d+%/.test(l)){i=parseInt(l,10)/100*j}else{if(/\d+px/.test(l)){i=parseInt(l)}else{if(l=="left"){i=0}else{if(l=="center"){i=j/2}else{if(l=="right"){i=j}}}}}if(!k){h=m/2}else{if(/\d+%/.test(k)){h=parseInt(k,10)/100*m}else{if(/\d+px/.test(k)){h=parseInt(k)}else{if(k=="top"){h=0}else{if(k=="center"){h=m/2}else{if(k=="bottom"){h=m}}}}}}b.x=i;b.y=h},render:function(l){var m=this.to*l+this.from*(1-l),k=b.y*(1-m)+"px ",j=b.x*(1-m)+"px ",i=b.x*(1-m)+b.width*m+"px ",h=b.y*(1-m)+b.height*m+"px ";g.style.clip="rect("+k+i+h+j+")"},finish:function(){if(this.to<this.from){g.style.display="none"}}},a),"baidu.fx.mask");return d.launch()};baidu.fx.move=function(b,a){if(!(b=baidu.dom.g(b))||baidu.dom.getStyle(b,"position")=="static"){return null}a=baidu.object.extend({x:0,y:0},a||{});if(a.x==0&&a.y==0){return null}var c=baidu.fx.create(b,baidu.object.extend({initialize:function(){this.protect("top");this.protect("left");this.originX=parseInt(baidu.dom.getStyle(b,"left"))||0;this.originY=parseInt(baidu.dom.getStyle(b,"top"))||0},transition:function(d){return 1-Math.pow(1-d,2)},render:function(d){b.style.top=(this.y*d+this.originY)+"px";b.style.left=(this.x*d+this.originX)+"px"}},a),"baidu.fx.move");return c.launch()};baidu.fx.moveBy=function(b,g,a){if(!(b=baidu.dom.g(b))||baidu.dom.getStyle(b,"position")=="static"||typeof g!="object"){return null}var f={};f.x=g[0]||g.x||0;f.y=g[1]||g.y||0;var c=baidu.fx.move(b,baidu.object.extend(f,a||{}));return c};baidu.fx.moveTo=function(d,b,c){if(!(d=baidu.dom.g(d))||baidu.dom.getStyle(d,"position")=="static"||typeof b!="object"){return null}var g=[b[0]||b.x||0,b[1]||b.y||0];var a=parseInt(baidu.dom.getStyle(d,"left"))||0;var h=parseInt(baidu.dom.getStyle(d,"top"))||0;var f=baidu.fx.move(d,baidu.object.extend({x:g[0]-a,y:g[1]-h},c||{}));return f};baidu.fx.scale=function(c,a){if(!(c=baidu.dom.g(c))){return null}a=baidu.object.extend({from:0.1,to:1},a||{});var f=/^(-?\d+px|\d?\d(\.\d+)?%|100%|left|center|right)(\s+(-?\d+px|\d?\d(\.\d+)?%|100%|top|center|bottom))?/i;!f.test(a.transformOrigin)&&(a.transformOrigin="0px 0px");var b={},d=baidu.fx.create(c,baidu.object.extend({fade:true,initialize:function(){baidu.dom.show(c);var l=this,g=b,q=c.style,k=function(o){l.protect(o)};if(baidu.browser.ie){k("top");k("left");k("position");k("zoom");k("filter");this.offsetX=parseInt(baidu.dom.getStyle(c,"left"))||0;this.offsetY=parseInt(baidu.dom.getStyle(c,"top"))||0;if(baidu.dom.getStyle(c,"position")=="static"){q.position="relative"}f.test(this.transformOrigin);var j=RegExp["\x241"].toLowerCase(),i=RegExp["\x244"].toLowerCase(),m=this.element.offsetWidth,h=this.element.offsetHeight,p,n;if(/\d+%/.test(j)){p=parseInt(j,10)/100*m}else{if(/\d+px/.test(j)){p=parseInt(j)}else{if(j=="left"){p=0}else{if(j=="center"){p=m/2}else{if(j=="right"){p=m}}}}}if(!i){n=h/2}else{if(/\d+%/.test(i)){n=parseInt(i,10)/100*h}else{if(/\d+px/.test(i)){n=parseInt(i)}else{if(i=="top"){n=0}else{if(i=="center"){n=h/2}else{if(i=="bottom"){n=h}}}}}}q.zoom=this.from;g.cx=p;g.cy=n}else{k("WebkitTransform");k("WebkitTransformOrigin");k("MozTransform");k("MozTransformOrigin");k("OTransform");k("OTransformOrigin");k("transform");k("transformOrigin");k("opacity");k("KHTMLOpacity");q.WebkitTransform=q.MozTransform=q.OTransform=q.transform="scale("+this.from+")";q.WebkitTransformOrigin=q.MozTransformOrigin=q.OTransformOrigin=q.transformOrigin=this.transformOrigin}},render:function(j){var h=c.style,g=this.to==1,g=typeof this.opacityTrend=="boolean"?this.opacityTrend:g,i=g?this.percent:1-this.percent,k=this.to*j+this.from*(1-j);if(baidu.browser.ie){h.zoom=k;if(this.fade){h.filter="progid:DXImageTransform.Microsoft.Alpha(opacity:"+Math.floor(i*100)+")"}h.top=this.offsetY+b.cy*(1-k);h.left=this.offsetX+b.cx*(1-k)}else{h.WebkitTransform=h.MozTransform=h.OTransform=h.transform="scale("+k+")";if(this.fade){h.KHTMLOpacity=h.opacity=i}}}},a),"baidu.fx.scale");return d.launch()};baidu.fx.zoomOut=function(b,a){if(!(b=baidu.dom.g(b))){return null}a=baidu.object.extend({to:0.1,from:1,opacityTrend:false,restoreAfterFinish:true,transition:function(d){return 1-Math.pow(1-d,2)}},a||{});var c=baidu.fx.scale(b,a);c.addEventListener("onafterfinish",function(){baidu.dom.hide(this.element)});return c};baidu.fx.puff=function(b,a){return baidu.fx.zoomOut(b,baidu.object.extend({to:1.8,duration:800,transformOrigin:"50% 50%"},a||{}))};baidu.fx.pulsate=function(c,a,b){if(!(c=baidu.dom.g(c))){return null}if(isNaN(a)||a==0){return null}var f=c;var d=baidu.fx.create(f,baidu.object.extend({initialize:function(){this.protect("visibility")},transition:function(g){return Math.cos(2*Math.PI*g)},render:function(g){f.style.visibility=g>0?"visible":"hidden"},finish:function(){setTimeout(function(){baidu.fx.pulsate(c,--a,b)},10)}},b),"baidu.fx.pulsate");return d.launch()};baidu.fx.remove=function(b,a){var c=a.onafterfinish?a.onafterfinish:new Function();return baidu.fx.fadeOut(b,baidu.object.extend(a||{},{onafterfinish:function(){baidu.dom.remove(this.element);c.call(this)}}))};baidu.fx.scrollBy=function(b,h,a){if(!(b=baidu.dom.g(b))||typeof h!="object"){return null}var g={},f={};g.x=h[0]||h.x||0;g.y=h[1]||h.y||0;var c=baidu.fx.create(b,baidu.object.extend({initialize:function(){var i=f.sTop=b.scrollTop;var d=f.sLeft=b.scrollLeft;f.sx=Math.min(b.scrollWidth-b.clientWidth-d,g.x);f.sy=Math.min(b.scrollHeight-b.clientHeight-i,g.y)},transition:function(d){return 1-Math.pow(1-d,2)},render:function(d){b.scrollTop=(f.sy*d+f.sTop);b.scrollLeft=(f.sx*d+f.sLeft)},restore:function(){b.scrollTop=f.sTop;b.scrollLeft=f.sLeft}},a),"baidu.fx.scroll");return c.launch()};baidu.fx.scrollTo=function(c,a,b){if(!(c=baidu.dom.g(c))||typeof a!="object"){return null}var f={};f.x=(a[0]||a.x||0)-c.scrollLeft;f.y=(a[1]||a.y||0)-c.scrollTop;return baidu.fx.scrollBy(c,f,b)};baidu.fx.shake=function(b,g,a){if(!(b=baidu.dom.g(b))){return null}var f=b;g=g||[];function c(){for(var h=0;h<arguments.length;h++){if(!isNaN(arguments[h])){return arguments[h]}}}var d=baidu.fx.create(f,baidu.object.extend({initialize:function(){this.protect("top");this.protect("left");this.protect("position");this.restoreAfterFinish=true;if(baidu.dom.getStyle(f,"position")=="static"){f.style.position="relative"}var h=this["\x06original"];this.originX=parseInt(h.left||0);this.originY=parseInt(h.top||0);this.offsetX=c(g[0],g.x,16);this.offsetY=c(g[1],g.y,5)},transition:function(i){var h=1-i;return Math.floor(h*16)%2==1?h:i-1},render:function(h){f.style.top=(this.offsetY*h+this.originY)+"px";f.style.left=(this.offsetX*h+this.originX)+"px"}},a||{}),"baidu.fx.shake");return d.launch()};baidu.fx.zoomIn=function(b,a){if(!(b=baidu.dom.g(b))){return null}a=baidu.object.extend({to:1,from:0.1,restoreAfterFinish:true,transition:function(c){return Math.pow(c,2)}},a||{});return baidu.fx.scale(b,a)};baidu.history=baidu.history||{};(function(){var f,d,c;function h(i){var j=d.contentWindow.document;i=i||"#";j.open();j.write('<script>window.top.location.hash="'+i+'";<\/script>');j.close();j.location.hash=i}function g(){c&&c();f=(window.location.hash.replace(/^#/,"")||"")}function a(){var i=location.hash.replace(/^#/,"");if(i!=f){d?h(i):g()}}function b(i){f=("");if(i){c=i}if(baidu.browser.ie){d=document.createElement("iframe");d.style.display="none";document.body.appendChild(d);h(window.location.hash);d.attachEvent("onload",function(){g()});setInterval(a,100)}else{if(baidu.browser.firefox<3.6){setInterval(a,100)}else{if(f!=location.hash.replace(/^#/,"")){f=(window.location.hash.replace(/^#/,"")||"")}window.onhashchange=g}}}baidu.history.listen=b})();baidu.i18n=baidu.i18n||{};baidu.i18n.cultures=baidu.i18n.cultures||{};baidu.i18n.cultures["en-US"]=baidu.object.extend(baidu.i18n.cultures["en-US"]||{},{calendar:{dateFormat:"yyyy-MM-dd",titleNames:"#{MM}&nbsp;#{yyyy}",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:{mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat",sun:"Sun"}},timeZone:-5,whitespace:new RegExp("(^[\\s\\t\\xa0\\u3000]+)|([\\u3000\\xa0\\s\\t]+\x24)","g"),number:{group:",",groupLength:3,decimal:".",positive:"",negative:"-",_format:function(b,a){return baidu.i18n.number._format(b,{group:this.group,groupLength:this.groupLength,decimal:this.decimal,symbol:a?this.negative:this.positive})}},currency:{symbol:"$"},language:{ok:"ok",cancel:"cancel",signin:"signin",signup:"signup"}});baidu.i18n.currentLocale="en-US";baidu.i18n.cultures["zh-CN"]=baidu.object.extend(baidu.i18n.cultures["zh-CN"]||{},{calendar:{dateFormat:"yyyy-MM-dd",titleNames:"#{yyyy}年&nbsp;#{MM}月",monthNames:["一","二","三","四","五","六","七","八","九","十","十一","十二"],monthNamesShort:[1,2,3,4,5,6,7,8,9,10,11,12],dayNames:{mon:"一",tue:"二",wed:"三",thu:"四",fri:"五",sat:"六",sun:"日"}},timeZone:8,whitespace:new RegExp("(^[\\s\\t\\xa0\\u3000]+)|([\\u3000\\xa0\\s\\t]+\x24)","g"),number:{group:",",groupLength:3,decimal:".",positive:"",negative:"-",_format:function(b,a){return baidu.i18n.number._format(b,{group:this.group,groupLength:this.groupLength,decimal:this.decimal,symbol:a?this.negative:this.positive})}},currency:{symbol:"￥"},language:{ok:"确定",cancel:"取消",signin:"注册",signup:"登录"}});baidu.i18n.currentLocale="zh-CN";baidu.i18n.number=baidu.i18n.number||{format:function(f,c,h){var d=this,g=c&&baidu.i18n.cultures[c].number,b=baidu.i18n.cultures[h||baidu.i18n.currentLocale].number,a=false;if(typeof f==="string"){if(f.indexOf(g.negative)>-1){a=true;f=f.replace(g.negative,"")}else{if(f.indexOf(g.positive)>-1){f=f.replace(g.positive,"")}}f=f.replace(new RegExp(g.group,"g"),"")}else{if(f<0){a=true;f*=-1}}f=parseFloat(f);if(isNaN(f)){return"NAN"}return b._format?b._format(f,a):d._format(f,{group:b.group||",",decimal:b.decimal||".",groupLength:b.groupLength,symbol:a?b.negative:b.positive})},_format:function(c,j){var a=String(c).split(j.decimal),g=a[0].split("").reverse(),b=a[1]||"",f=0,h=0,k="";f=parseInt(g.length/j.groupLength);h=g.length%j.groupLength;f=h==0?f-1:f;for(var d=1;d<=f;d++){g.splice(j.groupLength*d+(d-1),0,j.group)}g=g.reverse();k=j.symbol+g.join("")+(b.length>0?j.decimal+b:"");return k}};baidu.i18n.currency=baidu.i18n.currency||{format:function(f,c,h){var d=this,g=c&&baidu.i18n.cultures[c].currency,b=baidu.i18n.cultures[h||baidu.i18n.currentLocale].currency,a;if(typeof f==="string"){f=f.replace(g.symbol)}return b.symbol+this._format(f,c,h)},_format:function(b,a,c){return baidu.i18n.number.format(b,a,c||baidu.i18n.currentLocale)}};baidu.i18n.date=baidu.i18n.date||{getDaysInMonth:function(a,b){var c=[31,28,31,30,31,30,31,31,30,31,30,31];if(b==1&&baidu.i18n.date.isLeapYear(a)){return 29}return c[b]},isLeapYear:function(a){return !(a%400)||(!(a%4)&&!!(a%100))},toLocaleDate:function(b,a,c){return this._basicDate(b,a,c||baidu.i18n.currentLocale)},_basicDate:function(g,c,i){var a=baidu.i18n.cultures[i||baidu.i18n.currentLocale].timeZone,h=a*60,b,d,f=g.getTime();if(c){b=baidu.i18n.cultures[c].timeZone;d=b*60}else{d=-1*g.getTimezoneOffset();b=d/60}return new Date(b!=a?(f+(h-d)*60000):f)},format:function(a,b){var d=baidu.i18n.cultrues[b||baidu.i18n.currentLocale];return baidu.date.format(baidu.i18n.date.toLocaleDate(a,"",b),d.calendar.dateFormat)}};baidu.i18n.string=baidu.i18n.string||{trim:function(c,a){var b=baidu.i18n.cultures[a||baidu.i18n.currentLocale].whitespace;return String(c).replace(b,"")},translation:function(c,a){var b=baidu.i18n.cultures[a||baidu.i18n.currentLocale].language;return b[c]||""}};baidu.parser.Parser=baidu.parser.Parser||(function(){return baidu.lang.createClass(function(a){var b=this,a=a||{};b._method=a.method||b._method;b.onload=a.onload||baidu.fn.blank},{type:"baidu.parser.Parser"}).extend({_dom:null,_isLoad:false,_method:"GET",_queryData:{},_type:"",load:function(a){var b=this;if(typeof a=="undefined"){return}b._isLoad=false;if(b._parser(a)){b._queryData={};b._isLoad=true;b.dispatchEvent("onload")}},loadUrl:function(d,f,c){var b=this,d=d||"",f=f||b._method,c=c||"",a=function(h,g){if(b._parser(g)){b._isLoad=true;b._queryData={};b.dispatchEvent("onload")}};b._isLoad=false;f=="GET"?baidu.ajax.get(d,a):baidu.ajax.post(d,c,a)},query:function(d,b){var c=this,d=d||"/",b=!(b===false),a=[];if(!c._isLoad){return a}if(b&&c._queryData[d]){return c._queryData[d]}a=c._query(d);c._queryData[d]=a;return a},_query:function(a){return[]},_parser:function(){return false},getRoot:function(){return this._dom},getType:function(){return this._type}})})();function JPath(a,b){this.json=a;this._parent=b}JPath.prototype={json:null,parent:null,"$":function(g){var l=null;var k=this;if(this.json&&g!==null){switch(typeof(g)){case"function":l=this.f(g).json;break;case"number":l=this.json[g]||null;break;case"string":var h=g.split("/");for(var d=0;d<h.length;d++){var b=new RegExp("^"+h[d].replace(/\*/g,".*")+"$");var f=(k.json instanceof Array);var j=new Array();for(var c in k.json){if(typeof(k.json[c])!="function"){if(f&&(arguments.callee.caller!=this.$$)){j=j.concat(this.findAllByRegExp(b,k.json[c]))}else{if(b.test(c)){j.push(k.json[c])}}}}k=new JPath((j.length==0?null:((j.length==1)?j[0]:j)),k)}return k;break}}return new JPath(l,this)},"$$":function(d){var b=this.$(d,true).json;var a=new Array();if(b instanceof Array){a=a.concat(b)}else{if(b!==null){a.push(b)}}for(var c in this.json){if(typeof(this.json[c])=="object"){a=a.concat(new JPath(this.json[c],this).$$(d).json)}}return new JPath(a,this)},findAllByRegExp:function(c,f){var b=new Array();for(var d in f){if(f instanceof Array){b=b.concat(this.findAllByRegExp(c,f[d]))}else{if(typeof(f[d])!="function"&&c.test(d)){b.push(f[d])}}}return b},query:function(str){var re={" and ":" && "," or ":" || ","([\\#\\*\\@a-z\\_][\\*a-z0-9_\\-]*)(?=(?:\\s|$|\\[|\\]|\\/))":"$('$1').","\\[([0-9])+\\]":"$($1).","\\.\\.":"parent().","//":"$","(^|\\[|\\s)\\/":"$1root().","\\/":"","([^\\=\\>\\<\\!])\\=([^\\=])":"$1==$2","\\[":"$(function(j){ with(j){return(","\\]":");}}).","\\(\\.":"(","(\\.|\\])(?!\\$|\\p)":"$1json","count\\(([^\\)]+)\\)":"count('$1')"};var quotes=/(\'|\")([^\1]*?)\1/;var saves=new Array();while(quotes.test(str)){saves.push(str.match(quotes)[2]);str=str.replace(quotes,"%"+(saves.length-1)+"%")}for(var e in re){str=str.replace(new RegExp(e,"ig"),re[e])}return eval("this."+str.replace(/\%(\d+)\%/g,"saves[$1]")+";")},f:function(iterator){var a=new Array();if(typeof(iterator)=="string"){eval("iterator = function(j){with(j){return("+iterator+");}}")}for(var p in this.json){var j=new JPath(this.json[p],this);j.index=p;if(iterator(j)){a.push(this.json[p])}}return new JPath(a,this)},parent:function(){return((this._parent)?this._parent:this)},position:function(){return this.index},last:function(){return(this.index==(this._parent.json.length-1))},count:function(b){var a=this.$(b||"*").json;return(a?(a instanceof Array?a.length:1):0)},root:function(){return(this._parent?this._parent.root():this)}};baidu.parser.Json=baidu.parser.Json||(function(){return function(a){var b=new baidu.parser.Parser(a);b._type=baidu.parser.type.JSON;baidu.extend(b,{_jPath:null,_parser:function(f){var c=this;if(baidu.lang.isString(f)){try{f=baidu.json.parse(f)}catch(d){return false}}c._jPath=new JPath(f);c._dom=c._jPath.root();return true},_query:function(d){var c=this;return c._jPath?c._jPath.query(d):[]}});return b}})();baidu.parser.Xml=baidu.parser.Xml||(function(){var c=window.ActiveXObject;var b=document.implementation&&document.implementation.createDocument;function a(){return new ActiveXObject("Microsoft.XMLDOM")}function d(f,g){if(c){f.async=false;f.loadXML(g);f.setProperty("SelectionNamespaces","xmlns:xsl='http://www.w3.org/1999/XSL/Transform'");f.setProperty("SelectionLanguage","XPath");return f.documentElement}else{if(b){return f.parseFromString(g,"text/xml")}}}return function(f){var g=new baidu.parser.Parser(f);g._type=baidu.parser.type.XML;baidu.extend(g,{_DOMParser:null,_parser:function(h){var i=this;if(!i._DOMParser){b&&(i._DOMParser=new DOMParser());c&&(i._DOMParser=a())}i._dom=d(i._DOMParser,h);return i._dom?true:false},_query:function(j){var k=this,i=[],h=null,l;if(c){i=k.getRoot().selectNodes(j)}else{if(b){l=k.getRoot().evaluate(j,k.getRoot(),null,XPathResult.ORDERED_NODE_ITERATOR_TYPE,null);while((h=l.iterateNext())!=null){i.push(h)}}}return i}});return g}})();baidu.ui=baidu.ui||{version:"1.3.9"};baidu.ui.getUI=function(c){var c=c.split("-"),b=baidu.ui,a=c.length,d=0;for(;d<a;d++){b=b[c[d].charAt(0).toUpperCase()+c[d].slice(1)]}return b};baidu.ui.create=function(b,a){if(baidu.lang.isString(b)){b=baidu.ui.getUI(b)}return new b(a)};baidu.ui.Base={id:"",getId:function(a){var c=this,b;b="tangram-"+c.uiType+"--"+(c.id?c.id:c.guid);return a?b+"-"+a:b},getClass:function(b){var d=this,c=d.classPrefix,a=d.skin;if(b){c+="-"+b;a+="-"+b}if(d.skin){c+=" "+a}return c},getMain:function(){return baidu.g(this.mainId)},getBody:function(){return baidu.g(this.getId())},uiType:"",getCallRef:function(){return"window['$BAIDU$']._instances['"+this.guid+"']"},getCallString:function(d){var c=0,b=Array.prototype.slice.call(arguments,1),a=b.length;for(;c<a;c++){if(typeof b[c]=="string"){b[c]="'"+b[c]+"'"}}return this.getCallRef()+"."+d+"("+b.join(",")+");"},on:function(a,b,c){baidu.on(a,b,c);this.addEventListener("ondispose",function(){baidu.un(a,b,c)})},renderMain:function(b){var d=this,c=0,a;if(d.getMain()){return}b=baidu.g(b);if(!b){b=document.createElement("div");document.body.appendChild(b);b.style.position="absolute";b.className=d.getClass("main")}if(!b.id){b.id=d.getId("main")}d.mainId=b.id;b.setAttribute("data-guid",d.guid);return b},dispose:function(){this.dispatchEvent("dispose");baidu.lang.Class.prototype.dispose.call(this)}};baidu.ui.createUI=function(c,k){k=k||{};var h=k.superClass||baidu.lang.Class,g=h==baidu.lang.Class?1:0,d,b,j=function(l,i){var m=this;l=l||{};h.call(m,!g?l:(l.guid||""),true);baidu.object.extend(m,j.options);baidu.object.extend(m,l);m.classPrefix=m.classPrefix||"tangram-"+m.uiType.toLowerCase();for(d in baidu.ui.behavior){if(typeof m[d]!="undefined"&&m[d]){baidu.object.extend(m,baidu.ui.behavior[d]);if(baidu.lang.isFunction(m[d])){m.addEventListener("onload",function(){baidu.ui.behavior[d].call(m[d].apply(m))})}else{baidu.ui.behavior[d].call(m)}}}c.apply(m,arguments);for(d=0,b=j._addons.length;d<b;d++){j._addons[d](m)}if(l.parent&&m.setParent){m.setParent(l.parent)}if(!i&&l.autoRender){m.render(l.element)}},a=function(){};a.prototype=h.prototype;var f=j.prototype=new a();for(d in baidu.ui.Base){f[d]=baidu.ui.Base[d]}j.extend=function(i){for(d in i){j.prototype[d]=i[d]}return j};j._addons=[];j.register=function(i){if(typeof i=="function"){j._addons.push(i)}};j.options={};return j};baidu.ui.Dialog=baidu.ui.createUI(function(a){var b=this;b._content="initElement";b.content=b.content||null;b._contentText="initText";b.contentText=b.contentText||"";b._titleText="initText";b.titleText=b.titleText||""}).extend({uiType:"dialog",width:"",height:"",top:"auto",left:"auto",zIndex:1000,tplDOM:"<div id='#{id}' class='#{class}' style='position:relative'>#{title}#{content}#{footer}</div>",tplTitle:"<div id='#{id}' class='#{class}'><span id='#{inner-id}' class='#{inner-class}'>#{content}</span></div>",tplContent:"<div id='#{id}' class='#{class}' style='overflow:hidden; position:relative'>#{content}</div>",tplFooter:"<div id='#{id}' class='#{class}'></div>",isShown:function(){return baidu.ui.Dialog.instances[this.guid]=="show"},getString:function(){var c=this,a,f="title",d="title-inner",b="content",g="footer";return baidu.format(c.tplDOM,{id:c.getId(),"class":c.getClass(),title:baidu.format(c.tplTitle,{id:c.getId(f),"class":c.getClass(f),"inner-id":c.getId(d),"inner-class":c.getClass(d),content:c.titleText||""}),content:baidu.format(c.tplContent,{id:c.getId(b),"class":c.getClass(b),content:c.contentText||""}),footer:baidu.format(c.tplFooter,{id:c.getId(g),"class":c.getClass(g)})})},render:function(){var b=this,a;if(b.getMain()){return}a=b.renderMain();a.innerHTML=b.getString();b._update();b._updatePosition();baidu.dom.setStyles(b.getMain(),{position:"absolute",zIndex:b.zIndex,marginLeft:"-100000px"});b.windowResizeHandler=b.getWindowResizeHandler();b.on(window,"resize",b.windowResizeHandler);b.dispatchEvent("onload");return a},_update:function(b){var d=this,c=d.getContent(),b=b||{},f=d.getTitleInner(),a=false;if(typeof b.titleText!="undefined"){f.innerHTML=b.titleText;d.titleText=d._titleText=b.titleText}else{if(d.titleText!=d._titleText){f.innerHTML=d.titleText;d._titleText=d.titleText}}if(typeof b.content!="undefined"){c.innerHTML="";d.content=b.content;if(b.content!==null){c.appendChild(b.content);d.content=d._content=c.firstChild;d.contentText=d._contentText=c.innerHTML;return}a=true}else{if(d.content!==d._content){c.innerHTML="";if(d.content!==null){c.appendChild(d.content);d.content=d._content=c.firstChild;d.contentText=d._contentText=c.innerHTML;return}a=true}}if(typeof b.contentText!="undefined"){c.innerHTML=b.contentText;d.contentText=d._contentText=b.contentText;d.content=d._content=c.firstChild}else{if((d.contentText!=d._contentText)||a){c.innerHTML=d.contentText;d._contentText=d.contentText;d.content=d._content=c.firstChild}}delete (b.content);delete (b.contentText);delete (b.titleText);baidu.extend(d,b)},getWindowResizeHandler:function(){var a=this;return function(){a._updatePosition()}},open:function(){var a=this;a._updatePosition();a.getMain().style.marginLeft="auto";baidu.ui.Dialog.instances[a.guid]="show";a.dispatchEvent("onopen")},close:function(){var a=this;if(a.dispatchEvent("onbeforeclose")){a.getMain().style.marginLeft="-100000px";baidu.ui.Dialog.instances[a.guid]="hide";a.dispatchEvent("onclose")}},update:function(a){var b=this;b._update(a);b._updatePosition();b.dispatchEvent("onupdate")},_getBodyOffset:function(){var g=this,b,c=g.getBody(),f=g.getContent(),i=g.getTitle(),j=g.getFooter();b={width:0,height:0};function d(m,l){var k=parseFloat(baidu.getStyle(m,l));k=isNaN(k)?0:k;k=baidu.lang.isNumber(k)?k:0;return k}baidu.each(["marginLeft","marginRight"],function(l,k){b.width+=d(f,l)});b.height+=i.offsetHeight+d(i,"marginTop");b.height+=j.offsetHeight+d(j,"marginBottom");var a=d(f,"marginTop"),h=d(i,"marginBottom");b.height+=a>=h?a:h;a=d(j,"marginTop"),h=d(f,"marginBottom");b.height+=a>=h?a:h;return b},_updatePosition:function(){var h=this,d,i="",j="",a="",c="",g=h.getContent(),f=h.getBody(),b,k;b=parseFloat(h.width);k=parseFloat(h.height);d=h._getBodyOffset();baidu.lang.isNumber(b)&&baidu.dom.setOuterWidth(g,b);baidu.lang.isNumber(k)&&baidu.dom.setOuterHeight(g,k);d.width+=g.offsetWidth;d.height+=g.offsetHeight;h.width&&baidu.setStyle(f,"width",d.width);h.height&&baidu.setStyle(f,"height",d.height);if((h.left&&h.left!="auto")||(h.right&&h.right!="auto")){c=h.left||"";j=h.right||""}else{c=Math.max((baidu.page.getViewWidth()-parseFloat(h.getMain().offsetWidth))/2+baidu.page.getScrollLeft(),0)}if((h.top&&h.top!="auto")||(h.bottom&&h.bottom!="auto")){i=h.top||"";a=h.bottom||""}else{i=Math.max((baidu.page.getViewHeight()-parseFloat(h.getMain().offsetHeight))/2+baidu.page.getScrollTop(),0)}baidu.dom.setStyles(h.getMain(),{top:i,right:j,bottom:a,left:c})},getTitle:function(){return baidu.g(this.getId("title"))},getTitleInner:function(){return baidu.g(this.getId("title-inner"))},getContent:function(){return baidu.g(this.getId("content"))},getFooter:function(){return baidu.g(this.getId("footer"))},dispose:function(){var a=this;delete baidu.ui.Dialog.instances[a.guid];a.dispatchEvent("dispose");baidu.dom.remove(a.getMain());baidu.lang.Class.prototype.dispose.call(a)}});baidu.ui.Dialog.instances=baidu.ui.Dialog.instances||{};baidu.ui.behavior=baidu.ui.behavior||{};(function(){var a=baidu.ui.behavior.resizable=function(){};a.resizeableHandle=null;a.resizeCreate=function(b){var c=this,d;b=b||{};if(!c.resizable){return}baidu.object.extend(c,b);c._resizeOption={onresizestart:function(){c.dispatchEvent("onresizestart")},onresize:function(f){c.dispatchEvent("onresize",f)},onresizeend:function(){c.dispatchEvent("onresizeend")}};baidu.each(["minWidth","minHeight","maxWidth","maxHeight"],function(g,f){c[g]&&(c._resizeOption[g]=c[g])});c._resizeOption.classPrefix=b.classPrefix||c.classPrefix;d=b.target||c.getBody();c.direction&&(c._resizeOption.direction=c.direction);c.resizeableHandle=baidu.dom.resizable(d,c._resizeOption)};a.resizeUpdate=function(b){this.resizeableHandle.update(b)};a.resizeCancel=function(){this.resizeableHandle.cancel()};a.resizeEnable=function(){this.resizeableHandle.enable()}})();baidu.extend(baidu.ui.Dialog.prototype,{resizable:true,minWidth:100,minHeight:100,direction:["s","e","se"]});baidu.ui.Dialog.register(function(g){if(g.resizable){var d,f,b,a,i,h,j;function c(){h=d.offsetWidth;j=d.offsetHeight;a=f.offsetWidth;i=f.offsetHeight}g.addEventListener("onload",function(){d=g.getBody();b=g.getMain();f=g.getContent();c();g.resizeCreate({target:b,classPrefix:g.classPrefix})});g.addEventListener("onresize",function(k){baidu.dom.setOuterWidth(f,a+k.current.width-k.original.width);baidu.dom.setOuterHeight(f,i+k.current.height-k.original.height);baidu.dom.setOuterWidth(d,h+k.current.width-k.original.width);baidu.dom.setOuterHeight(d,j+k.current.height-k.original.height);g.coverable&&g.Coverable_update()});g.addEventListener("onresizeend",function(){c();g.width=a;g.height=i;baidu.setStyles(b,{height:"",width:""})});g.addEventListener("onupdate",function(){c();g.resizeUpdate()});g.addEventListener("onopen",function(){c();g.resizeUpdate()})}});(function(){var a=baidu.ui.behavior.draggable=function(){this.addEventListener("onload",function(){var b=this;b.dragUpdate()});this.addEventListener("ondispose",function(){var b=this;baidu.un(b._dragOption.handler,"mousedown",b._dragFn);b._dragOption.handler=b.dragHandler=b._lastDragHandler=null})};a.dragUpdate=function(b){var c=this;b=b||{};if(!c.draggable){return}if(c._lastDragHandler&&c._dragFn){baidu.event.un(c._lastDragHandler,"onmousedown",c._dragFn)}baidu.object.extend(c,b);c._dragOption={ondragstart:function(){c.dispatchEvent("ondragstart")},ondrag:function(){c.dispatchEvent("ondrag")},ondragend:function(){c.dispatchEvent("ondragend")},autoStop:true};c._dragOption.range=c.dragRange||[];c._dragOption.handler=c._lastDragHandler=c.dragHandler||c.getMain();if(c._dragOption.handler){baidu.event.on(c._dragOption.handler,"onmousedown",c._dragFn=function(){baidu.dom.drag(c.dragTarget||c.getMain(),c._dragOption)})}}})();baidu.ui.Dialog.prototype.draggable=true;baidu.ui.Dialog.register(function(b){if(b.draggable){function a(){b.dragRange=[0,baidu.page.getWidth(),baidu.page.getHeight(),0];b.dragUpdate()}b.addEventListener("onload",function(){b.dragHandler=b.dragHandler||b.getTitle();if(!b.dragRange){a();b.on(window,"resize",a)}else{b.dragUpdate()}});b.addEventListener("ondragend",function(){b.left=baidu.dom.getStyle(b.getMain(),"left");b.top=baidu.dom.getStyle(b.getMain(),"top")})}});(function(){var a=baidu.ui.behavior.coverable=function(){};a.Coverable_isShowing=false;a.Coverable_iframe;a.Coverable_container;a.Coverable_iframeContainer;a.Coverable_show=function(){var i=this;if(i.Coverable_iframe){i.Coverable_update();baidu.setStyle(i.Coverable_iframe,"display","block");return}var g=i.coverableOptions||{},c=i.Coverable_container=g.container||i.getMain(),f=g.opacity||"0",d=g.color||"",h=i.Coverable_iframe=document.createElement("iframe"),b=i.Coverable_iframeContainer=document.createElement("div");baidu.dom.children(c).length>0?baidu.dom.insertBefore(b,c.firstChild):c.appendChild(b);baidu.setStyles(b,{position:"absolute",top:"0px",left:"0px"});baidu.dom.setBorderBoxSize(b,{width:c.offsetWidth,height:c.offsetHeight});baidu.dom.setBorderBoxSize(h,{width:b.offsetWidth});baidu.dom.setStyles(h,{zIndex:-1,display:"block",border:0,backgroundColor:d,filter:"progid:DXImageTransform.Microsoft.Alpha(style=0,opacity="+f+")"});b.appendChild(h);h.src="javascript:void(0)";h.frameBorder="0";h.scrolling="no";h.height="97%";i.Coverable_isShowing=true};a.Coverable_hide=function(){var c=this,b=c.Coverable_iframe;if(!c.Coverable_isShowing){return}baidu.setStyle(b,"display","none");c.Coverable_isShowing=false};a.Coverable_update=function(d){var g=this,d=d||{},c=g.Coverable_container,b=g.Coverable_iframeContainer,f=g.Coverable_iframe;baidu.dom.setBorderBoxSize(b,{width:c.offsetWidth,height:c.offsetHeight});baidu.dom.setBorderBoxSize(f,baidu.extend({width:baidu.getStyle(b,"width")},d))}})();baidu.extend(baidu.ui.Dialog.prototype,{coverable:true,coverableOptions:{}});baidu.ui.Dialog.register(function(a){if(a.coverable){a.addEventListeners("onopen,onload",function(){a.Coverable_show()});a.addEventListener("onclose",function(){a.Coverable_hide()});a.addEventListener("onupdate",function(){a.Coverable_update()})}});baidu.ui.Base.setParent=function(b){var c=this,a=c._parent;a&&a.dispatchEvent("removechild");if(b.dispatchEvent("appendchild",{child:c})){c._parent=b}};baidu.ui.Base.getParent=function(){return this._parent||null};(function(){var a=baidu.ui.behavior.statable=function(){var b=this;b.addEventListeners("ondisable,onenable",function(g,d){var f,h,d=d||{},c=(d.element||b.getMain()).id,h=d.group;if(g.type=="ondisable"&&!b.getState(c,h)["disabled"]){b.removeState("press",c,h);b.removeState("hover",c,h);b.setState("disabled",c,h)}else{if(g.type=="onenable"&&b.getState(c,h)["disabled"]){b.removeState("disabled",c,h)}}})};a._states={};a._allStates=["hover","press","disabled"];a._allEventsName=["mouseover","mouseout","mousedown","mouseup"];a._eventsHandler={mouseover:function(d,c){var b=this;if(!b.getState(d,c)["disabled"]){b.setState("hover",d,c);return true}},mouseout:function(d,c){var b=this;if(!b.getState(d,c)["disabled"]){b.removeState("hover",d,c);b.removeState("press",d,c);return true}},mousedown:function(d,c){var b=this;if(!b.getState(d,c)["disabled"]){b.setState("press",d,c);return true}},mouseup:function(d,c){var b=this;if(!b.getState(d,c)["disabled"]){b.removeState("press",d,c);return true}}};a._getStateHandlerString=function(j,g){var h=this,f=0,b=h._allEventsName.length,c=[],d;if(typeof j=="undefined"){j=g=""}for(;f<b;f++){d=h._allEventsName[f];c[f]="on"+d+'="'+h.getCallRef()+"._fireEvent('"+d+"', '"+j+"', '"+g+"', event)\""}return c.join(" ")};a._fireEvent=function(c,g,b,f){var d=this,h=d.getId(g+b);if(d._eventsHandler[c].call(d,h,g)){d.dispatchEvent(c,{element:h,group:g,key:b,DOMEvent:f})}};a.addState=function(f,b,c){var d=this;d._allStates.push(f);if(b){d._allEventsName.push(b);if(!c){c=function(){return true}}d._eventsHandler[b]=c}};a.getState=function(b,f){var d=this,c;f=f?f+"-":"";b=b?b:d.getId();c=d._states[f+b];return c?c:{}};a.setState=function(f,b,g){var d=this,h,c;g=g?g+"-":"";b=b?b:d.getId();h=g+b;d._states[h]=d._states[h]||{};c=d._states[h][f];if(!c){d._states[h][f]=1;baidu.addClass(b,d.getClass(g+f))}};a.removeState=function(d,b,f){var c=this,g;f=f?f+"-":"";b=b?b:c.getId();g=f+b;if(c._states[g]){c._states[g][d]=0;baidu.removeClass(b,c.getClass(f+d))}}})();baidu.ui.Button=baidu.ui.createUI(new Function).extend({uiType:"button",tplBody:'<div id="#{id}" #{statable} class="#{class}">#{content}</div>',disabled:false,statable:true,_getString:function(){var a=this;return baidu.format(a.tplBody,{id:a.getId(),statable:a._getStateHandlerString(),"class":a.getClass(),content:a.content})},render:function(c){var b=this,a;b.addState("click","click",function(g,f){var d=this;if(!d.getState(g,f)["disabled"]){return true}});baidu.dom.insertHTML(b.renderMain(c),"beforeEnd",b._getString());a=baidu.g(c).lastChild;if(b.title){a.title=b.title}b.disabled&&b.setState("disabled");b.dispatchEvent("onload")},isDisabled:function(){var a=this,b=a.getId();return a.getState()["disabled"]},dispose:function(){var b=this,a=b.getBody();b.dispatchEvent("dispose");baidu.each(b._allEventsName,function(d,c){a["on"+d]=null});baidu.dom.remove(a);b.dispatchEvent("ondispose");baidu.lang.Class.prototype.dispose.call(b)},disable:function(){var b=this,a=b.getBody();b.dispatchEvent("ondisable",{element:a})},enable:function(){var a=this;body=a.getBody();a.dispatchEvent("onenable",{element:body})},fire:function(a,c){var b=this,a=a.toLowerCase();if(b.getState()["disabled"]){return}b._fireEvent(a,null,null,c)},update:function(a){var b=this;baidu.extend(b,a);a.content&&(b.getBody().innerHTML=a.content);b.dispatchEvent("onupdate")}});baidu.extend(baidu.ui.Dialog.prototype,{closeText:"",closeButton:true});baidu.ui.Dialog.register(function(a){a.closeButton&&a.addEventListener("onload",function(){var b=new baidu.ui.Button({parent:a,classPrefix:a.classPrefix+"-close",skin:a.skin?a.skin+"-close":"",onclick:function(){a.close()},onmousedown:function(c){baidu.event.stopPropagation(c.DOMEvent)},element:a.getTitle(),autoRender:true});a.closeButtonInstance=b;a.addEventListener("ondispose",function(){b.dispose()})})});baidu.ui.ItemSet=baidu.ui.createUI(function(a){var b=this;b._headIds=[];b._bodyIds=[]}).extend({currentClass:"current",tplHead:"",tplBody:"",switchType:"click",defaultIndex:0,_getHeadString:function(f,b){var d=this,c=d._headIds,a=d.getId("head"+baidu.lang.guid()),b=c[b]?b:c.length;c.splice(b,0,a);return baidu.string.format(d.tplHead,{id:a,"class":d.getClass("head"),head:f.head})},_getBodyString:function(d,a){var c=this,b=c._bodyIds,f=c.getId("body"+baidu.lang.guid()),a=b[a]?a:b.length;b.splice(a,0,f);return baidu.string.format(c.tplBody,{id:f,"class":c.getClass("body"),body:d.body,display:"none"})},_getSwitchHandler:function(a){var b=this;if(b.dispatchEvent("onbeforeswitch",{element:a})){b.switchByHead(a);b.dispatchEvent("onswitch")}},_addSwitchEvent:function(a){var b=this;a["on"+b.switchType]=baidu.fn.bind("_getSwitchHandler",b,a)},render:function(b){var a=this;baidu.dom.insertHTML(a.renderMain(b),"beforeEnd",a.getString());baidu.array.each(a._headIds,function(f,c){var d=baidu.dom.g(f);a._addSwitchEvent(d);if(c==a.defaultIndex){a.setCurrentHead(d);baidu.dom.addClass(d,a.getClass(a.currentClass));a.getBodyByHead(d).style.display=""}d=null});a.dispatchEvent("onload")},getHeads:function(){var a=this,b=[];baidu.array.each(a._headIds,function(c){b.push(baidu.dom.g(c))});return b},getBodies:function(){var a=this,b=[];baidu.array.each(a._bodyIds,function(c){b.push(baidu.dom.g(c))});return b},getCurrentHead:function(){return this.currentHead},setCurrentHead:function(a){this.currentHead=a},getBodyByHead:function(b){var c=this,a=baidu.array.indexOf(c._headIds,b.id);return baidu.dom.g(c._bodyIds[a])},getBodyByIndex:function(a){return baidu.dom.g(this._bodyIds[a])},addItem:function(c){var b=this,a=b._headIds.length;b.insertItemHTML(c)},removeItem:function(b){var d=this,c=baidu.dom.g(d._headIds[b]),a=baidu.dom.g(d._bodyIds[b]),f=d.getCurrentHead();f&&f.id==c.id&&d.setCurrentHead(null);baidu.dom.remove(c);baidu.dom.remove(a);baidu.array.removeAt(d._headIds,b);baidu.array.removeAt(d._bodyIds,b)},_switch:function(a){var c=this,b=c.getCurrentHead();if(b){c.getBodyByHead(b).style.display="none";baidu.dom.removeClass(b,c.getClass(c.currentClass))}if(a){c.setCurrentHead(a);c.getBodyByHead(a).style.display="block";baidu.dom.addClass(a,c.getClass(c.currentClass))}},switchByHead:function(a){var b=this;if(b.dispatchEvent("beforeswitchbyhead",{element:a})){b._switch(a)}},switchByIndex:function(a){this.switchByHead(this.getHeads()[a])},dispose:function(){this.dispatchEvent("ondispose")}});baidu.ui.Tab=baidu.ui.createUI(function(a){var b=this;b.items=b.items||[]},{superClass:baidu.ui.ItemSet}).extend({uiType:"tab",tplDOM:"<div id='#{id}' class='#{class}'>#{heads}#{bodies}</div>",tplHeads:"<ul id='#{id}' class='#{class}'>#{heads}</ul>",tplBodies:"<div id='#{id}' class='#{class}'>#{bodies}</div>",tplHead:"<li id='#{id}' bodyId='#{bodyId}' class='#{class}' ><a href='#' onclick='return false'>#{head}</a></li>",tplBody:"<div id='#{id}' class='#{class}' style='display : #{display};'>#{body}</div>",getString:function(){var d=this,b=this.items,a=[],c=[];baidu.each(b,function(g,f){a.push(d._getBodyString(g,f));c.push(d._getHeadString(g,f))});return baidu.format(d.tplDOM,{id:d.getId(),"class":d.getClass(),heads:baidu.format(d.tplHeads,{id:d.getId("head-container"),"class":d.getClass("head-container"),heads:c.join("")}),bodies:baidu.format(d.tplBodies,{id:d.getId("body-container"),"class":d.getClass("body-container"),bodies:a.join("")})})},insertItemHTML:function(g,b){var f=this,d=f._headIds,a=f._bodyIds,b=d[b]?b:d.length,c=baidu.dom.g(d[b]||f.getId("head-container")),i=baidu.dom.g(a[b]||f.getId("body-container")),h=d[b]?"beforeBegin":"beforeEnd";baidu.dom.insertHTML(c,h,f._getHeadString(g,b));baidu.dom.insertHTML(i,h,f._getBodyString(g,b));f._addSwitchEvent(baidu.dom.g(d[b]))},insertContentHTML:function(c,a){var b=this;baidu.dom.insertHTML(b.getBodies()[a],"beforeEnd",c)},dispose:function(){var a=this;a.dispatchEvent("ondispose");baidu.dom.remove(a.getMain());baidu.lang.Class.prototype.dispose.call(a)}});baidu.tools=baidu.tools||{};(function(){var k=[],j={},f=null,g=0,b=parseInt("1111",2),i=false,a=null;function c(l){h(l,"log")}c.error=function(l){h(l,"error")};c.info=function(l){h(l,"info")};c.warn=function(l){h(l,"warn")};c.time=function(m){var l=j[m],n=new Date().getTime();if(l){h(n-l,"info")}j[m]=n};c.timeEnd=function(m){var l=j[m],n=new Date().getTime();if(l){h(n-l,"info");delete (j[m])}else{h("timer not exist","error")}};c.enableDialog=function(){i=true;if(!a&&baidu.tools.log.Dialog){baidu.tools.log.DInstance=a=new baidu.tools.log.Dialog()}else{a.open()}};c.disableDialog=function(){i=false;a&&a.close()};function h(n,l){var m=c;if(b&m.logLevel[l]){k.push({type:l,data:n})}if(g==0){d()}else{!f&&(f=setInterval(d,g))}}function d(){var l=c,m=k;k=[];a&&a.push(m);l.callBack(m)}c.setTimeInterval=function(l){g=l;if(f&&g==0){clearInterval(f);f=null}};c.setLogLevel=function(){var m=c,l=parseInt("0000",2);baidu.each(arguments,function(n){l=l|m.logLevel[n]});b=l};c.logLevel={log:parseInt("0001",2),info:parseInt("0010",2),warn:parseInt("0100",2),error:parseInt("1000",2)};c.callBack=baidu.fn.blank;baidu.log=baidu.tools.log=c})();baidu.tools.log.Dialog=function(a){var b=this,a=a||{};b.dialog=new baidu.ui.Dialog({width:"522",height:"250",titleText:"tangram debug window",left:"380px",top:"130px"},a.dialogOptions||{});b.dialog.render();b.dialog.open();b.tab=new baidu.ui.Tab({items:[{head:"all"},{head:"log"},{head:"info"},{head:"warn"},{head:"error"}]});b.tab.render(b.dialog.getContent());b.tabIndex={all:0,log:1,info:2,warn:3,error:4};b.logTpl={data:"<div>#{content}</div>",content:"<span>#{content}</span>",split:'<div style="height:1px; background-color:white;"></div>'};b.color={log:"black",info:"yellow",warn:"blue",error:"red"}};baidu.tools.log.Dialog.prototype={_verifyFunction:[[baidu.lang.isString,"String"],[baidu.lang.isNumber,"Number"],[baidu.lang.isDate,"Date"],[baidu.lang.isArray,"Array"],[baidu.lang.isObject,"Object"]],open:function(){this.dialog.open()},close:function(){this.dialog.close()},push:function(d){var c=this,d=d||[],b=[],a=[];baidu.each(d,function(g,f){b.push(c._getString(g));b.push(c.logTpl.split)});b=b.join("");c.tab.insertContentHTML(b,c.tabIndex.all)},clear:function(a){var b=this,a=a||"all";if(a=="all"){baidu.object.each(b.tab.bodies,function(d,c){d.innerHTML=""})}else{b.tab.insertContentHTML("",b.index[a])}},_getString:function(d){var c=this,b=d.type,a=d.data,f="";f=baidu.format(c.logTpl.data,{content:baidu.format(c.logTpl.content,{content:c._getContentString(a)})});c.tab.insertContentHTML(f,c.tabIndex[b]);c.tab.insertContentHTML(c.logTpl.split,c.tabIndex[b]);return f},_getContentString:function(b){var a=this,c="";baidu.each(a._verifyFunction,function(d,f){if(d[0](b)){c=a["_echo"+d[1]](b);return false}});return c},_echoArray:function(c){var b=this,a=[];baidu.each(c,function(f,d){a.push(b._getContentString(f))});return"["+a.join(", ")+"]"},_echoObject:function(c){var b=this,a=[];baidu.object.each(c,function(f,d){a.push(d+"="+b._getContentString(f))});return"Object { "+a.join(", ")+" }"},_echoDate:function(a){return a.toString()},_echoString:function(a){return'"'+a.toString()+'"'},_echoNumber:function(a){return a.toString()}};baidu.ui.Accordion=baidu.ui.createUI(function(a){var b=this;b.items=b.items||[]},{superClass:baidu.ui.ItemSet}).extend({uiType:"accordion",target:document.body,tplDOM:"<div id='#{id}' class='#{class}'>#{items}</div>",tplHead:'<div id="#{id}" bodyId="#{bodyId}" class="#{class}" >#{head}</div>',tplBody:"<div id='#{id}' class='#{class}' style='display:#{display};'>#{body}</div>",getString:function(){var b=this,a=this.items,c=[];baidu.each(a,function(f,d){c.push(b._getHeadString(f)+b._getBodyString(f))});return baidu.format(this.tplDOM,{id:b.getId(),"class":b.getClass(),items:c.join("")})},insertItemHTML:function(f,b){var d=this,c=d._headIds,b=c[b]?b:c.length,a=baidu.dom.g(c[b])||d.getBody(),g=c[b]?"beforeBegin":"beforeEnd";baidu.dom.insertHTML(a,g,d._getHeadString(f,b));baidu.dom.insertHTML(a,g,d._getBodyString(f,b));d._addSwitchEvent(baidu.dom.g(c[b]))},collapse:function(){var a=this;if(a.dispatchEvent("beforecollapse")){if(a.getCurrentHead()){a._switch(null);a.setCurrentHead(null)}}},dispose:function(){var a=this;a.dispatchEvent("ondispose");baidu.dom.remove(a.getMain());baidu.lang.Class.prototype.dispose.call(a)}});baidu.ui.Accordion.register(function(a){a.addEventListeners({beforeswitchbyhead:function(d){var h=a.getCurrentHead(),f=h&&a.getBodyByHead(h),i=a.getBodyByHead(d.element),c=h&&h.id,g,b;if(!baidu.fx.current(a._fxElement)&&c!=d.element.id){a._fxElement=i;baidu.fx.expand(i,baidu.object.extend({onafterfinish:function(){a._switch(d.element);if(f){f.style.height=i.style.height;f.style.overflow="auto"}}},f?{onbeforestart:function(){baidu.dom.removeClass(h,a.getClass(a.currentClass));baidu.dom.addClass(d.element,a.getClass(a.currentClass));f.style.overflow="hidden";f.style.height=parseInt(baidu.dom.getStyle(f,"height"))-1+"px"},onbeforeupdate:function(){b=parseInt(baidu.dom.getStyle(i,"height"))},onafterupdate:function(){f.style.height=parseInt(baidu.dom.getStyle(f,"height"))-parseInt(baidu.dom.getStyle(i,"height"))+b+"px"}}:{}))}d.returnValue=false},beforecollapse:function(c){c.returnValue=false;var d=a.getCurrentHead(),b=d&&a.getBodyByHead(d);if(baidu.fx.current(a._fxElement)||!b){return}baidu.fx.collapse(b,{onafterfinish:function(){a.setCurrentHead(null)}})}})});baidu.ui.Decorator=baidu.ui.createUI(function(a){}).extend({uiType:"decorator",type:"box",tpl:{box:"<table cellspacing='0' cellpadding='0' border='0' id='#{id}'><tr><td #{class}></td><td #{class}></td><td #{class}></td></tr><tr><td #{class}><i style='visibility:hidden'>&nbsp;</i></td><td #{class} id='#{innerWrapId}' valign='top'></td><td #{class}><i style='visibility:hidden'>&nbsp;</i></td></tr><tr><td #{class}></td><td #{class}></td><td #{class}></td></tr></table>"},tplClass:{box:["lt","ct","rt","lc","cc","rc","lb","cb","rb"]},getInner:function(){return baidu.g(this.innerId)},getBox:function(){return baidu.g(this.getId("table"))},_getBodyWrap:function(){return baidu.g(this.getId("body-wrap"))},render:function(){var d=this,c=document.createElement("div"),b=d.ui.getMain(),a=b.style,f=0;document.body.appendChild(c);d.renderMain(c),c.className=d.getClass(d.type+"-main");c.innerHTML=baidu.format(d.tpl[d.type],{id:d.getId("table"),"class":function(g){return"class='"+d.getClass(d.type+"-"+d.tplClass[d.type][f++])+"'"},innerWrapId:d.getId("body-wrap")});baidu.each(baidu.dom.children(b),function(g){d._getBodyWrap().appendChild(g)});b.appendChild(c);d.innerId=b.id;b.getBodyHolder=d._getBodyWrap()}});(function(){var a=baidu.ui.behavior.decorator=function(){this.addEventListener("onload",function(){var c=this,b;baidu.each(c.decorator,function(f,d){b={ui:c,skin:c.skin};if(baidu.lang.isString(f)){b.type=f}else{baidu.extend(b,f)}c._decoratorInstance[d]=new baidu.ui.Decorator(b);c._decoratorInstance[d].render()})});this.addEventListener("ondispose",function(){this._decoratorInstance=[];baidu.each(this._decoratorInstance,function(b){b.dispose()})})};a._decoratorInstance=[];a.getDecorator=function(){var b=this._decoratorInstance;return b.length>0?b:b[0]}})();(function(){var a=baidu.ui.behavior.droppable=function(){var b=this;b.dropOptions=baidu.extend({ondropover:function(c){b.dispatchEvent("ondropover",c)},ondropout:function(c){b.dispatchEvent("ondropout",c)},ondrop:function(c){b.dispatchEvent("ondrop",c)}},b.dropOptions);b.addEventListener("onload",function(){b.dropHandler=b.dropHandler||b.getBody();b.dropUpdate(b)})};a.dropUpdate=function(b){var c=this;b&&baidu.extend(c,b);c._theDroppable&&c._theDroppable.cancel();if(!(c.droppable)){return}c._theDroppable=baidu.dom.droppable(c.dropHandler,c.dropOptions)}})();(function(){var b=baidu.ui.behavior.posable=function(){};b.setPosition=function(h,f,d){f=baidu.g(f)||this.getMain();d=d||{};var g=this,c=[f,h,d];g.__execPosFn(f,"_positionByCoordinate",d.once,c)};b._positionByCoordinate=function(c,r,s,f){r=r||[0,0];s=s||{};var o=this,p={},m=baidu.page.getViewHeight(),q=baidu.page.getViewWidth(),j=baidu.page.getScrollLeft(),h=baidu.page.getScrollTop(),g=c.offsetWidth,i=c.offsetHeight,d=c.offsetParent,n=(!d||d==document.body)?{left:0,top:0}:baidu.dom.getPosition(d);s.position=(typeof s.position!=="undefined")?s.position.toLowerCase():"bottomright";r=a(r||[0,0]);s.offset=a(s.offset||[0,0]);r.x+=(s.position.indexOf("right")>=0?(r.width||0):0);r.y+=(s.position.indexOf("bottom")>=0?(r.height||0):0);p.left=r.x+s.offset.x-n.left;p.top=r.y+s.offset.y-n.top;switch(s.insideScreen){case"surround":p.left+=p.left<j?g+(r.width||0):((p.left+g)>(j+q)?-g-(r.width||0):0);p.top+=p.top<h?i+(r.height||0):((p.top+i)>(h+m)?-i-(r.height||0):0);break;case"fix":p.left=Math.max(0-parseFloat(baidu.dom.getStyle(c,"marginLeft"))||0,Math.min(p.left,baidu.page.getViewWidth()-g-n.left));p.top=Math.max(0-parseFloat(baidu.dom.getStyle(c,"marginTop"))||0,Math.min(p.top,baidu.page.getViewHeight()-i-n.top));break;case"verge":var l={width:(s.position.indexOf("right")>-1?r.width:0),height:(s.position.indexOf("bottom")>-1?r.height:0)},k={width:(s.position.indexOf("bottom")>-1?r.width:0),height:(s.position.indexOf("right")>-1?r.height:0)};p.left-=(s.position.indexOf("right")>=0?(r.width||0):0);p.top-=(s.position.indexOf("bottom")>=0?(r.height||0):0);p.left+=p.left+l.width+g-j>q-n.left?k.width-g:l.width;p.top+=p.top+l.height+i-h>m-n.top?k.height-i:l.height;break}baidu.dom.setPosition(c,p);if(!f&&(m!=baidu.page.getViewHeight()||q!=baidu.page.getViewWidth())){o._positionByCoordinate(c,r,{},true)}f||o.dispatchEvent("onpositionupdate")};b.__execPosFn=function(d,h,f,c){var g=this;if(typeof f=="undefined"||!f){baidu.event.on(baidu.dom.getWindow(d),"resize",baidu.fn.bind.apply(g,[h,g].concat([].slice.call(c))))}g[h].apply(g,c)};function a(c){c.x=c[0]||c.x||c.left||0;c.y=c[1]||c.y||c.top||0;return c}})();baidu.ui.behavior.posable.setPositionByElement=function(c,b,a){c=baidu.g(c);b=baidu.g(b)||this.getMain();a=a||{};this.__execPosFn(b,"_setPositionByElement",a.once,arguments)};baidu.ui.behavior.posable._setPositionByElement=function(d,b,a){var c=baidu.dom.getPosition(d);a.once=false;a.insideScreen=a.insideScreen||"verge";c.width=d.offsetWidth;c.height=d.offsetHeight;this._positionByCoordinate(b,c,a,true)};baidu.ui.behavior.posable.setPositionByMouse=function(b,a){var c=this;b=baidu.g(b)||c.getMain();c._positionByCoordinate(b,baidu.page.getMousePosition(),a)};(function(){var b=baidu.ui.behavior.sortable=function(){this.addEventListener("dispose",function(){baidu.event.un(me.element,"onmousedown",handlerMouseDown)})};b.sortUpdate=function(p,j,k){var i,l,m,n=this,o,k=k||{};if(n.sortDisabled){return false}k.sortElements=p;baidu.object.extend(n,k);n.sortHandlers=n.sortHandlers||n.sortElements;n.element=j;n.sortRangeElement=baidu.g(n.sortRangeElement)||document.body;o=baidu.dom.getPosition(n.sortRangeElement);if(n.sortElements){n._sortPosition=baidu.dom.getStyle(n.sortElements[0],"position")}if(!n.sortRange){n.sortRange=[o.top,o.left+n.sortRangeElement.offsetWidth,o.top+n.sortRangeElement.offsetHeight,o.left]}baidu.event.on(n.element,"onmousedown",a)};function g(m,l){var j=m.length,k=0;for(;k<j;k++){if(m[k]==l){return true}}}function a(l){var j=baidu.event.getTarget(l),i=baidu.dom.getPosition(j),k=j.offsetParent,m=(k.tagName=="BODY")?{left:0,top:0}:baidu.dom.getPosition(k);if(!g(me.sortElements,j)){return false}baidu.dom.setStyles(j,{left:(i.left-m.left)+"px",top:(i.top-m.top)+"px",position:"absolute"});me._sortBlankDivId=me._sortBlankDivId||c(j,me).id;baidu.dom.drag(j,{range:me.sortRange,ondragstart:function(n){me.sortElementsMap=d(me.sortHandlers);me.dispatchEvent("sortstart",{trigger:n})},ondrag:function(p){var r=me.sortHandlers,q=0,o=r.length,s,n=baidu.dom.getPosition(p);s=h(n.left,n.top,p.offsetWidth,p.offsetHeight,me.sortElementsMap);if(s!=null){me._sortTarget=s;baidu.dom.insertAfter(f(me),s)}me.dispatchEvent("sort",{trigger:p})},ondragend:function(n){if(me._sortTarget){baidu.dom.insertAfter(n,me._sortTarget);me.dispatchEvent("sortend",{trigger:n,reciever:me._sortTarget})}baidu.dom.remove(f(me));me._sortBlankDivId=null;baidu.dom.setStyles(n,{position:me._sortPosition,left:"0px",top:"0px"})}})}function h(l,s,k,t,j){var p,o,m,v,u,q,r=Math.max,n=Math.min;for(p in j){q=p.split("-");v=+q[0];u=+q[1];m=+q[2];o=+q[3];if(r(v,l)<=n(v+m,l+k)&&r(u,s)<=n(u+o,s+t)){return j[p]}}return null}function d(j){var k={},i;baidu.each(j,function(l){i=baidu.dom.getPosition(l);k[i.left+"-"+i.top+"-"+l.offsetWidth+"-"+l.offsetHeight]=l});return k}function f(i){return baidu.g(i.getId("sortBlankDiv"))}function c(i,j){var k=baidu.dom.create("div",{id:j.getId("sortBlankDiv"),className:i.className});baidu.dom.setStyles(k,{width:i.offsetWidth+"px",height:i.offsetHeight+"px",borderWidth:"0px"});baidu.dom.insertBefore(k,i);return k}})();baidu.extend(baidu.ui.behavior.statable,{_statableMouseHandler:function(b,c,a,d){this._fireEvent(b,c,a,d)},setStateHandler:function(b,f,a){var d=this,c={};if(typeof a=="undefined"){f=a=""}baidu.array.each(d._allEventsName,function(g){c[g]=baidu.fn.bind("_statableMouseHandler",d,g,f,a);baidu.event.on(b,g,c[g])});d.addEventListener("dispose",function(){baidu.object.each(c,function(h,g){baidu.event.un(b,g,h)})})}});baidu.ui.Button.register(function(a){if(!a.capture){return}a.addEventListener("load",function(){var b=a.getBody(),c=baidu.fn.bind(function(f){var g=baidu.event.getTarget(f);if(g!=b&&!baidu.dom.contains(b,g)&&a.getState()["press"]){a.fire("mouseout",f)}}),d=function(f){if(!a.getState()["press"]){a.fire("mouseout",f)}};b.onmouseout=null;a.on(b,"mouseout",d);a.on(document,"mouseup",c)})});baidu.ui.Button.register(function(a){if(!a.poll){return}baidu.lang.isBoolean(a.poll)&&(a.poll={});a.addEventListener("mousedown",function(b){var d=0,c=a.poll.interval||100,f=a.poll.time||0;(function(){if(a.getState()["press"]){d++>f&&a.onmousedown&&a.onmousedown();a.poll.timeOut=setTimeout(arguments.callee,c)}})()});a.addEventListener("dispose",function(){if(a.poll.timeOut){a.disable();window.clearTimeout(a.poll.timeOut)}})});baidu.ui.Calendar=baidu.ui.createUI(function(a){var b=this;b.flipContent=baidu.object.extend({prev:"&lt;",next:"&gt;"},b.flipContent);b.addEventListener("mouseup",function(c){var g=c.element,d=b._dates[g],f=baidu.dom.g(b._currElementId);f&&baidu.dom.removeClass(f,b.getClass("date-current"));b._currElementId=g;b._initDate=d;baidu.dom.addClass(baidu.dom.g(g),b.getClass("date-current"));b.dispatchEvent("clickdate",{date:d})})}).extend({uiType:"calendar",weekStart:"Sun",statable:true,language:"zh-CN",tplDOM:'<div id="#{id}" class="#{class}">#{content}</div>',tplTable:'<table border="0" cellpadding="0" cellspacing="1" class="#{class}"><thead class="#{headClass}">#{head}</thead><tbody class="#{bodyClass}">#{body}</tbody></table>',tplDateCell:'<td id="#{id}" class="#{class}" #{handler}>#{content}</td>',tplTitle:'<div id="#{id}" class="#{class}"><div id="#{labelId}" class="#{labelClass}">#{text}</div><div id="#{prevId}" class="#{prevClass}"></div><div id="#{nextId}" class="#{nextClass}"></div></div>',_initialize:function(){var a=this;function b(d){var c=[];baidu.array.each(d,function(f){c.push(baidu.lang.isDate(f)?a._toLocalDate(f):{start:a._toLocalDate(f.start),end:a._toLocalDate(f.end)})});return c}a._highlightDates=b(a.highlightDates||[]);a._disableDates=b(a.disableDates||[]);a._initDate=a._toLocalDate(a.initDate||new Date());a._currDate=new Date(a._initDate.getTime());a.weekStart=a.weekStart.toLowerCase()},_getDateJson:function(b){var g=this,a=baidu.lang.guid(),i=g._currDate,d=[],f;function h(k,j){return k.getDate()==j.getDate()&&Math.abs(k.getTime()-j.getTime())<24*60*60*1000}function c(l,j){var k=j.getTime();return baidu.array.some(l,function(m){if(baidu.lang.isDate(m)){return h(m,j)}else{return h(m.start,j)||k>m.start.getTime()&&k<=m.end.getTime()}})}b.getMonth()!=i.getMonth()&&d.push(g.getClass("date-other"));c(g._highlightDates,b)&&d.push(g.getClass("date-highlight"));if(h(g._initDate,b)){d.push(g.getClass("date-current"));g._currElementId=g.getId(a)}h(g._toLocalDate(new Date()),b)&&d.push(g.getClass("date-today"));f=c(g._disableDates,b)&&(d=[]);return{id:g.getId(a),"class":d.join("\x20"),handler:g._getStateHandlerString("",a),date:b,disabled:f}},_getMonthCount:function(c,f){var a=baidu.i18n.date.getDaysInMonth,b=[31,28,31,30,31,30,31,31,30,31,30,31],d;a&&(d=a(c,f));if(!baidu.lang.isNumber(d)){d=1==f&&(c%4)&&(c%100!=0||c%400==0)?29:b[f]}return d},_getDateTableString:function(){var p=this,g=baidu.i18n.cultures[p.language].calendar,a=["sun","mon","tue","wed","thu","fri","sat"],t=p._currDate,q=t.getFullYear(),o=t.getMonth(),r=new Date(q,o,1).getDay(),h=0,f=[],n=[],k=[],s=p._disabledIds=[],d=0,c=0,m=a.length,l,b;for(;d<m;d++){a[d]==p.weekStart&&(h=d);(h>0?f:k).push("<td>",g.dayNames[a[d]],"</td>")}f=f.concat(k);f.unshift("<tr>");f.push("</tr>");r=(r<h?r+7:r)-h;l=Math.ceil((p._getMonthCount(q,o)+r)/m);p._dates={};for(d=0;d<l;d++){n.push("<tr>");for(c=0;c<m;c++){b=p._getDateJson(new Date(q,o,d*m+c+1-r));p._dates[b.id]=b.date;b.disabled&&s.push(b.id);n.push(baidu.string.format(p.tplDateCell,{id:b.id,"class":b["class"],handler:b.handler,content:b.date.getDate()}))}n.push("</tr>")}return baidu.string.format(p.tplTable,{"class":p.getClass("table"),headClass:p.getClass("week"),bodyClass:p.getClass("date"),head:f.join(""),body:n.join("")})},getString:function(){var a=this;return baidu.string.format(a.tplDOM,{id:a.getId(),"class":a.getClass(),content:baidu.string.format(a.tplDOM,{id:a.getId("content"),"class":a.getClass("content")})})},_toLocalDate:function(a){return a?baidu.i18n.date.toLocaleDate(a,null,this.language):a},_renderDate:function(){var a=this;baidu.dom.g(a.getId("content")).innerHTML=a._getDateTableString();baidu.array.each(a._disabledIds,function(b){a.setState("disabled",b)})},_basicFlipMonth:function(f){var b=this,d=b._currDate,c=d.getMonth()+(f=="prev"?-1:1),a=d.getFullYear()+(c<0?-1:(c>11?1:0));c=c<0?12:(c>11?0:c);d.setYear(a);b.gotoMonth(c);b.dispatchEvent(f+"month",{date:new Date(d.getTime())})},renderTitle:function(){var f=this,d,c,i=f._currDate,h=baidu.i18n.cultures[f.language].calendar,g=baidu.dom.g(f.getId("label")),a=baidu.string.format(h.titleNames,{yyyy:i.getFullYear(),MM:h.monthNames[i.getMonth()],dd:i.getDate()});if(g){g.innerHTML=a;return}baidu.dom.insertHTML(f.getBody(),"afterBegin",baidu.string.format(f.tplTitle,{id:f.getId("title"),"class":f.getClass("title"),labelId:f.getId("label"),labelClass:f.getClass("label"),text:a,prevId:f.getId("prev"),prevClass:f.getClass("prev"),nextId:f.getId("next"),nextClass:f.getClass("next")}));function b(j){return{classPrefix:f.classPrefix+"-"+j+"btn",skin:f.skin?f.skin+"-"+j:"",content:f.flipContent[j],poll:{time:4},element:f.getId(j),autoRender:true,onmousedown:function(){f._basicFlipMonth(j)}}}d=new baidu.ui.Button(b("prev"));c=new baidu.ui.Button(b("next"));f.addEventListener("ondispose",function(){d.dispose();c.dispose()})},render:function(c){var a=this,b=a.skin;if(!c||a.getMain()){return}baidu.dom.insertHTML(a.renderMain(c),"beforeEnd",a.getString());a._initialize();a.renderTitle();a._renderDate();baidu.dom.g(a.getId("content")).style.height=(a.getBody().clientHeight||a.getBody().offsetHeight)-baidu.dom.g(a.getId("title")).offsetHeight+"px";a.dispatchEvent("onload")},update:function(a){var b=this;baidu.object.extend(b,a||{});b._initialize();b.renderTitle();b._renderDate();b.dispatchEvent("onupdate")},gotoDate:function(a){var b=this;b._currDate=b._toLocalDate(a);b._initDate=b._toLocalDate(a);b.renderTitle();b._renderDate();b.dispatchEvent("ongotodate")},gotoYear:function(b){var d=this,g=d._currDate,f=g.getMonth(),a=g.getDate(),c;if(1==f){c=d._getMonthCount(b,f);a>c&&g.setDate(c)}g.setFullYear(b);d.renderTitle();d._renderDate();d.dispatchEvent("ongotoyear")},gotoMonth:function(f){var c=this,d=c._currDate,f=Math.min(Math.max(f,0),11),a=d.getDate(),b=c._getMonthCount(d.getFullYear(),f);a>b&&d.setDate(b);d.setMonth(f);c.renderTitle();c._renderDate();c.dispatchEvent("ongotomonth")},getToday:function(){return this._toLocalDate(new Date())},getDate:function(){return new Date(this._initDate.getTime())},setDate:function(a){if(baidu.lang.isDate(a)){var b=this;b._initDate=a;b._currDate=a}},prevMonth:function(){this._basicFlipMonth("prev")},nextMonth:function(){this._basicFlipMonth("next")},dispose:function(){var a=this;a.dispatchEvent("dispose");baidu.dom.remove(a.getMain());baidu.lang.Class.prototype.dispose.call(a)}});baidu.ui.Carousel=baidu.ui.createUI(function(a){var b=this,c=b.contentText||[];b._dataList=c.slice(0,c.length);b._itemIds=[];b._items={};b.flip=b.flip.toLowerCase();b.orientation=b.orientation.toLowerCase()}).extend({uiType:"carousel",orientation:"horizontal",flip:"item",pageSize:3,scrollIndex:0,_axis:{horizontal:{vector:"_boundX",pos:"left",size:"width",offset:"offsetWidth",client:"clientWidth",scrollPos:"scrollLeft"},vertical:{vector:"_boundY",pos:"top",size:"height",offset:"offsetHeight",client:"clientHeight",scrollPos:"scrollTop"}},getString:function(){var b=this,a='<div id="#{id}" class="#{class}">#{content}</div>',c=baidu.string.format(a,{id:b.getId("scroll"),"class":b.getClass("scroll")});return baidu.string.format(a,{id:b.getId(),"class":b.getClass(),content:c})},render:function(b){var a=this;if(!b||a.getMain()){return}baidu.array.each(a._dataList,function(c){a._itemIds.push(baidu.lang.guid())});baidu.dom.insertHTML(a.renderMain(b),"beforeEnd",a.getString());a._renderItems();a._resizeView();a._moveToMiddle();a.focus(a.scrollIndex);a.addEventListener("onbeforeendscroll",function(d){var c=a.orientation=="horizontal",f=a._axis[a.orientation],g=a.getScrollContainer();a._renderItems(d.index,d.scrollOffset);g.style[f.size]=parseInt(g.style[f.size])-a["_bound"+(c?"X":"Y")].offset*d.scrollUnit+"px";a._moveToMiddle();a._scrolling=false});a.dispatchEvent("onload")},_renderItems:function(a,h){var f=this,g=f.getScrollContainer(),a=Math.min(Math.max(a|0,0),f._dataList.length-1),h=Math.min(Math.max(h|0,0),f.pageSize-1),d=f.pageSize,b=0,c;while(g.firstChild){baidu.dom.remove(g.firstChild)}for(;b<d;b++){c=f._getItemElement(a-h+b);g.appendChild(c.element);c.setContent()}},_moveToMiddle:function(){if(!this._boundX){return}var b=this,a=b._axis[b.orientation];b.getBody()[a.scrollPos]=b.orientation=="horizontal"&&baidu.browser.ie==6?b._boundX.marginX:0},_resizeView:function(){if(this._dataList.length<=0){return}var f=this,d=f._axis[f.orientation],b=f.orientation=="horizontal",g=f.getScrollContainer(),i=baidu.dom.children(g),a,h;function c(n,m){var m=m=="x",l=n[m?"offsetWidth":"offsetHeight"],k=parseInt(baidu.dom.getStyle(n,m?"marginLeft":"marginTop")),j=parseInt(baidu.dom.getStyle(n,m?"marginRight":"marginBottom"));isNaN(k)&&(k=0);isNaN(j)&&(j=0);return{offset:l+(b?k+j:Math.max(k,j)),marginX:k,marginY:j}}f._boundX=a=c(i[0],"x");f._boundY=h=c(i[0],"y");g.style.width=a.offset*(b?i.length:1)+(baidu.browser.ie==6?a.marginX:0)+"px";g.style.height=h.offset*(b?1:i.length)+(b?0:h.marginX)+"px";f.getBody().style[d.size]=f[d.vector].offset*f.pageSize+(b?0:Math.min(f[d.vector].marginX,f[d.vector].marginY))+"px"},_baseItemElement:function(b){var f=this,g=f._itemIds[b],d=f._items[g]||{},a=f._dataList[b],c;if(!d.element){d.element=c=baidu.dom.create("div",{id:g||"","class":f.getClass("item")});!g&&baidu.dom.addClass(c,f.getClass("item-empty"));d.content=a?a.content:"";if(g){d.handler=[{evtName:"click",handler:baidu.fn.bind("_onItemClickHandler",f,c)},{evtName:"mouseover",handler:baidu.fn.bind("_onMouseHandler",f,"mouseover")},{evtName:"mouseout",handler:baidu.fn.bind("_onMouseHandler",f,"mouseout")}];baidu.array.each(d.handler,function(h){f.on(c,h.evtName,h.handler)});f._items[g]=d}d.setContent=function(){this.content&&(this.element.innerHTML=this.content);this.content&&(delete this.content)}}return d},_getItemElement:function(a){return this._baseItemElement(a)},_onItemClickHandler:function(c,a){var b=this;b.focus(baidu.array.indexOf(b._itemIds,c.id));b.dispatchEvent("onitemclick")},_onMouseHandler:function(b,a){this.dispatchEvent("on"+b)},getCurrentIndex:function(){return this.scrollIndex},getTotalCount:function(){return this._dataList.length},getItem:function(a){return baidu.dom.g(this._itemIds[a])},scrollTo:function(k,g,o){var n=this,d=n._axis[n.orientation],g=Math.min(Math.max(g|0,0),n.pageSize-1),m=n.getScrollContainer(),b=baidu.dom.children(m),s=n.getItem(k),r=o,a=baidu.array.indexOf(b,s)-g,j=Math.abs(a),h=n._dataList.length,f=0,l,q,c,p;if((s&&a==0)||n._dataList.length<=0||k<0||k>n._dataList.length-1||n._scrolling){return}if(!r){r=s?(a<0?"prev":(a>0?"next":"keep")):baidu.array.indexOf(n._itemIds,baidu.array.find(b,function(i){return !!i.id}).id)>k?"prev":"next"}c=r=="prev";if(!s){q=baidu.array.indexOf(n._itemIds,b[c?0:b.length-1].id);j=Math.abs(g-(c?0:n.pageSize-1))+((c?q:k)+h-(c?k:q))%h;j>n.pageSize&&(j=n.pageSize)}l=j>0&&document.createDocumentFragment();for(;f<j;f++){p=n._getItemElement(c?k-g+f:n.pageSize+k+f-(s&&!o?baidu.array.indexOf(b,s):g+j));l.appendChild(p.element);p.setContent()}c?m.insertBefore(l,b[0]):m.appendChild(l);a=n[d.vector].offset*j;m.style[d.size]=parseInt(m.style[d.size])+a+"px";c&&(n.getBody()[d.scrollPos]+=a);n._scrolling=true;if(n.dispatchEvent("onbeforescroll",{index:k,scrollOffset:g,direction:r,scrollUnit:j})){n.getBody()[d.scrollPos]+=j*n[d.vector].offset*(c?-1:1);n.dispatchEvent("onbeforeendscroll",{index:k,scrollOffset:g,direction:r,scrollUnit:j});n.dispatchEvent("onafterscroll",{index:k,scrollOffset:g,direction:r,scrollUnit:j})}},_getFlipIndex:function(c){var d=this,a=d.flip=="item",c=c=="prev",g=d.scrollIndex,b=g+(a?1:d.pageSize)*(c?-1:1),f=a?(c?0:d.pageSize-1):baidu.array.indexOf(baidu.dom.children(d.getScrollContainer()),d.getItem(g));if(!a&&(b<0||b>d._dataList.length-1)){b=g-f+(c?-1:d.pageSize);f=c?d.pageSize-1:0}return{index:b,scrollOffset:f}},_baseSlide:function(b){if(!this.getItem(this.scrollIndex)){return}var c=this,f=c.getScrollContainer(),d=c._getFlipIndex(b);if(d.index<0||d.index>c._dataList.length-1){return}function a(g,i,h){c.addEventListener("onbeforeendscroll",function(j){var k=j.target;k.focus(j.index);k.removeEventListener("onbeforeendscroll",arguments.callee)});c.scrollTo(g,i,h)}if(c.flip=="item"){c.getItem(d.index)?c.focus(d.index):a(d.index,d.scrollOffset,b)}else{c._itemIds[d.index]&&a(d.index,d.scrollOffset,b)}},prev:function(){var a=this;a._baseSlide("prev");a.dispatchEvent("onprev")},next:function(){var a=this;a._baseSlide("next");a.dispatchEvent("onnext")},isFirst:function(){var a=this._getFlipIndex("prev");return a.index<0},isLast:function(){var a=this._getFlipIndex("next");return a.index>=this._dataList.length},_blur:function(){var a=this,b=a._itemIds[a.scrollIndex];if(b){baidu.dom.removeClass(a._baseItemElement(a.scrollIndex).element,a.getClass("item-focus"));a.scrollIndex=-1}},focus:function(a){var c=this,d=c._itemIds[a],b=d&&c._baseItemElement(a);if(d){c._blur();baidu.dom.addClass(b.element,c.getClass("item-focus"));c.scrollIndex=a;c.dispatchEvent("onfocus",{index:a})}},getScrollContainer:function(){return baidu.dom.g(this.getId("scroll"))},dispose:function(){var a=this;a.dispatchEvent("ondispose");baidu.dom.remove(a.getMain());baidu.lang.Class.prototype.dispose.call(a)}});baidu.ui.Carousel.register(function(a){if(!a.isCycle){return}a._itemsPool={};a._getItemElement=function(b){var f=this,d=f._dataList.length,b=(b+d)%d,g=f._itemIds[b],c=baidu.dom.g(g)?f._itemsPool[g+"-buff"]:f._baseItemElement(b);if(!c){c=f._itemsPool[g+"-buff"]={element:baidu.dom.create("div",{id:g+"-buff","class":f.getClass("item")}),content:f._dataList[b].content,setContent:function(){this.content&&(this.element.innerHTML=this.content);this.content&&(delete this.content)}}}return c};a._getFlipIndex=function(c){var g=this,f=g.flip=="item",c=c=="prev",i=g.scrollIndex,b=i+(f?1:g.pageSize)*(c?-1:1),h=f?(c?0:g.pageSize-1):baidu.array.indexOf(baidu.dom.children(g.getScrollContainer()),g.getItem(i)),d=g._dataList.length;return{index:(b+d)%d,scrollOffset:h}};a.addEventListener("onremoveitem",function(b){delete this._itemsPool[b.id+"-buff"]})});baidu.ui.Carousel.prototype.isCycle=true;baidu.ui.Carousel.register(function(b){if(!b.isAutoScroll){return}var a=b._getAutoScrollDirection();b.addEventListeners("onprev,onnext",function(){clearTimeout(b._autoScrollTimeout);b._autoScrollTimeout=setTimeout(function(){if(b._autoScrolling){b[a]();b.dispatchEvent("onautoscroll",{direction:a})}},b.scrollInterval)});b.addEventListener("onload",function(c){var d=c.target;setTimeout(function(){d.startAutoScroll()},d.scrollInterval)});b.addEventListener("ondispose",function(c){clearTimeout(c.target._autoScrollTimeout)})});baidu.ui.Carousel.extend({isAutoScroll:true,scrollInterval:1000,direction:"right",_autoScrolling:true,_getAutoScrollDirection:function(){var b=this,a={up:"prev",right:"next",down:"next",left:"prev"};return a[b.direction.toLowerCase()]||a[b.orientation=="horizontal"?"right":"down"]},startAutoScroll:function(){var a=this,b=a._getAutoScrollDirection();a._autoScrolling=true;a[b]();a.dispatchEvent("onautoscroll",{direction:b})},stopAutoScroll:function(){var a=this;clearTimeout(a._autoScrollTimeout);a._autoScrolling=false}});baidu.ui.Carousel.register(function(a){if(!a.showButton){return}a.btnLabel=baidu.object.extend({prev:"&lt;",next:"&gt;"},a.btnLabel);a.addEventListener("onload",function(){baidu.dom.insertHTML(a.getMain(),"afterBegin",baidu.string.format(a.tplBtn,{"class":a.getClass("btn-base")+" "+a.getClass("btn-prev"),handler:a.getCallString("prev"),content:a.btnLabel.prev}));baidu.dom.insertHTML(a.getMain(),"beforeEnd",baidu.string.format(a.tplBtn,{"class":a.getClass("btn-base")+" "+a.getClass("btn-next"),handler:a.getCallString("next"),content:a.btnLabel.next}))})});baidu.object.extend(baidu.ui.Carousel.prototype,{showButton:true,tplBtn:'<a class="#{class}" onclick="#{handler}" href="javascript:void(0);">#{content}</a>'});baidu.ui.Carousel.register(function(a){if(!a.enableFx){return}a.addEventListener("onbeforescroll",function(c){if(baidu.fx.current(a.getBody())){return}var f=c.direction=="prev",d=a._axis[a.orientation],b=a.orientation=="horizontal",g=a.getBody()[d.scrollPos]+c.scrollUnit*a[d.vector].offset*(f?-1:1);a.scrollFxOptions=baidu.object.extend(a.scrollFxOptions,{carousel:a,index:c.index,scrollOffset:c.scrollOffset,direction:c.direction,scrollUnit:c.scrollUnit});baidu.lang.isFunction(a.scrollFx)&&a.scrollFx(a.getBody(),{x:b?g:0,y:b?0:g},a.scrollFxOptions);c.returnValue=false})});baidu.ui.Carousel.extend({enableFx:true,scrollFx:baidu.fx.scrollTo,scrollFxOptions:{duration:500,onbeforestart:function(a){var b=a.target;a.target.carousel.dispatchEvent("onbeforestartscroll",{index:b.index,scrollOffset:b.scrollOffset,direction:b.direction,scrollUnit:b.scrollUnit})},onafterfinish:function(a){var b=a.target;b.carousel.dispatchEvent("onbeforeendscroll",{index:b.index,scrollOffset:b.scrollOffset,direction:b.direction,scrollUnit:b.scrollUnit});b.carousel.dispatchEvent("onafterscroll",{index:b.index,scrollOffset:b.scrollOffset,direction:b.direction,scrollUnit:b.scrollUnit})}}});baidu.ui.Carousel.extend({_addText:function(g,b){var f=this,h=baidu.dom.children(f.getScrollContainer()),b=Math.min(Math.max(baidu.lang.isNumber(b)?b:f._dataList.length,0),f._dataList.length),d=f.getItem(f.scrollIndex),a=baidu.array.indexOf(f._itemIds,h[0].id),c;f._dataList.splice(b,0,{content:g});f._itemIds.splice(b,0,baidu.lang.guid());b<=f.scrollIndex&&f.scrollIndex++;c=d?f.scrollIndex:baidu.array.indexOf(f._itemIds,h[0].id);b>=a&&b<=a+f.pageSize-1&&f._renderItems(c,baidu.array.indexOf(h,f.getItem(c)))},_removeItem:function(f){if(!baidu.lang.isNumber(f)||f<0||f>this._dataList.length-1){return}var g=this,j=g.getItem(f),b=g.getItem(g.scrollIndex),h=g._itemIds[f],k=g._items[h],c=baidu.dom.children(g.getScrollContainer()),a=g.scrollIndex,i,d;k&&baidu.array.each(k.handler,function(l){baidu.event.un(k.element,l.evtName,l.handler)});delete g._items[h];g._dataList.splice(f,1);g._itemIds.splice(f,1);(g.scrollIndex>g._dataList.length-1||g.scrollIndex>f)&&g.scrollIndex--;if(j){f==a&&g.focus(g.scrollIndex);i=b?g.scrollIndex:baidu.array.indexOf(g._itemIds,baidu.array.find(c,function(l){return l.id!=h}).id);d=baidu.array.indexOf(c,g.getItem(i));f<=i&&i<g.pageSize&&d--;g._renderItems(i,d)}return j},addText:function(c,a){var b=this;b._addText(c,a);b.dispatchEvent("onaddtext",{index:a})},addItem:function(b,a){var c=this;c._addText(b.innerHTML,a);c.dispatchEvent("onadditem",{index:a})},removeItem:function(a){var c=this,b=c._removeItem(a);c.dispatchEvent("onremoveitem",{index:a});return b}});baidu.ui.Table=baidu.ui.createUI(function(a){var b=this;b.data=b.data||[];b._rows=[]});baidu.ui.Table.extend({uiType:"table",tplBody:'<div><table cellpadding="0" cellspacing="0" border="0" id="#{id}" class="#{class}" #{stateHandler}>#{rows}</table></div>',getString:function(){var a=this;return baidu.format(a.tplBody,{id:a.getId(),"class":a.getClass(),rows:a._getRowsString()})},_getRowsString:function(){var d=this,b=0,a=d.data.length,c=[],f;for(;b<a;b++){f=d.getRow(b);if(!f){f=d._rows[b]=d._createRow(d.data[b])}else{f.update(d.data[b])}c.push(f.getString())}while(d._rows.length>d.data.length){d._rows.pop()}return c.join("")},render:function(b){var a=this;if(!b){return}baidu.dom.insertHTML(a.renderMain(b),"beforeEnd",a.getString());a.resizeColumn();a.dispatchEvent("onload")},update:function(a){var b=this;a=a||{};baidu.object.extend(b,a);b.dispatchEvent("beforeupdate");b.getMain().innerHTML=b.getString();b.resizeColumn();b.dispatchEvent("update")},resizeColumn:function(){var a=this,c=[],b=a.getBody().rows[0];if(b&&a.columns){baidu.array.each(a.columns,function(d){if(d.hasOwnProperty("width")){baidu.dom.setStyles(b.cells[d.index],{width:d.width})}})}},_createRow:function(a){a.parent=this;return new baidu.ui.Table.Row(a)},getRow:function(a){var b=this._rows[a];if(b&&!b.disposed){return b}return null},getRowCount:function(){return this._rows.length},_addRow:function(b,a){var c=this,a=baidu.lang.isNumber(a)?a:c.getBody().rows.length,d=c._createRow(b);c.data.splice(a,0,b);c._rows.splice(a,0,d);d.insertTo(a);return d.getId()},addRow:function(b,a){var c=this;c.dispatchEvent("addrow",{rowId:c._addRow(b,a)})},_removeRow:function(a){var b=this,d=b._rows[a],c;if(d){c=d.getId();b.data.splice(a,1);d.remove();b._rows.splice(a,1);0==a&&b.resizeColumn()}return c},removeRow:function(a){var b=this,c=b._removeRow(a);if(c){b.dispatchEvent("removerow",{rowId:c})}},getTarget:function(){var a=this;return baidu.g(a.targetId)||a.getMain()},dispose:function(){var a=this;baidu.dom.remove(a.getId())}});baidu.ui.Table.Row=baidu.ui.createUI(function(a){this._cells={};this.addState("selected")}).extend({uiType:"table-row",statable:true,getMain:function(){return baidu.g(this.getId())},getString:function(){var c=this,d=[],a=c.getClass("col"),b={};d.push("<tr id='",c.getId(),"' class='",c.getClass(),"' data-guid='",c.guid,"' ",c._getStateHandlerString(),">");baidu.array.each(c.content,function(g,f){d.push("<td>",g,"</td>")});d.push("</tr>");return d.join("")},update:function(a){var b=this,c=baidu.dom.children(b.getMain());a=a||{};baidu.object.extend(b,a);baidu.array.each(c,function(f,d){f.innerHTML=b.content[d]});b.dispatchEvent("update")},insertTo:function(b){var c=this,d,a;if(!c.getMain()){d=c.getParent().getBody().insertRow(b);baidu.dom.setAttrs(d,{id:c.getId(),"class":c.getClass(),"data-guid":c.guid});c.setStateHandler(d);baidu.array.each(c.content,function(g,f){a=d.insertCell(f);a.innerHTML=g})}},_getCols:function(){return baidu.dom.children(this.getId())},_getColsString:function(b,a){return colsArr.join("")},select:function(){var a=this,b=a.getMain().id;if(!a.getState(b)["disabled"]){a.setState("selected",b)}},unselect:function(){var a=this;a.removeState("selected",a.getMain().id)},remove:function(){var a=this;a.getParent().getBody().deleteRow(a.getBody().rowIndex);a.dispose()},toggle:function(){var a=this;if(a.getState(a.getMain().id)["selected"]){a.unselect()}else{a.select()}},getCell:function(b){var c=this,d=c._getCols()[b],a;if(d){if(d.id){a=c._cells[d.id]}else{a=new baidu.ui.Table.Cell({target:d});a._initialize(c);c._cells[a.getId()]=a}}d=null;return a},dispose:function(){var a=this;a.dispatchEvent("dispose");baidu.lang.Class.prototype.dispose.call(a)}});baidu.ui.Table.Cell=baidu.ui.createUI(function(a){}).extend({uiType:"table-cell",_initialize:function(b){var a=this;a.setParent(b);baidu.dom.setAttrs(a.target,{id:a.getId(),"data-guid":a.guid})},getMain:function(){return baidu.dom.g(this.getId())},getParent:function(){return this._parent},setParent:function(a){this._parent=a},getHTML:function(){return this.getMain().innerHTML},setHTML:function(c){var b=this,a=b.getParent();a.getParent().data[a.getMain().rowIndex].content[b.getMain().cellIndex]=c;b.getMain().innerHTML=c}});baidu.ui.Carousel.register(function(a){if(!a.supportTable){return}a.gridLayout=baidu.object.extend({row:3,col:3},baidu.lang.isArray(a.gridLayout)?baidu.array.hash(["row","col"],a.gridLayout):a.gridLayout);a._dataList=a._formatTableData(a._dataList);a._tables=[];baidu.array.each(a._dataList,function(c,b){a._tables.push(new baidu.ui.Table({data:c}));a._dataList[b]={content:a._tables[b].getString()}})});baidu.ui.Carousel.extend({supportTable:true,_formatTableData:function(g){var f=this,d=f.gridLayout,c=g.length,h=[],a=0,b;for(;a<c;a++){a%(d.row*d.col)==0&&h.push([]);b=h[h.length-1];a%d.col==0&&b.push({content:[]});b[b.length-1].content.push(g[a].content)}return h},addTableItem:function(c,a){var b=this,c=b._formatTableData(c),a=Math.min(Math.max(baidu.lang.isNumber(a)?a:b._dataList.length,0),b._dataList.length);b._tables.splice(a,0,new baidu.ui.Table({data:c[0]}));b._addText(b._tables[a].getString(),a)},removeTableItem:function(a){if(!baidu.lang.isNumber(a)||a<0||a>this._dataList.length-1){return}var b=this;b._tables.splice(a,1);return b._removeItem(a)},getTable:function(a){return this._tables[a]}});baidu.ui.Slider=baidu.ui.createUI(function(a){var b=this;b.range=b.range||[b.min,b.max]}).extend({layout:"horizontal",uiType:"slider",tplBody:'<div id="#{id}" class="#{class}" onmousedown="#{mousedown}" style="position:relative;">#{thumb}</div>',tplThumb:'<div id="#{thumbId}" class="#{thumbClass}" style="position:absolute;"></div>',value:0,min:0,max:100,disabled:false,_dragOpt:{},_axis:{horizontal:{mousePos:"x",pos:"left",size:"width",clientSize:"clientWidth",offsetSize:"offsetWidth"},vertical:{mousePos:"y",pos:"top",size:"height",clientSize:"clientHeight",offsetSize:"offsetHeight"}},getString:function(){var a=this;return baidu.format(a.tplBody,{id:a.getId(),"class":a.getClass(),mousedown:a.getCallRef()+"._mouseDown(event)",thumb:baidu.format(a.tplThumb,{thumbId:a.getId("thumb"),thumbClass:a.getClass("thumb")})})},_mouseDown:function(h){var f=this,d=f._axis[f.layout],a=baidu.page.getMousePosition(),c=baidu.dom.getPosition(f.getBody()),b=f.getThumb(),g=baidu.event.getTarget(h);if(g==b||baidu.dom.contains(b,g)||f.disabled){return}f._calcValue(a[d.mousePos]-c[d.pos]-b[d.offsetSize]/2);f.update();f.dispatchEvent("slideclick")},render:function(b){var a=this;if(!b){return}baidu.dom.insertHTML(a.renderMain(b),"beforeEnd",a.getString());a._createThumb();a.update();a.dispatchEvent("onload")},_createThumb:function(){var b=this,a;b._dragOpt={ondragend:function(){b.dispatchEvent("slidestop")},ondragstart:function(){b.dispatchEvent("slidestart")},ondrag:function(){var d=b._axis[b.layout],c=b.getThumb().style[d.pos];b._calcValue(parseInt(c));b.dispatchEvent("slide")},range:[0,0,0,0]};b._updateDragRange();a=baidu.dom.draggable(b.getThumb(),b._dragOpt);b.addEventListener("dispose",function(){a.cancel()})},_updateDragRange:function(g){var f=this,d=f._axis[f.layout],b=g||f.range,c=f._dragOpt.range,a=f.getThumb();b=[Math.max(Math.min(b[0],f.max),f.min),Math.max(Math.min(b[1],f.max),f.min)];if(f.layout.toLowerCase()=="horizontal"){c[1]=f._parseValue(b[1],"fix")+a[d.offsetSize];c[3]=f._parseValue(b[0],"fix");c[2]=a.clientHeight}else{c[0]=f._parseValue(b[0],"fix");c[2]=f._parseValue(b[1],"fix")+a[d.offsetSize];c[1]=a.clientWidth}},update:function(b){var d=this,c=d._axis[d.layout],a=d.getBody();b=b||{};baidu.object.extend(d,b);d._updateDragRange();d._adjustValue();if(d.dispatchEvent("beforesliderto",{drop:b.drop})){d.getThumb().style[c.pos]=d._parseValue(d.value,"pix")+"px";d.dispatchEvent("update")}},_adjustValue:function(){var b=this,a=b.range;b.value=Math.max(Math.min(b.value,a[1]),a[0])},_calcValue:function(b){var a=this;a.value=a._parseValue(b,"value");a._adjustValue()},_parseValue:function(f,c){var d=this,b=d._axis[d.layout],a=d.getBody()[b.clientSize]-d.getThumb()[b.offsetSize];if(c=="value"){f=(d.max-d.min)/a*f+d.min}else{f=Math.round(a/(d.max-d.min)*(f-d.min))}return f},getValue:function(){return this.value},getTarget:function(){return baidu.g(this.targetId)},getThumb:function(){return baidu.g(this.getId("thumb"))},disable:function(){var a=this;a.disabled=true;a._updateDragRange([a.value,a.value])},enable:function(){var a=this;a.disabled=false;a._updateDragRange(a.range)},dispose:function(){var a=this;a.dispatchEvent("dispose");baidu.dom.remove(a.getId());a.dispatchEvent("ondispose");baidu.lang.Class.prototype.dispose.call(a)}});baidu.ui.ColorPalette=baidu.ui.createUI(function(a){var b=this;b.hue=360;b.saturation=100;b.brightness=100;b.sliderDotY=0;b.padDotY=0;b.padDotX=b.sliderLength}).extend({uiType:"colorpalette",tplBody:'<div id="#{id}" class="#{class}">#{content}</div>',tplPad:'<div id="#{padId}" class="#{padClass}"><div id="#{coverId}" class="#{coverClass}"></div>#{padDot}</div>',tplSlider:'<div id="#{sliderId}" class="#{sliderClass}"></div>',tplPadDot:'<div id="#{padDotId}" class="#{padDotClass}" onmousedown="#{mousedown}"></div>',tplShow:'<div id="#{newColorId}" class="#{newColorClass}" onclick="#{showClick}"></div><div id="#{savedColorId}" class="#{savedColorClass}" onclick="#{savedColorClick}"></div><div id="#{hexId}" class="#{hexClass}"></div><div id="#{saveId}" class="#{saveClass}" onclick="#{saveClick}"></div>',sliderLength:150,coverImgSrc:"",sliderImgSrc:"",getString:function(){var b=this,a=[];a.push(b._getPadString(),b._getSliderString(),b._getShowString());return baidu.string.format(b.tplBody,{id:b.getId(),"class":b.getClass(),content:a.join("")})},render:function(b){var a=this;if(a.getMain()){return}baidu.dom.insertHTML(a.renderMain(b),"beforeEnd",a.getString());a._createSlider();a._padClickHandler=baidu.fn.bind("_onPadClick",a);a.on(a.getPad(),"click",a._padClickHandler);a._setColorImgs();a.setSliderDot(a.sliderDotY);a.setPadDot(a.padDotY,a.padDotX);a._saveColor();a.dispatchEvent("onload")},_setColorImgs:function(){var b=this,c=b._getCover(),a=b.getSliderBody();if(baidu.browser.ie){b._setFilterImg(c,b.coverImgSrc)}else{b._setBackgroundImg(c,b.coverImgSrc)}b._setBackgroundImg(a,b.sliderImgSrc)},_setBackgroundImg:function(a,b){if(!b){return}baidu.dom.setStyle(a,"background","url("+b+")")},_setFilterImg:function(a,b){if(!b){return}baidu.dom.setStyle(a,"filter",'progid:DXImageTransform.Microsoft.AlphaImageLoader(src="'+b+'", sizingMethod="crop")')},_getPadString:function(){var a=this;return baidu.string.format(a.tplPad,{padId:a.getId("pad"),padClass:a.getClass("pad"),coverId:a.getId("cover"),coverClass:a.getClass("cover"),padDot:a._getPadDotString()})},_getPadDotString:function(){var a=this;return baidu.string.format(a.tplPadDot,{padDotId:a.getId("padDot"),padDotClass:a.getClass("padDot"),mousedown:a.getCallString("_onPadDotMouseDown")})},_getSliderString:function(){var a=this;return baidu.string.format(a.tplSlider,{sliderId:a.getId("slider"),sliderClass:a.getClass("sliderMain")})},_createSlider:function(){var a=this,b=a._getSliderMain();a.slider=baidu.ui.create(baidu.ui.Slider,{autoRender:true,element:b,layout:"vertical",max:a.sliderLength,classPrefix:a.getClass("slider"),onslide:function(){a.setSliderDot(this.value)},onslideclick:function(){a.setSliderDot(this.value)}})},_getShowString:function(){var a=this;return baidu.string.format(a.tplShow,{newColorId:a.getId("newColor"),newColorClass:a.getClass("newColor"),savedColorId:a.getId("savedColor"),savedColorClass:a.getClass("savedColor"),savedColorClick:a.getCallString("_onSavedColorClick"),hexId:a.getId("hex"),hexClass:a.getClass("hex"),saveId:a.getId("save"),saveClass:a.getClass("save"),saveClick:a.getCallString("_saveColor")})},_onPadDotMouseDown:function(){var b=this,c=b.getPad(),a=baidu.dom.getPosition(c);b.padTop=a.top;b.padLeft=a.left;b._movePadDotHandler=baidu.fn.bind("_onPadDotMouseMove",b);b._upPadDotHandler=baidu.fn.bind("_onPadDotMouseUp",b);baidu.event.on(document,"mousemove",b._movePadDotHandler);baidu.event.on(document,"mouseup",b._upPadDotHandler)},_onPadDotMouseMove:function(d){d=d||event;var c=this,b=baidu.event.getPageX(d),a=baidu.event.getPageY(d);c.padDotY=c._adjustValue(c.sliderLength,a-c.padTop);c.padDotX=c._adjustValue(c.sliderLength,b-c.padLeft);c.setPadDot(c.padDotY,c.padDotX)},_adjustValue:function(a,b){return Math.max(0,Math.min(a,b))},_onPadDotMouseUp:function(){var a=this;if(!a._movePadDotHandler){return}baidu.event.un(document,"mousemove",a._movePadDotHandler);baidu.event.un(document,"mouseup",a._upPadDotHandler)},_onPadClick:function(d){var b=this,c=b.getPad(),a=baidu.dom.getPosition(c);b.padTop=a.top;b.padLeft=a.left;b._onPadDotMouseMove(d)},_onSavedColorClick:function(){var c=this,b=c.getSliderDot(),a=c.savedColorPosition;c.setSliderDot(a.sliderDotY);baidu.dom.setStyle(b,"top",a.sliderDotY);c.setPadDot(a.padDotY,a.padDotX)},_getSliderMain:function(){return baidu.dom.g(this.getId("slider"))},getSliderBody:function(){return this.slider.getBody()},getSliderDot:function(){return this.slider.getThumb()},getPad:function(){return baidu.dom.g(this.getId("pad"))},getPadDot:function(){return baidu.dom.g(this.getId("padDot"))},_getCover:function(){return baidu.dom.g(this.getId("cover"))},setSliderDot:function(b){var a=this,c=a.getPad();a.sliderDotY=b;a.hue=parseInt(360*(a.sliderLength-b)/a.sliderLength,10);baidu.dom.setStyle(c,"background-color","#"+a._HSBToHex({h:a.hue,s:100,b:100}));a._setNewColor()},setPadDot:function(d,c){var b=this,a=b.getPadDot();b.saturation=parseInt(100*c/150,10);b.brightness=parseInt(100*(150-d)/150,10);baidu.dom.setStyles(a,{top:d,left:c});b._setNewColor()},_setNewColor:function(){var b=this,c=baidu.dom.g(this.getId("newColor")),a=baidu.dom.g(this.getId("hex"));b.hex="#"+b._HSBToHex({h:b.hue,s:b.saturation,b:b.brightness});baidu.dom.setStyle(c,"background-color",b.hex);a.innerHTML=b.hex},_saveColor:function(){var b=this,a=baidu.dom.g(this.getId("savedColor"));baidu.dom.setStyle(a,"background-color",b.hex);b.savedColorHex=b.hex;b.savedColorPosition={sliderDotY:b.sliderDotY,padDotY:b.padDotY,padDotX:b.padDotX}},getColor:function(){return this.hex},_HSBToRGB:function(a){var c={},i=Math.round(a.h),g=Math.round(a.s*255/100),b=Math.round(a.b*255/100);if(g==0){c.r=c.g=c.b=b}else{var j=b,f=(255-g)*b/255,d=(j-f)*(i%60)/60;if(i==360){i=0}if(i<60){c.r=j;c.b=f;c.g=f+d}else{if(i<120){c.g=j;c.b=f;c.r=j-d}else{if(i<180){c.g=j;c.r=f;c.b=f+d}else{if(i<240){c.b=j;c.r=f;c.g=j-d}else{if(i<300){c.b=j;c.g=f;c.r=f+d}else{if(i<360){c.r=j;c.g=f;c.b=j-d}else{c.r=0;c.g=0;c.b=0}}}}}}}return{r:Math.round(c.r),g:Math.round(c.g),b:Math.round(c.b)}},_RGBToHex:function(a){var b=[a.r.toString(16),a.g.toString(16),a.b.toString(16)];baidu.array.each(b,function(d,c){if(d.length==1){b[c]="0"+d}});return b.join("")},_HSBToHex:function(a){var b=this;return b._RGBToHex(b._HSBToRGB(a))},dispose:function(){var a=this;a.dispatchEvent("ondispose");a.slider.dispose();if(a.getMain()){baidu.dom.remove(a.getMain())}baidu.lang.Class.prototype.dispose.call(a)}});baidu.ui.ColorPicker=baidu.ui.createUI(function(a){var b=this;b._initialized=false}).extend({uiType:"colorpicker",colors:("000,800000,8B4513,2F4F4F,008080,000080,4B0082,696969,B22222,A52A2A,DAA520,006400,40E0D0,0000CD,800080,808080,F00,FF8C00,FFD700,008000,0FF,00F,EE82EE,A9A9A9,FFA07A,FFA500,FFFF00,00FF00,AFEEEE,ADD8E6,DDA0DD,D3D3D3,FFF0F5,FAEBD7,FFFFE0,F0FFF0,F0FFFF,F0F8FF,E6E6FA,FFF").split(","),tplBody:'<div id="#{id}" class="#{class}">#{content}</div>',tplColor:'<a href="javascript:;" id="#{colorId}" style="#{colorStyle}" class="#{colorClass}" onclick="javascript:#{choose};return false;" #{stateHandler}></a>',gridSize:8,position:"bottomCenter",statable:true,posable:true,getString:function(){var f=this,a=["<table>"],d=0,c=f.colors.length;while(d<c){a.push("<tr>");for(var b=0;b<f.gridSize;b++){a.push("<td>",f._getColorString(f.colors[d]),"</td>");d++}a.push("</tr>")}a.push("</table>");return baidu.string.format(f.tplBody,{id:f.getId(),"class":f.getClass(),content:a.join("")})},_getColorString:function(a){var b=this;return baidu.string.format(b.tplColor,{colorId:b.getId(a),colorStyle:"background-color:#"+a,colorClass:b.getClass("color"),choose:b.getCallString("_choose",a),stateHandler:b._getStateHandlerString("",a)})},render:function(b){var a=this;b=baidu.g(b);if(a.getMain()||!b){return}a.targetId=b.id||a.getId("target");a.renderMain();a.dispatchEvent("onload")},update:function(b){var c=this,a=c.getMain(),d=c.getTarget();b=b||{};baidu.object.extend(c,b);a.innerHTML=c.getString();c.setPositionByElement(d,a,{position:c.position,once:true});c.dispatchEvent("onupdate")},_choose:function(a){var b=this;b.close();b.dispatchEvent("onchosen",{color:"#"+a})},open:function(){var a=this;if(!a._initialized){a.update();a._initialized=true}baidu.dom.show(a.getMain());baidu.ui.ColorPicker.showing=a;a.dispatchEvent("onopen")},close:function(){var a=this;baidu.dom.hide(a.getMain());a.dispatchEvent("onclose")},getTarget:function(){return baidu.g(this.targetId)},dispose:function(){var a=this;a.dispatchEvent("ondispose");if(a.getMain()){baidu.dom.remove(a.getMain())}baidu.lang.Class.prototype.dispose.call(a)}});baidu.ui.get=function(a){var b;if(baidu.lang.isString(a)){return baidu.lang.instance(a)}else{do{if(!a||a.nodeType==9){return null}if(b=baidu.dom.getAttr(a,"data-guid")){return baidu.lang.instance(b)}}while((a=a.parentNode)!=document.body)}};baidu.ui.ColorPicker.extend({type:"click",bodyClick:function(d){var b=this,c=baidu.event.getTarget(d||window.event),a=function(f){return f==b.getTarget()};if(!c||a(c)||baidu.dom.getAncestorBy(c,a)||baidu.ui.get(c)==b){return}b.close()}});baidu.ui.ColorPicker.register(function(a){if(a.type!="click"){return}a._targetOpenHandler=baidu.fn.bind("open",a);a._bodyClickHandler=baidu.fn.bind("bodyClick",a);a.addEventListener("onload",function(){var b=a.getTarget();if(b){baidu.on(b,"click",a._targetOpenHandler);baidu.on(document,"click",a._bodyClickHandler)}});a.addEventListener("ondispose",function(){var b=a.getTarget();if(b){baidu.un(b,"click",a._targetOpenHandler);baidu.un(document,"click",a._bodyClickHandler)}})});baidu.extend(baidu.ui.Dialog.prototype,{autoDispose:true});baidu.ui.Dialog.register(function(a){if(a.autoDispose){a.addEventListener("onload",function(){if(typeof a.autoDispose=="undefined"||a.autoDispose){a.addEventListener("onclose",function(){a.dispose()})}})}});baidu.extend(baidu.ui.Dialog.prototype,{createButton:function(c,a){var d=this;baidu.extend(c,{classPrefix:d.classPrefix+"-"+a,skin:d.skin?d.skin+"-"+a:"",element:d.getFooter(),autoRender:true,parent:d});var b=new baidu.ui.Button(c);d.buttonInstances[a]=b},removeButton:function(a){var c=this,b=c.buttonInstances[a];if(b){b.dispose();delete (c.buttonInstances[a]);delete (c.buttons[a])}}});baidu.ui.Dialog.register(function(d){d.buttonInstances={};d.language=d.language||"zh-CN";var b,c,a={},f=baidu.i18n.cultures[d.language].language;b={content:f.ok,onclick:function(){var h=this,g=h.getParent();g.dispatchEvent("onaccept")&&g.close()}};c={content:f.cancel,onclick:function(){var h=this,g=h.getParent();g.dispatchEvent("oncancel")&&g.close()}};d.addEventListener("onload",function(){switch(d.type){case"alert":d.submitOnEnter=d.submitOnEnter||true;a={accept:b};break;case"confirm":d.submitOnEnter=d.submitOnEnter||true;a={accept:b,cancel:c};break;default:}d.buttons=baidu.extend(a,d.buttons||{});baidu.object.each(d.buttons,function(h,g){d.createButton(h,g)});d.submitOnEnter&&d.addEventListener("onenter",function(g){d.buttonInstances.accept.fire("click",g)})});d.addEventListener("ondispose",function(){baidu.object.each(d.buttons,function(h,g){d.removeButton(g)})});d.addEventListener("onupdate",function(){baidu.object.each(d.buttons,function(h,g){d.buttonInstances[g]?d.buttonInstances[g].update(h):d.createButton(h,g)})})});baidu.ui.ColorPicker.extend({sliderLength:150,coverImgSrc:"",sliderImgSrc:"",titleText:"More Colors",dialogOption:{},more:true,_createColorPaletteDialog:function(){var a=this;a.colorPaletteDialog=new baidu.ui.Dialog(baidu.object.extend({titleText:a.titleText,height:180,width:360,modal:true,type:"confirm",onaccept:function(){a.dispatchEvent("onchosen",{color:a.colorPalette.hex})},onclose:function(){a.colorPalette._onPadDotMouseUp()},draggable:true,autoDispose:false,autoOpen:false,autoRender:true},a.dialongOption||{}))},_createColorPalette:function(){var a=this;a.colorPalette=baidu.ui.create(baidu.ui.ColorPalette,{autoRender:true,sliderLength:a.sliderLength,coverImgSrc:a.coverImgSrc,sliderImgSrc:a.sliderImgSrc,element:a.colorPaletteDialog.getContent()})}});baidu.ui.ColorPicker.register(function(a){if(!a.more){return}a.addEventListener("onupdate",function(){var c=[],b=a.getBody();baidu.ui.create(baidu.ui.Button,{content:a.titleText,classPrefix:a.getClass("morecolorbutton"),autoRender:true,element:b,onclick:function(){a.colorPaletteDialog.open()}});a._createColorPaletteDialog();a._createColorPalette()})});baidu.ui.Menubar=baidu.ui.createUI(function(a){var b=this;b.items={};b.data=a.data||[];b._initialized=false;b.dispatchEvent("oninit")}).extend({uiType:"menubar",width:200,height:"",zIndex:1200,hideDelay:300,position:"bottomCenter",tplBody:'<div id="#{id}" class="#{class}">#{content}</div>',tplBranch:'<ul id="#{ulId}">#{subitems}</ul>',tplItem:'<li onmouseover="#{onmouseover}" onmouseout="#{onmouseout}"><a href="#" id="#{id}" class="#{class}" onclick="#{onclick}" title="#{title}">#{content}</a>#{branch}</li>',tplContent:'<span class="#{contentClass}">#{content}</span>',tplArrow:'<span class="#{arrow}"></span>',toggle:function(){return true},posable:true,getString:function(){var a=this;return baidu.string.format(a.tplBody,{id:a.getId(),"class":a.getClass(),guid:a.guid,content:a.getItemsString(a.data,0)})},getItemsString:function(b,c){var d=this,a=[];baidu.array.each(b,function(g,f){var h=[],i=c+"-"+f;d.items[i]=g;h.push(baidu.string.format(d.tplContent,{contentClass:d.getClass("content"),content:g.content||g.label}));if(g.items){h.push(baidu.string.format(d.tplArrow,{arrow:d.getClass("arrow")}))}a.push(baidu.string.format(d.tplItem,{id:d.getItemId(i),"class":(g.disabled?(d.getClass("item")+" "+d.getClass("item-disabled")):d.getClass("item")),onclick:d.getCallRef()+".itemClick('"+i+"', event);",onmouseover:g.disabled||d.getCallRef()+".itemMouseOver(event, '"+i+"')",onmouseout:g.disabled||d.getCallRef()+".itemMouseOut(event, '"+i+"')",content:h.join(""),branch:g.items?d.getItemsString(g.items,i):"",title:g.title}))});return baidu.string.format(d.tplBranch,{ulId:d.getBranchId(c),subitems:a.join("")})},render:function(b){var a=this;b=baidu.g(b);if(b){a.targetId=b.id||a.getId("target")}a.renderMain();a.dispatchEvent("onload")},itemClick:function(a,b){var c=this;baidu.event.preventDefault(b||window.event);c._close();c.dispatchEvent("onitemclick",c.getItemEventData(a))},getItemEventData:function(a){return{value:this.getItemData(a),index:a}},itemMouseOver:function(c,b){var f=this,g=baidu.event.getTarget(c),a=f.getItemData(b),d=f.getItem(b),h;baidu.dom.addClass(d,f.getClass("item-hover"));if(a.items){h=baidu.dom.g(f.getBranchId(b));if(h.style.display=="none"){baidu.dom.show(h);g.tagName.toUpperCase()!="LI"&&(g=baidu.dom.getAncestorByTag(g,"LI"));f.setPositionByElement(g,h,{position:"rightCenter",once:true})}}a.showing=true;f.dispatchEvent("onitemmouseover",f.getItemEventData(b))},itemMouseOut:function(c,b){var f=this,g=baidu.event.getTarget(c),a=f.getItemData(b),d=f.getItem(b);baidu.dom.removeClass(f.getItem(b),f.getClass("item-hover"));a.showing=false;clearTimeout(a.outListener);a.outListener=setTimeout(function(){if(!a.showing){a.items&&baidu.dom.hide(f.getBranchId(b));f.dispatchEvent("onitemmouseout",f.getItemEventData(b))}},f.hideDelay)},update:function(c){var d=this,b=d.getMain(),f=d.getTarget();c&&baidu.object.extend(d,c);b.innerHTML=d.getString();d.dispatchEvent("onupdate");baidu.dom.setStyle(b,"z-index",d.zIndex);var a=d.getBody();baidu.dom.setStyles(a,{height:d.height,width:d.width});baidu.dom.setStyle(d.getBranchId(0),"width",d.width);baidu.dom.addClass(d.getBranchId(0),d.getClass("root"));baidu.object.each(d.items,function(h,g){if(h.items){baidu.dom.setStyles(d.getBranchId(g),{width:d.width,position:"absolute",display:"none"})}});if(f){d.setPositionByElement(f,d.getMain(),{position:d.position,once:true})}},getItemId:function(a){return this.getId("item-"+a)},getBranchId:function(a){return this.getId("branch-"+a)},getItem:function(a){return baidu.g(this.getItemId(a))},getItemData:function(a){return this.items[a]},open:function(){var b=this,d=b.getTarget(),a=b.getBody(),c;if(baidu.lang.isFunction(b.toggle)&&!b.toggle()){return}if(!b.dispatchEvent("onbeforeopen")){return}if(c=baidu.ui.Menubar.showing){c.close()}a&&(a.style.display="");if(!b._initialized){b.update();b._initialized=true}else{if(d){b.setPositionByElement(d,b.getMain(),{position:b.position,once:true})}}b.dispatchEvent("onopen");baidu.ui.Menubar.showing=b},close:function(){var b=this,a=b.getBody();if(!a){return}if(b.dispatchEvent("onbeforeclose")){b._close();b.dispatchEvent("onclose")}},_close:function(){var b=this,a=b.getBody();baidu.ui.Menubar.showing=null;a.style.display="none"},dispose:function(){var a=this;a.dispatchEvent("ondispose");a.getMain()&&baidu.dom.remove(a.getMain());baidu.lang.Class.prototype.dispose.call(a)},getTarget:function(){return baidu.g(this.targetId)}});baidu.ui.Menubar.extend({type:"click",bodyClick:function(d){var b=this;var c=baidu.event.getTarget(d||window.event),a=function(f){return f==b.getTarget()};if(!c||a(c)||baidu.dom.getAncestorBy(c,a)||baidu.ui.get(c)==b){return}b.close()}});baidu.ui.Menubar.register(function(a){if(a.type=="click"){a.targetOpenHandler=baidu.fn.bind("open",a);a.bodyClickHandler=baidu.fn.bind("bodyClick",a);a.addEventListener("onload",function(){var b=a.getTarget();if(b){baidu.on(b,"click",a.targetOpenHandler);baidu.on(document,"click",a.bodyClickHandler)}});a.addEventListener("ondispose",function(){var b=a.getTarget();if(b){baidu.un(b,"click",a.targetOpenHandler);baidu.un(document,"click",a.bodyClickHandler)}})}});baidu.ui.Combox=baidu.ui.createUI(function(a){var b=this;b.data=b.data||[];b.menu=b.menu||false}).extend({uiType:"combox",editable:true,width:"",height:"",zIndex:1200,statable:true,posable:true,filter:function(c,b){var a=[];baidu.array.each(b||this.data,function(d){var f=String(d.value||d.content).indexOf(c);if(f>=0){a.push(d)}});return a},tplBody:['<div id="#{id}" class="#{class}" #{stateHandler}>','<input id="#{inputid}" class="#{inputClass}" autocomplete="off" readOnly="readOnly"/>','<span id="#{arrowid}" class="#{arrowClass}"></span>',"</div>"].join(""),getString:function(){var a=this;return baidu.format(a.tplBody,{id:a.getId(),"class":a.getClass(),inputClass:a.getClass("input"),arrowClass:a.getClass("arrow"),inputid:a.getId("input"),arrowid:a.getId("arrow"),stateHandler:a._getStateHandlerString()})},render:function(b){var a=this;if(a.getMain()){return}a.dispatchEvent("onbeforerender");baidu.dom.insertHTML(a.renderMain(b||a.target),"beforeEnd",a.getString());a._createMenu();a._enterTipMode();a.position&&a.setPosition(a.position,b);a.dispatchEvent("onload")},_enterTipMode:function(){var b=this,a=b.getInput();b._showMenuHandler=baidu.fn.bind(function(){var d=this;var c=d.getInput();d.menu.open();d.menu.update({data:d.editable?d.filter(c.value,d.data):d.data})},b);b.on(a,"focus",b._showMenuHandler);if(b.editable){a.readOnly="";b.on(a,"keyup",b._showMenuHandler)}},_createMenu:function(){var b=this,a=b.getBody(),c=b.getArrow(),d={width:b.width||a.offsetWidth,onitemclick:function(f){b.chooseItem(f)},element:a,autoRender:true,data:b.data,onbeforeclose:b.onbeforeclose,onclose:b.onclose,onbeforeopen:b.onbeforeopen,onopen:b.onopen};b.menu=baidu.ui.create(baidu.ui.Menubar,d);b.menu.close(true);b._showAllMenuHandler=baidu.fn.bind(function(){var f=this;f.menu.open();f.menu.update({data:f.data})},b);b.on(c,"click",b._showAllMenuHandler);return b.menu},getInput:function(){return baidu.g(this.getId("input"))},getArrow:function(){return baidu.g(this.getId("arrow"))},chooseItem:function(b){var a=this;a.getInput().value=b.value.content;a.dispatchEvent("onitemclick",b)},setValue:function(a){this.getInput().value=a},dispose:function(){var a=this;a.menu&&a.menu.dispose();a.getMain()&&baidu.dom.remove(a.getMain());a.dispatchEvent("ondispose");baidu.lang.Class.prototype.dispose.call(a)}});baidu.ui.Combox.register(function(b){var a=b.select=baidu.dom.g(b.select),c;if(!a||b.type.toLowerCase()!="select"||a.tagName.toUpperCase()!="SELECT"){return}b.addEventListener("beforerender",function(){baidu.array.each(a.options,function(d){b.data.push({value:(d.value||d.innerHTML),content:d.innerHTML})});c=baidu.dom.getPosition(a);b.position={x:c.left,y:c.top};a.style.display="none";b.addEventListener("itemclick",function(d){a.value=d.value.value||d.value.content})})});baidu.ui.Combox.register(function(a){a.addEventListener("onenable",function(){var b=a.getInput();baidu.on(a.getArrow(),"click",a._showAllMenuHandler);baidu.on(b,"focus",a._showMenuHandler);if(a.editable){b.readOnly="";baidu.on(b,"keyup",a._showMenuHandler)}});a.addEventListener("ondisable",function(){var b=a.getInput();baidu.un(b,"keyup",a._showMenuHandler);baidu.un(b,"focus",a._showMenuHandler);baidu.un(a.getArrow(),"click",a._showAllMenuHandler);b.readOnly="readOnly"})});baidu.ui.createPopup=function(d){var c=baidu.lang.createSingle({isOpen:false});c.eid="baidupopup_"+c.guid;var b,h,a="font-size:12px; margin:0;";try{baidu.browser.ie&&(b=window.createPopup())}catch(g){}if(!b){var i="<iframe id='"+c.eid+"' scrolling='no' frameborder='0' style='position:absolute; z-index:1001;  width:0px; height:0px; background-color:#0FFFFF'></iframe>";if(!document.body){document.write(i)}else{baidu.dom.insertHTML(document.body,"afterbegin",i)}}c.render=function(){var k=this;if(b){k.window=b;k.document=b.document;var j=k.styleSheet=k.createStyleSheet();j.addRule("body",a);k.dispatchEvent("onready")}else{f()}baidu.event.on(window,"onblur",function(){k.focusme=false;if(!k.isOpen){return}setTimeout(function(){if(!k.focusme){k.hide()}},100)});baidu.event.on(window,"onresize",function(){k.hide()});baidu.event.on(document,"onmousedown",function(){k.hide()})};function f(j){h=baidu.dom.g(c.eid);if((!j&&baidu.browser.firefox)||!h){setTimeout(function(){f(true)},10);return}c.window=h.contentWindow;var l=c.document=c.window.document;var k="<html><head><style type='text/css'>body{"+a+" background-color:#FFFFFF;}\n</style></head><body onfocus='parent[\""+baidu.guid+'"]._instances["'+c.guid+"\"].focusme=true'></body></html>";l.open();l.write(k);l.close();c.styleSheet=c.createStyleSheet();c.dispatchEvent("onready")}c.createStyleSheet=function(j){j=j||{};j.document=this.document;return baidu.page.createStyleSheet(j)};c.show=function(p,o,n,k,l,j){if(b){if(j=="top"){o=-k}else{o=l.offsetHeight}b.show(0,o,n,k,l||document.body);this.isOpen=b.isOpen}else{if(h){baidu.dom.show(this.eid);if(j=="top"){o-=k}else{o=o+l.offsetHeight}this.isOpen=true;var m=h.style;m.width=n+"px";m.height=k+"px";m.top=o+"px";m.left=p+"px"}}this.dispatchEvent("onshow")};c.bind=function(l,m,k,j){var n=baidu.dom.getPosition(l);this.show(n.left,n.top,m,k,l,j)};c.hide=function(){if(this.isOpen){if(b){b.hide();this.isOpen=b.isOpen}else{if(h){this.isOpen=false;var j=h.style;j.width="0px";j.height="0px";baidu.dom.hide(this.eid)}}this.dispatchEvent("onhide")}};c.write=function(k){var j=this;this.document.body.innerHTML=k};return c};baidu.ui.Popup=baidu.ui.createUI(function(a){}).extend({uiType:"popup",width:"",height:"",top:"auto",left:"auto",zIndex:1200,contentText:"",onbeforeclose:function(){return true},tplBody:"<div id='#{id}' class='#{class}' style='position:relative; top:0px; left:0px;'></div>",isShown:function(){return baidu.ui.Popup.instances[this.guid]=="show"},getString:function(){var a=this;return baidu.format(a.tplBody,{id:a.getId(),"class":a.getClass()})},render:function(){var b=this,a;if(b.getMain()){return}a=b.renderMain();a.innerHTML=b.getString();b._update(b);baidu.dom.setStyles(b.getMain(),{position:"absolute",zIndex:b.zIndex,marginLeft:"-100000px"});b.dispatchEvent("onload");return a},open:function(a){var b=this;b._update(a);b.getMain().style.marginLeft="auto";baidu.ui.Popup.instances[b.guid]="show";b.dispatchEvent("onopen")},close:function(){var a=this;if(a.dispatchEvent("onbeforeclose")){a.getMain().style.marginLeft="-100000px";baidu.ui.Popup.instances[a.guid]="hide";a.dispatchEvent("onclose")}},update:function(a){var b=this;b._update(a);b.dispatchEvent("onupdate")},_update:function(b){b=b||{};var c=this,a=c.getBody();baidu.object.extend(c,b);if(b.content){if(a.firstChild!=b.content){a.innerHTML="";a.appendChild(b.content)}}else{if(b.contentText){a.innerHTML=b.contentText}}c._updateSize();c._updatePosition()},_updateSize:function(){var a=this;baidu.dom.setStyles(a.getMain(),{width:a.width,height:a.height})},_updatePosition:function(){var a=this;baidu.dom.setStyles(a.getMain(),{top:a.top,left:a.left})},dispose:function(){var a=this;a.dispatchEvent("ondispose");baidu.dom.remove(a.getMain());baidu.lang.Class.prototype.dispose.call(a)}});baidu.ui.Popup.instances=baidu.ui.Popup.instances||[];baidu.extend(baidu.ui.Popup.prototype,{coverable:true,coverableOptions:{}});baidu.ui.Popup.register(function(a){if(a.coverable){a.addEventListeners("onopen,onload",function(){a.Coverable_show()});a.addEventListener("onclose",function(){a.Coverable_hide()});a.addEventListener("onupdate",function(){a.Coverable_update()})}});baidu.ui.DatePicker=baidu.ui.createUI(function(a){var b=this;b.format=b.format||baidu.i18n.cultures[b.language].calendar.dateFormat||"yyyy-MM-dd";b.popupOptions=baidu.object.merge(b.popupOptions||{},a,{overwrite:true,whiteList:["width","height"]});b.calendarOptions=baidu.object.merge(b.calendarOptions||{},a,{overwrite:true,whiteList:["weekStart"]});b._popup=new baidu.ui.Popup(b.popupOptions);b._calendar=new baidu.ui.Calendar(b.calendarOptions);b._calendar.addEventListener("clickdate",function(c){b.pick(c.date)})}).extend({uiType:"datePicker",language:"zh-CN",_getInputDate:function(){var j=this,h=j.input.value,b=[/yyyy|yy/,/M{1,2}/,/d{1,2}/],a=b.length,f=[],d,c;if(!h){return}for(var g=0;g<a;g++){if(d=b[g].exec(j.format)){c=d.index;f[g]=h.substring(c,c+d[0].length)}}return new Date(f[0],f[1]-1,f[2])},_onMouseDown:function(b){var c=this,a=c._popup,d=baidu.event.getTarget(b);if(d.id!=c.input.id&&!baidu.dom.contains(a.getBody(),d)){c.hide()}},render:function(h){var d=this,c=baidu.fn.bind("show",d),g=baidu.fn.bind("_onMouseDown",d),f=baidu.fn.bind("hide",d),b=d.input=baidu.dom.g(h),a=d._popup;if(d.getMain()||!b){return}a.render();d._calendar.render(a.getBody());d.on(b,"focus",c);d.on(b,"keyup",f);d.on(document,"click",g)},pick:function(a){var b=this;b.input.value=baidu.date.format(a,b.format);b.hide();b.dispatchEvent("pick")},show:function(){var c=this,h=c.input&&baidu.dom.getPosition(c.input),a=c._popup,f=c._calendar,d=document[baidu.browser.isStrict?"documentElement":"body"],b=c.input.offsetHeight,g=c._popup.getBody().offsetHeight;c._calendar.setDate(c._getInputDate()||f._toLocalDate(new Date()));c._calendar.renderTitle();c._calendar._renderDate();h.top+=(h.top+b+g-d.scrollTop>d.clientHeight)?-g:b;c._popup.open(h)},hide:function(){this._popup.close()},dispose:function(){var a=this;a.dispatchEvent("dispose");a._calendar.dispose();a._popup.dispose();baidu.lang.Class.prototype.dispose.call(a)}});baidu.ui.Dialog.register(function(c){if(c.type=="iframe"){baidu.extend(c,{autoRender:true,tplIframe:"<iframe width='100%' height='97%' frameborder='0' scrolling='no' name='#{name}' id='#{id}' class='#{class}'></iframe>",getIframe:function(){return baidu.g(this.getId("iframe"))},updateIframe:function(h){baidu.setStyles(this.getId("iframe"),h);c._updatePosition();c.dispatchEvent("onupdate")}});var b,g=c.getId("iframe"),d=c.iframeName||g,f,a,b=baidu.format(c.tplIframe,{name:d,id:g,"class":c.getClass("iframe")});c.addEventListener("onload",function(){c._update({contentText:b});c._updatePosition();f=baidu.g(g);c.on(f,"onload",function(){c._updatePosition();c.dispatchEvent("onupdate")});f.src=c.iframeSrc})}});baidu.extend(baidu.ui.Dialog.prototype,{enableKeyboard:true,closeOnEscape:true});baidu.ui.Dialog.register(function(a){baidu.ui.Dialog.keyboardHandler=baidu.ui.Dialog.keyboardHandler||function(d){d=window.event||d;var c=d.keyCode||d.which,f,b;baidu.object.each(baidu.ui.Dialog.instances,function(h,g){if(h=="show"){b=baidu.lang.instance(g);if(!f||b.zIndex>f.zIndex){f=b}}});if(f){switch(c){case 27:f.closeOnEscape&&f.close();break;case 13:f.dispatchEvent("onenter");break;default:}}};if(a.enableKeyboard&&!baidu.ui.Dialog.keyboardEventReady){baidu.on(document,"keyup",baidu.ui.Dialog.keyboardHandler);baidu.ui.Dialog.keyboardEventReady=true}a.addEventListener("ondispose",function(){var b=true;baidu.object.each(baidu.ui.Dialog.instances,function(d,c){b=false;return false});if(b){baidu.event.un(document,"keyup",baidu.ui.Dialog.keyboardHandler);baidu.ui.Dialog.keyboardEventReady=false}})});baidu.ui.Modal=baidu.ui.createUI(function(b){var c=this,a=(b&&b.container)?baidu.g(b.container):null;!a&&(a=document.body);if(!a.id){a.id=c.getId("container")}c.containerId=a.id;c.styles={color:"#000000",opacity:0.6,zIndex:1000}}).extend({uiType:"modal",_showing:false,getContainer:function(){var a=this;return baidu.g(a.containerId)},render:function(){var g=this,b,d,f,a,h=g.containerId,c=baidu.g(g.containerId);if(b=baidu.ui.Modal.collection[h]){g.mainId=b.mainId;a=g.getMain()}else{a=g.renderMain();if(c!==document.body){c.appendChild(a)}else{d=baidu.dom.fixable(a,{autofix:false,vertival:"top",horizontal:"left",offset:{x:0,y:0}})}baidu.ui.Modal.collection[h]={mainId:g.mainId,instance:[],flash:{},fixableInstance:d}}g.dispatchEvent("onload")},show:function(j){var h=this,b=h.getContainer(),f=h.getMain(),g=h.containerId,c=baidu.ui.Modal.collection[g],a=c.fixableInstance,d=c.instance.length,i;if(h._showing){return}if(d>0){i=baidu.lang.instance(c.instance[d-1]);i&&i._removeHandler()}j=j||{};h._show(j.styles||{});if(a){a.render()}f.style.display="block";c.flash[h.guid]=h._hideFlash();c.instance.push(h.guid);h._showing=true;h.dispatchEvent("onshow")},_show:function(b){var a=this;a._getModalStyles(b||{});a._update();if(a.getContainer()===document.body&&baidu.browser.ie&&baidu.browser.ie<=7){a.windowHandler=a.getWindowHandle();baidu.on(window,"resize",a.windowHandler)}},hide:function(){var a=this;a._hide();a.dispatchEvent("onhide")},_hide:function(){var h=this,b=h.containerId,j=baidu.ui.Modal.collection[b],c=j.flash[h.guid],a=h.getMain(),g=j.instance.length,f;if(!h._showing){return}for(var d=0;d<g;d++){if(j.instance[d]==h.guid){j.instance.splice(d,1);break}}g=j.instance.length;if(d==g){h._removeHandler();if(g>0){f=baidu.lang.instance(j.instance[g-1]);f&&f._show()}else{a.style.display="none"}h._restoreFlash(c)}else{f=baidu.lang.instance(j.instance[g-1]);j.flash[f.guid]=j.flash[f.guid].concat(c)}j.flash[h.guid]=[];h._showing=false},_removeHandler:function(){var a=this;if(a.getContainer()===document.body&&baidu.browser.ie&&baidu.browser.ie<=7){baidu.un(window,"resize",a.windowHandler)}},getWindowHandle:function(){var b=this,a=b.getMain();return function(){baidu.setStyles(a,{width:baidu.page.getViewWidth(),height:baidu.page.getViewHeight()});if(b.getContainer()===document.body&&baidu.browser.ie&&baidu.browser.ie<=7){window.top!==window.self&&setTimeout(function(){b._getModalStyles({});b._update()},16)}}},update:function(b){b=b||{};var c=this,a=c.getMain(),d=baidu.ui.Modal.collection[c.containerId];b=b||{};baidu.extend(c,b);c._getModalStyles(b.styles||{});c._update();delete (b.styles);baidu.extend(c,b);c.dispatchEvent("onupdate")},_update:function(){var b=this,a=b.getMain();baidu.dom.setStyles(a,b.styles)},_getModalStyles:function(g){var f=this,a=f.getMain(),b=f.getContainer(),c,i,d;function h(l,k){var j=parseInt(baidu.getStyle(l,k));j=isNaN(j)?0:j;j=baidu.lang.isNumber(j)?j:0;return j}if(b!==document.body){g.width=b.offsetWidth;g.height=b.offsetHeight;if(baidu.getStyle(b,"position")=="static"){d=a.offsetParent||document.body;c=baidu.dom.getPosition(d);i=baidu.dom.getPosition(b);g.top=i.top-c.top+h(d,"marginTop");g.left=i.left-c.left+h(d,"marginLeft")}}else{if(baidu.browser.ie>7||!baidu.browser.ie){g.width="100%";g.height="100%"}else{g.width=baidu.page.getViewWidth();g.height=baidu.page.getViewHeight()}}baidu.extend(f.styles,g);f.styles.backgroundColor=f.styles.color||f.styles.backgroundColor;delete (f.styles.color)},_hideFlash:function(){var c=this,b=c.getContainer(),d=b.getElementsByTagName("object"),a=[];baidu.each(d,function(g){var f=true;if(baidu.dom.getAncestorBy(g,function(h){if(baidu.getStyle(h,"zIndex")>c.styles.zIndex){return true}return false})){return}baidu.each(baidu.dom.children(g),function(h){if(baidu.getAttr(h,"name")=="wmode"&&baidu.getAttr(h,"value")!="window"){f=false}});if(f){a.push([g,baidu.getStyle(g,"visibility")]);g.style.visibility="hidden"}});return a},_restoreFlash:function(a){baidu.each(a,function(b){if(b[0]!=null){b[0].style.visibility=b[1]}})},dispose:function(){var a=this;a._hide();a.dispatchEvent("ondispose");baidu.lang.Class.prototype.dispose.call(a)}});baidu.ui.Modal.collection={};baidu.extend(baidu.ui.Modal.prototype,{coverable:true,coverableOptions:{}});baidu.ui.Modal.register(function(a){if(a.coverable){if(!baidu.browser.isWebkit&&!baidu.browser.isGecko){a.addEventListener("onload",function(){a.Coverable_show()});a.addEventListeners("onshow,onupdate",function(){a.Coverable_update()});a.addEventListener("onhide",function(){a.Coverable_hide()})}}});baidu.extend(baidu.ui.Dialog.prototype,{modal:true,modalColor:"#000000",modalOpacity:0.4,hideModal:function(){var a=this;(a.modal&&a.modalInstance)&&a.modalInstance.hide()}});baidu.ui.Dialog.register(function(a){if(a.modal){a.addEventListener("onopen",function(){if(!a.modalInstance){a.modalInstance=new baidu.ui.Modal({autoRender:true})}a.modalInstance.show({targetUI:a,styles:{color:a.modalColor,opacity:a.modalOpacity,zIndex:a.modalZIndex?a.modalZIndex:a.zIndex-1}})});a.addEventListener("onclose",a.hideModal);a.addEventListener("ondispose",a.hideModal)}});baidu.ui.getAttribute=function(d){var g="data-tangram",j=d.getAttribute(g),c={},f,b=baidu.string.trim;if(j){j=j.split(";");f=j.length;for(;f--;){var k=j[f],h=k.indexOf(":"),a=b(h>=0?k.substring(0,h):k),i=h>=0?b(k.substring(h+1))||"true":"true";c[baidu.string.toCamelCase(b(a))]=/^\d+(\.\d+)?$/.test(i)?i-0:i=="true"?true:i=="false"?false:i}}return c};baidu.ui.Input=baidu.ui.createUI(new Function).extend({uiType:"input",tplBody:'<input id="#{id}" class="#{class}" value="#{text}" onfocus="#{onfocus}" onblur="#{onblur}" onchange="#{onchange}" onkeydown="#{onkeydown}" onkeyup="#{onkeyup}" onmouseover="#{onmouseover}" onmouseout="#{onmouseout}" />',disabled:false,getString:function(){var a=this;return baidu.format(a.tplBody,{id:a.getId(),onfocus:a.getCallRef()+"._onEventHandle('onfocus', 'focus', event);",onblur:a.getCallRef()+"._onEventHandle('onblur', null, event);",onchange:a.getCallRef()+"._onEventHandle('onchange', null, event);",onkeydown:a.getCallRef()+"._onEventHandle('onkeydown', 'focus', event);",onkeyup:a.getCallRef()+"._onEventHandle('onkeyup', 'focus', event);",onmouseover:a.getCallRef()+"._onEventHandle('onmouseover', 'hover', event);",onmouseout:a.getCallRef()+"._onEventHandle('onmouseout', null, event);",text:a.text,"class":a.getClass(a.isDisabled()?"disable":"")})},render:function(b){if(!baidu.g(b)){return}var a=this;baidu.dom.insertHTML(a.renderMain(b),"beforeEnd",a.getString());a.getBody().disabled=a.disabled},_onEventHandle:function(c,d,a){var b=this;if(b.isDisabled()){return}b._changeStyle(d);b.dispatchEvent(c,{DOMEvent:a})},_changeStyle:function(c){var b=this,a=b.getBody();baidu.dom.removeClass(a,b.getClass("hover")+" "+b.getClass("focus")+" "+b.getClass("disable"));baidu.addClass(a,b.getClass(c))},isDisabled:function(){return this.disabled},getText:function(){var a=this.getBody().value;return a},_able:function(c,a,d){var b=this;b._changeStyle(d);b.getBody().disabled=a;b.disabled=a;b.dispatchEvent(c)},enable:function(){this._able("onenable",false)},disable:function(){this._able("ondisable",true,"disable")},dispose:function(){var a=this;a.dispatchEvent("ondispose");baidu.dom.remove(a.getBody());baidu.lang.Class.prototype.dispose.call(a)}});baidu.ui.Login=baidu.ui.createUI(function(a){},{superClass:baidu.ui.Dialog}).extend({uiType:"login",classPrefix:"tangram-dialog",loginURL:"http://passport.baidu.com/api/?login&time=&token=&tpl=pp",loginJumpURL:window.location.href,onLoginSuccess:function(b,a){},onLoginFailure:function(b,a){},loginContainerId:"loginContainer",loginPanelId:"loginPanel",tplContainer:'        <div id="content" class="passport-content">            <div id="#{idLoginPanel}" class="passport-login-panel">	            <div id="#{idLoginContainer}"></div>	            <div id="regDiv">                    <hr size="0" style="border-top:1px solid #AAAAAA">                    <div class="reg">没有百度账号？<a href="https://passport.baidu.com/?reg&tpl=mn" target="_self">立即注册百度账号</a></div>                </div>            </div>        </div>           ',getString:function(){var c=this,a,f="title",d="title-inner",b="content",g="footer";c.contentText=c.contentText||baidu.string.format(c.tplContainer,{idLoginContainer:c.loginContainerId,idLoginPanel:c.loginPanelId});return baidu.format(c.tplDOM,{id:c.getId(),"class":c.getClass(),title:baidu.format(c.tplTitle,{id:c.getId(f),"class":c.getClass(f),"inner-id":c.getId(d),"inner-class":c.getClass(d),content:c.titleText||""}),content:baidu.format(c.tplContent,{id:c.getId(b),"class":c.getClass(b),content:c.contentText||""}),footer:baidu.format(c.tplFooter,{id:c.getId(g),"class":c.getClass(g)})})},open:function(){var a=this;a.renderLogin();a.dispatchEvent("onopen")},close:function(){var a=this;a.loginJson=a.regJson=null;if(a.dispatchEvent("onbeforeclose")){a.getMain().style.marginLeft="-100000px";baidu.ui.Login.instances[a.guid]="hide";a.dispatchEvent("onclose")}},renderLogin:function(){var me=this;if(me.loginJson){return}baidu.sio.callByServer(me.loginURL,function(value){var json=me.loginJson=eval(value);baidu.sio.callByBrowser(json.jslink,function(value){baidu.ui.Dialog.prototype.open.call(me);me.loginDom=bdPass.LoginTemplate.render(json,me.loginContainerId,{renderSafeflg:true,onSuccess:me.onLoginSuccess,jumpUrl:me.loginJumpURL,onFailure:me.onLoginFailure});me.update()})})},dispose:function(){var a=this;delete baidu.ui.Login.instances[a.guid];a.dispatchEvent("dispose");baidu.un(window,"resize",a.windowResizeHandler);baidu.dom.remove(a.getMain());baidu.lang.Class.prototype.dispose.call(a)}});baidu.ui.Login.instances=baidu.ui.Login.instances||{};baidu.extend(baidu.ui.Login.prototype,{regPanelId:"regPanel",regContainerId:"regContainer",defaultStatus:"login",tabId:"navTab",currentTabClass:"act",registerText:"",register:true,regURL:"http://passport.baidu.com/api/?reg&time=&token=&tpl=pp",regJumpURL:window.location.href,tplContainer:'		<div id="nav" class="passport-nav">			<ul id="#{tabId}" class="passport-nav-tab">				<li class="#{currentTabClass}" ><a href="##{idLoginPanel}" onclick="#{clickTabLogin};return false;" hidefocus="true" >登录</a></li>				<li><a href="##{idRegPanel}" onclick="#{clickTabReg};return false;" hidefocus="true" >注册</a></li>			</ul>			 <p class="clear"></p>		</div>	 	<div id="content" class="passport-content">			<div id="#{idLoginPanel}" class="passport-login-panel">				<div id="#{idLoginContainer}"></div>				<div id="regDiv">					<hr size="0" style="border-top:1px solid #AAAAAA">					<div class="reg">没有百度账号？<a href="##{idRegPanel}" onclick="#{clickTabReg};return false;">立即注册百度账号</a></div>				</div>			</div>		<div id="#{idRegPanel}" class="passport-reg-panel" style="display:none">			<div id="#{idRegContainer}" class="passport-reg-container"></div>		</div>		</div>',onRegisterSuccess:function(b,a){},onRegisterFailure:function(b,a){},getString:function(){var c=this,a,f="title",d="title-inner",b="content",g="footer";c.contentText=c.contentText||baidu.string.format(c.tplContainer,{clickTabLogin:c.getCallRef()+".changeTab('login')",clickTabReg:c.getCallRef()+".changeTab('reg')",idLoginContainer:c.loginContainerId,idRegContainer:c.regContainerId,idLoginPanel:c.loginPanelId,idRegPanel:c.regPanelId,tabId:c.tabId,currentTabClass:c.currentTabClass});return baidu.format(c.tplDOM,{id:c.getId(),"class":c.getClass(),title:baidu.format(c.tplTitle,{id:c.getId(f),"class":c.getClass(f),"inner-id":c.getId(d),"inner-class":c.getClass(d),content:c.titleText||""}),content:baidu.format(c.tplContent,{id:c.getId(b),"class":c.getClass(b),content:c.contentText||""}),footer:baidu.format(c.tplFooter,{id:c.getId(g),"class":c.getClass(g)})})},open:function(){var a=this;(a.defaultStatus=="login")?a.renderLogin():a.changeTab("reg");a.dispatchEvent("onopen")},changeTab:function(g){var h=this,a=[h.loginPanelId,h.regPanelId],d=baidu.dom.children(h.tabId),f=h.currentTabClass,c=(g=="login")?0:1;for(var b=0;b<a.length;++b){baidu.dom.removeClass(d[b],f);baidu.g(a[b]).style.display="none"}baidu.dom.addClass(d[c],f);baidu.g(a[c]).style.display="";(g=="reg")?h.renderReg():h.renderLogin()},renderReg:function(){var me=this;if(me.regJson){return}baidu.sio.callByServer(me.regURL,function(value){var json=me.regJson=eval(value);baidu.sio.callByBrowser(json.jslink,function(value){baidu.ui.Dialog.prototype.open.call(me);me.registerDom=bdPass.RegTemplate.render(json,me.regContainerId,{renderSafeflg:true,onSuccess:me.onRegisterSuccess,jumpUrl:me.regJumpURL,onFailure:me.onRegisterFailure});me.update()})})}});baidu.ui.Menubar.extend({enableFx:true,showFx:baidu.fx.expand,showFxOptions:{duration:200},hideFx:baidu.fx.collapse,hideFxOptions:{duration:500,restoreAfterFinish:true}});baidu.ui.Menubar.register(function(a){if(a.enableFx){var b=null;a.addEventListener("onopen",function(){!baidu.ui.Menubar.showing&&"function"==typeof a.showFx&&a.showFx(baidu.g(a.getId()),a.showFxOptions)});a.addEventListener("onbeforeclose",function(c){a.dispatchEvent("onclose");b=a.hideFx(baidu.g(a.getId()),a.hideFxOptions);b.addEventListener("onafterfinish",function(){a._close()});c.returnValue=false});a.addEventListener("ondispose",function(){b&&b.end()})}});baidu.ui.Menubar.extend({type:"hover",showDelay:100,hideDelay:500,targetHover:function(){var a=this;clearTimeout(a.hideHandler);a.showHandler=setTimeout(function(){a.open()},a.showDelay)},targetMouseOut:function(){var a=this;clearTimeout(a.showHandler);clearTimeout(a.hideHandler);a.hideHandler=setTimeout(function(){a.close()},a.hideDelay)},clearHideHandler:function(){clearTimeout(this.hideHandler)}});baidu.ui.Menubar.register(function(a){a.targetHoverHandler=baidu.fn.bind("targetHover",a);a.targetMouseOutHandler=baidu.fn.bind("targetMouseOut",a);a.clearHandler=baidu.fn.bind("clearHideHandler",a);if(a.type=="hover"){a.addEventListener("onload",function(){var b=a.getTarget();if(b){baidu.on(b,"mouseover",a.targetHoverHandler);baidu.on(document,"click",a.targetMouseOutHandler)}});a.addEventListener("onopen",function(){var c=a.getTarget(),b=a.getBody();if(c){baidu.on(b,"mouseover",a.clearHandler);baidu.on(c,"mouseout",a.targetMouseOutHandler);baidu.on(b,"mouseout",a.targetMouseOutHandler)}});a.addEventListener("ondispose",function(){var c=a.getTarget(),b=a.getBody();if(c){baidu.un(c,"mouseover",a.targetHoverHandler);baidu.un(c,"mouseout",a.targetMouseOutHandler);baidu.un(document,"click",a.targetMouseOutHandler)}if(b){baidu.un(b,"mouseover",a.clearHandler);baidu.un(b,"mouseout",a.targetMouseOutHandler)}})}});baidu.ui.Menubar.extend({tplIcon:'<span class="#{icon}" style="#{iconStyle};"></span>',updateIcons:function(){var a=this;baidu.object.each(a.items,function(c,b){if(a.getItem(b)){baidu.dom.insertHTML(a.getItem(b),"afterBegin",baidu.string.format(a.tplIcon,{icon:a.getClass("icon"),iconStyle:c.icon?("background-position:"+c.icon):"background-image:none"}))}})}});baidu.ui.Menubar.register(function(a){a.addEventListener("onupdate",a.updateIcons)});baidu.ui.Pager=baidu.ui.createUI(function(a){this._init.apply(this,arguments)}).extend({uiType:"pager",id:"pager",tplHref:"##{page}",tplLabel:"[#{page}]",specialLabelMap:{first:"首页",last:"尾页",previous:"上一页",next:"下一页"},tplCurrentLabel:"#{page}",tplItem:'<a class="#{class}" page="#{page}" target="_self" href="#{href}">#{label}</a>',tplBody:'<div onclick="#{onclick}" id="#{id}" class="#{class}">#{items}</div>',beginPage:1,endPage:100,itemCount:10,leftItemCount:4,_init:function(a){var b=this;b.update()},update:function(a){var b=this;a=a||{};if(b.checkOptions(a)){if(a.hasOwnProperty("currentPage")&&a.currentPage!=b.currentPage){if(!b._notifyGotoPage(a.currentPage,false)){delete a.currentPage}}b._updateNoCheck(a);return true}return false},_updateNoCheck:function(a){var b=this;baidu.object.extend(b,a);if(b.getMain()){b._refresh()}},checkOptions:function(b){var d=this;var c=b.beginPage||d.beginPage;var a=b.endPage||d.endPage;if(a<=c){return false}if(b.hasOwnProperty("beginPage")&&d.currentPage<c){d.currentPage=c}if(b.hasOwnProperty("endPage")&&d.currentPage>=a){d.currentPage=a-1}var f=b.currentPage||d.currentPage;if(f<c||f>=a){return false}return true},_genItem:function(c,a){var b=this;return baidu.string.format(b.tplItem,{"class":a?b.getClass(a):"",page:c,href:baidu.string.format(b.tplHref,{page:c}),label:function(){return(a?(a=="current"?baidu.string.format(b.tplCurrentLabel,{page:c}):b.specialLabelMap[a]):baidu.string.format(b.tplLabel,{page:c}))}})},_genBody:function(){var j=this,a=j.beginPage,c=j.endPage,g=j.currentPage,l=Math.min(Math.max(c-a+1,1),j.itemCount),k=Math.min(g-a,j.leftItemCount),k=Math.max(l-(c+1-g),k),f=g-k,b={first:a,last:c,previous:g-1,next:g+1},m={};baidu.object.each(b,function(o,i){m[i]=j._genItem(o,i)});m.previous=b.previous<a?"":m.previous;m.next=b.next>c?"":m.next;m.first=f==a?"":m.first;m.last=f+l>c?"":m.last;var n=[];for(var d=0;d<l;d++){var h=f+d;n[d]=j._genItem(h,h==g?"current":null)}return baidu.string.format(j.tplBody,{id:j.getId(),"class":j.getClass(),items:m.first+m.previous+n.join("")+m.next+m.last,onclick:j.getCallRef()+"._handleOnClick(event, this);"})},_refresh:function(){var a=this;a.getMain().innerHTML=a.getString()},_handleOnClick:function(a){a=baidu.event.get(a);var c=this,b=a.target,d=Number(b.getAttribute("page"));if(d&&c._notifyGotoPage(d,true)){c._updateNoCheck({currentPage:d})}else{a.preventDefault()}},_notifyGotoPage:function(a,b){return this.dispatchEvent("ongotopage",{page:a,fromClick:b})},ongotopage:function(a){},getString:function(){var a=this;if(a.currentPage===undefined){a.currentPage=a.beginPage}return a._genBody()},render:function(a){var b=this;b.renderMain(a);b.getMain().innerHTML=b.getString();b.update();b.dispatchEvent("onload")},dispose:function(){var c=this;c.dispatchEvent("ondispose");if(c.getMain()){var a=c.getMain();baidu.event.un(a,"click",c._handleOnClick);if(a.parentNode&&a.parentNode.nodeType==1){a.parentNode.removeChild(a)}c.dispose=null;a=null;baidu.lang.Class.prototype.dispose.call(c)}else{c.addEventListener("onload",function b(){c.removeEventListener("onload",b);c.dispose()})}}});baidu.ui.ProgressBar=baidu.ui.createUI(function(a){}).extend({uiType:"progressBar",tplBody:'<div id="#{id}" class="#{class}">#{bar}</div>',tplBar:'<div id="#{barId}" class="#{barClass}"></div>',value:0,layout:"horizontal",_min:0,_max:100,axis:{horizontal:{offsetSize:"offsetWidth",size:"width"},vertical:{offsetSize:"offsetHeight",size:"height"}},getString:function(){var a=this;return baidu.format(a.tplBody,{id:a.getId(),"class":a.getClass(),bar:baidu.format(a.tplBar,{barId:a.getId("bar"),barClass:a.getClass("bar")})})},render:function(c){var b=this,a;if(!c){return}baidu.dom.insertHTML(b.renderMain(c),"beforeEnd",b.getString());b.dispatchEvent("onload");b.update()},update:function(b){var c=this;b=b||{};baidu.object.extend(c,b);c.value=Math.max(Math.min(c.value,c._max),c._min);if(c.value==c._lastValue){return}var a=c.axis[c.layout].size;baidu.dom.setStyle(c.getBar(),a,c._calcPos(c.value));c._lastValue=c.value;c.dispatchEvent("update")},getValue:function(){var a=this;return a.value},_calcPos:function(c){var b=this;var a=b.getBody()[b.axis[b.layout].offsetSize];return c*(a)/(b._max-b._min)},disable:function(){this.disabled=true},enable:function(){this.disabled=false},getTarget:function(){return baidu.g(this.targetId)},getBar:function(){return baidu.g(this.getId("bar"))},dispose:function(){var a=this;baidu.dom.remove(a.getId())}});baidu.ui.ScrollBar=baidu.ui.createUI(function(a){var b=this;b._scrollBarSize={width:0,height:0}}).extend({uiType:"scrollbar",tplDOM:'<div id="#{id}" class="#{class}"></div>',tplThumb:'<div class="#{prev}"></div><div class="#{track}"></div><div class="#{next}"></div>',value:0,dimension:10,orientation:"vertical",step:5,_axis:{horizontal:{size:"width",unSize:"height",offsetSize:"offsetWidth",unOffsetSize:"offsetHeight",clientSize:"clientWidth",scrollPos:"scrollLeft",scrollSize:"scrollWidth"},vertical:{size:"height",unSize:"width",offsetSize:"offsetHeight",unOffsetSize:"offsetWidth",clientSize:"clientHeight",scrollPos:"scrollTop",scrollSize:"scrollHeight"}},getThumbString:function(){var a=this;return baidu.string.format(a.tplThumb,{prev:a.getClass("thumb-prev"),track:a.getClass("thumb-track"),next:a.getClass("thumb-next")})},render:function(b){var a=this;if(!b||a.getMain()){return}baidu.dom.insertHTML(a.renderMain(b),"beforeEnd",baidu.string.format(a.tplDOM,{id:a.getId(),"class":a.getClass()}));a._renderUI();a.dispatchEvent("load")},_renderUI:function(){var i=this,f=i._axis[i.orientation],a=i.getBody(),h,g,d;function b(j){return{classPrefix:i.classPrefix+"-"+j,skin:i.skin?i.skin+"-"+j:"",poll:{time:4},onmousedown:function(){i._basicScroll(j)},element:a,autoRender:true}}h=i._prev=new baidu.ui.Button(b("prev"));baidu.dom.insertHTML(a,"beforeEnd",baidu.string.format(i.tplDOM,{id:i.getId("track"),"class":i.getClass("track")}));d=i._next=new baidu.ui.Button(b("next"));function c(j){i.dispatchEvent("scroll",{value:Math.round(j.target.getValue())})}g=i._slider=new baidu.ui.Slider({classPrefix:i.classPrefix+"-slider",skin:i.skin?i.skin+"-slider":"",layout:i.orientation,onslide:c,onslideclick:c,element:baidu.dom.g(i.getId("track")),autoRender:true});i._scrollBarSize[f.unSize]=d.getBody()[f.unOffsetSize];i._thumbButton=new baidu.ui.Button({classPrefix:i.classPrefix+"-thumb-btn",skin:i.skin?i.skin+"-thumb-btn":"",content:i.getThumbString(),capture:true,element:g.getThumb(),autoRender:true});i.flushUI(i.value,i.dimension);i._registMouseWheelEvt(i.getMain())},flushUI:function(j,f){var i=this,d=i._axis[i.orientation],h=i._prev.getBody()[d.offsetSize]+i._next.getBody()[d.offsetSize],g=i.getBody(),b=i._slider,a=b.getThumb(),c;baidu.dom.hide(g);c=i.getMain()[d.clientSize];i._scrollBarSize[d.size]=(c<=0)?h:c;b.getMain().style[d.size]=(c<=0?0:c-h)+"px";a.style[d.size]=Math.max(Math.min(f,100),0)+"%";baidu.dom.show(g);i._scrollTo(j)},_scrollTo:function(a){this._slider.update({value:a})},scrollTo:function(b){var a=this;a._scrollTo(b);a.dispatchEvent("scroll",{value:b})},_basicScroll:function(b){var a=this;a.scrollTo(Math.round(a._slider.getValue())+(b=="prev"?-a.step:a.step))},_onMouseWheelHandler:function(a){var c=this,d=c.target,a=a||window.event,b=a.detail||-a.wheelDelta;baidu.event.preventDefault(a);c._basicScroll(b>0?"next":"prev")},_registMouseWheelEvt:function(c){var b=this,d=function(){var f=navigator.userAgent.toLowerCase(),g=/(webkit)/.exec(f)||/(opera)/.exec(f)||/(msie)/.exec(f)||f.indexOf("compatible")<0&&/(mozilla)/.exec(f)||[];return g[1]=="mozilla"?"DOMMouseScroll":"mousewheel"},a=b._mouseWheelEvent={target:c,evtName:d(),handler:baidu.fn.bind("_onMouseWheelHandler",b)};baidu.event.on(a.target,a.evtName,a.handler)},_cancelMouseWheelEvt:function(){var a=this._mouseWheelEvent;if(!a){return}baidu.event.un(a.target,a.evtName,a.handler);this._mouseWheelEvent=null},setVisible:function(a){this.getMain().style.display=a?"":"none"},isVisible:function(){return this.getMain().style.display!="none"},getSize:function(){return this._scrollBarSize},update:function(a){var b=this;b.dispatchEvent("beforeupdate");baidu.object.extend(b,a);b.flushUI(b.value,b.dimension);b.dispatchEvent("update")},dispose:function(){var a=this;a.dispatchEvent("dispose");a._cancelMouseWheelEvt();a._prev.dispose();a._thumbButton.dispose();a._slider.dispose();a._next.dispose();baidu.dom.remove(a.getMain());baidu.lang.Class.prototype.dispose.call(a)}});baidu.ui.ScrollBar.register(function(a){if(!a.container){return}a.addEventListeners({load:function(){a.update();if(a.orientation=="vertical"){a._registMouseWheelEvt(a.getContainer())}},beforeupdate:function(){var d=this,c=d._axis[d.orientation],b=d.getContainer();if(!b){return}d.dimension=Math.round(b[c.clientSize]/b[c.scrollSize]*100);d.value=b[c.scrollSize]-b[c.clientSize];d.value>0&&(d.value=Math.round(b[c.scrollPos]/(b[c.scrollSize]-b[c.clientSize])*100))},scroll:function(c){var b=a.getContainer(),d=a._axis[a.orientation];b[d.scrollPos]=c.value/100*(b[d.scrollSize]-b[d.clientSize])}})});baidu.object.extend(baidu.ui.ScrollBar.prototype,{getContainer:function(){return baidu.dom.g(this.container)}});baidu.ui.ScrollPanel=baidu.ui.createUI(function(a){}).extend({uiType:"scrollpanel",tplDOM:'<div id="#{id}" class="#{class}">#{body}</div>',overflow:"auto",_scrollBarSize:0,_yVisible:false,_xVisible:false,_axis:{y:{size:"height",unSize:"width",unScrollSize:"scrollWidth",unClientSize:"clientWidth",offsetSize:"offsetHeight",unOffsetSize:"offsetWidth"},x:{size:"width",unSize:"height",unScrollSize:"scrollHeight",unClientSize:"clientHeight",offsetSize:"offsetWidth",unOffsetSize:"offsetHeight"}},getString:function(){var a=this,b=baidu.string.format(a.tplDOM,{id:a.getId("panel"),"class":a.getClass("panel")});b=baidu.string.format(a.tplDOM,{id:a.getId(),"class":a.getClass(),body:b});return baidu.string.format(a.tplDOM,{id:a.getId("main"),"class":a.getClass("main"),body:b})},render:function(b){var a=this;a.target=b;if(!b||a.getMain()){return}baidu.dom.insertHTML(a.getTarget(),"afterEnd",a.getString());a.renderMain(a.getId("main"));a._renderUI();a.dispatchEvent("onload")},_renderUI:function(){var c=this,a=c.getMain(),b=c.getPanel(),g=c.getTarget(),f=c.skin||"";a.style.width=g.offsetWidth+"px";a.style.height=g.offsetHeight+"px";b.appendChild(g);function d(l){var i=c.getId("overflow-"+l),j=c._axis[l],h=c.getPanel(),k;baidu.dom.insertHTML(h,(l=="y"?"afterEnd":"beforeEnd"),baidu.string.format(c.tplDOM,{id:i,"class":c.getClass("overflow-"+l)}));i=baidu.dom.g(i);if("y"==l){baidu.dom.setStyle(h,"float","left");baidu.dom.setStyle(i,"float","left")}c["_"+l+"Visible"]=true;k=c["_"+l+"Scrollbar"]=new baidu.ui.ScrollBar({skin:f+"scrollbar-"+l,orientation:l=="y"?"vertical":"horizontal",container:c.container,element:i,autoRender:true});i.style[j.unSize]=k.getSize()[j.unSize]+"px";c._scrollBarSize=k.getSize()[j.unSize];k.setVisible(false)}if(c.overflow=="overflow-y"||c.overflow=="auto"){d("y")}if(c.overflow=="overflow-x"||c.overflow=="auto"){d("x")}c._smartVisible()},_smartVisible:function(){var b=this,a={yshow:false,xshow:false};if(!b.getContainer()){return}function c(h){var j=b._axis[h],k=b["_"+h+"Scrollbar"],g=b.getContainer(),i={};if(!k||!k.isVisible()){g.style[j.unSize]=g[j.unClientSize]-b._scrollBarSize+"px"}i[j.unSize]=g[j.unClientSize];i["scroll"+j.unSize]=g[j.unScrollSize];return i}function f(h,i){var j=b._axis[h],g=b.getContainer();if(!b["_"+h+"Visible"]||!i[h+"show"]||!b["_"+h+"Scrollbar"]){g.style[j.unSize]=g[j.unClientSize]+b._scrollBarSize+"px"}}function d(h,j){var k=b._axis[h],g=b.getContainer(),l=b["_"+h+"Scrollbar"],i=j[h+"show"];if(l){l.getMain().style[k.size]=g[k.offsetSize]+"px";l.setVisible(b["_"+h+"Visible"]?i:false);l.update()}}baidu.object.extend(a,c("y"));baidu.object.extend(a,c("x"));if(a.scrollwidth<=a.width+b._scrollBarSize&&a.scrollheight<=a.height+b._scrollBarSize){a.yshow=a.xshow=false}else{if(a.scrollwidth<=a.width&&a.scrollheight>a.height+b._scrollBarSize){a.yshow=true;a.xshow=false}else{if(a.scrollwidth>a.width+b._scrollBarSize&&a.scrollheight<=a.height){a.yshow=false;a.xshow=true}else{a.yshow=a.xshow=true}}}f("y",a);f("x",a);d("y",a);d("x",a)},setVisible:function(b,c){var a=this;if(c){a["_"+c+"Visible"]=b}else{a._yVisible=a._xVisible=b}a._smartVisible()},isVisible:function(b){var a=this;return a["_"+b+"Visible"]},getScrollBar:function(c){var b=this,a=c?b["_"+c+"Scrollbar"]:null;if(!a){a=(b._yScrollbar&&b._xScrollbar)?[b._yScrollbar,b._xScrollbar]:(b._yScrollbar||b._xScrollbar)}return a},update:function(a){var b=this;baidu.object.extend(b,a);b._smartVisible()},getPanel:function(){return baidu.dom.g(this.getId("panel"))},getTarget:function(){return baidu.dom.g(this.target)},getContainer:function(){return baidu.dom.g(this.container)},dispose:function(){var b=this,a=b._yScrollbar,c=b._xScrollbar;b.dispatchEvent("dispose");b.setVisible(false);b.getMain().parentNode.insertBefore(b.getTarget(),b.getMain());if(a){a.dispose()}if(c){c.dispose()}baidu.dom.remove(b.getMain());baidu.lang.Class.prototype.dispose.call(b)}});baidu.ui.ScrollPanel.register(function(a){if(!a.adaptive){return}a.addEventListener("onload",function(){var c=20,b=a.getContainer(),d={w:b.clientWidth,h:b.clientHeight},f=setInterval(function(){var g=a.getContainer(),j=d,i;if(j.w==g.clientWidth&&j.h==g.clientHeight){return}i=d={w:g.clientWidth,h:g.clientHeight};function h(k){var m=a["_"+k+"Scrollbar"],l=a._axis[k],o=m?m.isVisible():false,n=a.getMain()[l.unClientSize]-a.getContainer()[l.unOffsetSize];return(o&&n==a._scrollBarSize)||(!o&&n==0)}if(h("y")&&h("x")){return}a.flushBounds()},c);a.addEventListener("dispose",function(){clearInterval(f)})})});baidu.ui.ScrollPanel.extend({adaptive:true,flushBounds:function(d){var c=this,a=c.getMain(),b=c.getContainer(),f={y:c._yVisible,x:c._xVisible},g={w:d&&baidu.lang.isNumber(d.width)?d.width:b.clientWidth,h:d&&baidu.lang.isNumber(d.height)?d.height:b.clientHeight};c.setVisible(false);b.style.width=g.w+"px";b.style.height=g.h+"px";a.style.width=b.offsetWidth+"px";a.style.height=b.offsetHeight+"px";c._yVisible=f.y;c._xVisible=f.x;c._smartVisible()}});baidu.ui.Slider.register(function(a){a.addEventListener("load",function(){baidu.dom.insertHTML(a.getThumb(),"beforeBegin",a.getProgressBarString());a.progressBar=new baidu.ui.ProgressBar({layout:a.layout,skin:a.skin?a.skin+"-followProgressbar":null});a.progressBar.render(a.getId("progressbar"));a._adjustProgressbar();a.addEventListener("dispose",function(){a.progressBar.dispose()})});a.addEventListeners("slide, slideclick, update",function(){a._adjustProgressbar()})});baidu.ui.Slider.extend({tplProgressbar:"<div id='#{rsid}' class='#{class}' style='position:absolute; left:0px; top:0px;'></div>",getProgressBarString:function(){var a=this;return baidu.string.format(a.tplProgressbar,{rsid:a.getId("progressbar"),"class":a.getClass("progressbar")})},_adjustProgressbar:function(){var f=this,d=f.layout,b=f._axis[d],a=f.getThumb(),c=parseInt(a.style[b.pos],10);if(!f.progressBar){return}f.progressBar.getBar().style[f.progressBar.axis[d].size]=(isNaN(c)?0:c)+a[b.offsetSize]/2+"px"}});baidu.ui.StarRate=baidu.ui.createUI(function(a){var b=this;b.element=null}).extend({uiType:"starRate",total:5,current:0,tplStar:'<span id="#{id}" class="#{className}" onmouseover="#{onmouseover}" onclick="#{onclick}"></span>',classOn:"on",classOff:"off",isDisable:false,getString:function(){var c=this,a=[],b;for(b=0;b<c.total;++b){a.push(baidu.string.format(c.tplStar,{id:c.getId(b),className:b<c.current?c.getClass(c.classOn):c.getClass(c.classOff),onmouseover:c.getCallString("hoverAt",b+1),onclick:c.getCallString("clickAt",b+1)}))}return a.join("")},render:function(a){var b=this;b.element=baidu.g(a);baidu.dom.insertHTML(b.element,"beforeEnd",b.getString());b._mouseOutHandle=baidu.fn.bind(function(){var c=this;c.starAt(c.current);c.dispatchEvent("onleave")},b);b.on(b.element,"mouseout",b._mouseOutHandle)},starAt:function(a){var c=this,b;for(b=0;b<c.total;++b){baidu.g(c.getId(b)).className=b<a?c.getClass(c.classOn):c.getClass(c.classOff)}},hoverAt:function(a){if(!this.isDisable){this.starAt(a);this.dispatchEvent("onhover",{data:{index:a}})}},clickAt:function(a){if(!this.isDisable){this.current=a;this.dispatchEvent("onclick",{data:{index:a}})}},disable:function(){var a=this;a.isDisable=true},enable:function(){var a=this;a.isDisable=false},dispose:function(){var b=this,a;for(a=0;a<b.total;++a){baidu.dom.remove(b.getId(a))}b.dispatchEvent("ondispose");baidu.lang.Class.prototype.dispose.call(b)}});baidu.ui.Suggestion=baidu.ui.createUI(function(a){var b=this;b.addEventListener("onload",function(){b.on(document,"mousedown",b.documentMousedownHandler);b.on(window,"blur",b.windowBlurHandler)});b.documentMousedownHandler=b._getDocumentMousedownHandler();b.windowBlurHandler=b._getWindowBlurHandler();b.enableIndex=[];b.currentIndex=-1}).extend({uiType:"suggestion",onbeforepick:new Function,onpick:new Function,onconfirm:new Function,onhighlight:new Function,onshow:new Function,onhide:new Function,getData:function(){return[]},prependHTML:"",appendHTML:"",currentData:{},tplDOM:"<div id='#{0}' class='#{1}' style='position:relative; top:0px; left:0px'></div>",tplPrependAppend:"<div id='#{0}' class='#{1}'>#{2}</div>",tplBody:'<table cellspacing="0" cellpadding="2"><tbody>#{0}</tbody></table>',tplRow:'<tr><td id="#{0}" onmouseover="#{2}" onmouseout="#{3}" onmousedown="#{4}" onclick="#{5}" class="#{6}">#{1}</td></tr>',getString:function(){var a=this;return baidu.format(a.tplDOM,a.getId(),a.getClass(),a.guid)},render:function(c){var b=this,a,c=baidu.g(c);if(b.getMain()||!c){return}if(c.id){b.targetId=c.id}else{b.targetId=c.id=b.getId("input")}a=b.renderMain();a.style.display="none";a.innerHTML=b.getString();this.dispatchEvent("onload")},_isShowing:function(){var b=this,a=b.getMain();return a&&a.style.display!="none"},pick:function(a){var d=this,b=d.currentData,f=b&&typeof a=="number"&&typeof b[a]!="undefined"?b[a].value:a,c={data:{item:f==a?{value:a,content:a}:b[a],index:a}};if(d.dispatchEvent("onbeforepick",c)){d.dispatchEvent("onpick",c)}},show:function(g,f,c){var b=0,a=f.length,d=this;if(g!=d.getTargetValue()){return}d.enableIndex=[];d.currentIndex=-1;if(a==0&&!c){d.hide()}else{d.currentData=[];for(;b<a;b++){if(typeof f[b].value!="undefined"){d.currentData.push(f[b])}else{d.currentData.push({value:f[b],content:f[b]})}if(typeof f[b]["disable"]=="undefined"||f[b]["disable"]==false){d.enableIndex.push(b)}}d.getBody().innerHTML=d._getBodyString();d.getMain().style.display="block";d.dispatchEvent("onshow")}},hide:function(){var f=this;if(!f._isShowing()){return}if(f.currentIndex>=0&&f.holdHighLight){var d=f.currentData,b=-1;for(var c=0,a=d.length;c<a;c++){if(typeof d[c].disable=="undefined"||d[c].disable==false){b++;if(b==f.currentIndex){f.pick(c)}}}}f.getMain().style.display="none";f.dispatchEvent("onhide")},highLight:function(a){var c=this,d=c.enableIndex,b=null;if(!c._isEnable(a)){return}c.currentIndex>=0&&c._clearHighLight();b=c._getItem(a);baidu.addClass(b,c.getClass("current"));c.currentIndex=baidu.array.indexOf(d,a);c.dispatchEvent("onhighlight",{index:a,data:c.getDataByIndex(a)})},clearHighLight:function(){var c=this,a=c.currentIndex,b=c.enableIndex[a];c._clearHighLight()&&c.dispatchEvent("onclearhighlight",{index:b,data:c.getDataByIndex(b)})},_clearHighLight:function(){var c=this,a=c.currentIndex,d=c.enableIndex,b=null;if(a>=0){b=c._getItem(d[a]);baidu.removeClass(b,c.getClass("current"));c.currentIndex=-1;return true}return false},confirm:function(a,c){var b=this;if(c!="keyboard"){if(!b._isEnable(a)){return}}b.pick(a);b.dispatchEvent("onconfirm",{data:b.getDataByIndex(a)||a,source:c});b.currentIndex=-1;b.hide()},getDataByIndex:function(a){return{item:this.currentData[a],index:a}},getTargetValue:function(){return this.getTarget().value},getTarget:function(){return baidu.g(this.targetId)},_getItem:function(a){return baidu.g(this.getId("item"+a))},_getBodyString:function(){var g=this,f="",d=[],h=g.currentData,a=h.length,c=0;function b(i){return baidu.format(g.tplPrependAppend,g.getId(i),g.getClass(i),g[i+"HTML"])}f+=b("prepend");for(;c<a;c++){d.push(baidu.format(g.tplRow,g.getId("item"+c),h[c].content,g.getCallRef()+"._itemOver(event, "+c+")",g.getCallRef()+"._itemOut(event, "+c+")",g.getCallRef()+"._itemDown(event, "+c+")",g.getCallRef()+"._itemClick(event, "+c+")",(typeof h[c]["disable"]=="undefined"||h[c]["disable"]==false)?"":g.getClass("disable")))}f+=baidu.format(g.tplBody,d.join(""));f+=b("append");return f},_itemOver:function(c,a){var b=this;baidu.event.stop(c||window.event);b._isEnable(a)&&b.highLight(a);b.dispatchEvent("onmouseoveritem",{index:a,data:b.getDataByIndex(a)})},_itemOut:function(c,a){var b=this;baidu.event.stop(c||window.event);if(!b.holdHighLight){b._isEnable(a)&&b.clearHighLight()}b.dispatchEvent("onmouseoutitem",{index:a,data:b.getDataByIndex(a)})},_itemDown:function(c,a){var b=this;baidu.event.stop(c||window.event);b.dispatchEvent("onmousedownitem",{index:a,data:b.getDataByIndex(a)})},_itemClick:function(c,a){var b=this;baidu.event.stop(c||window.event);b.dispatchEvent("onitemclick",{index:a,data:b.getDataByIndex(a)});b._isEnable(a)&&b.confirm(a,"mouse")},_isEnable:function(a){var b=this;return baidu.array.contains(b.enableIndex,a)},_getDocumentMousedownHandler:function(){var a=this;return function(d){d=d||window.event;var b=d.target||d.srcElement,c=baidu.ui.get(b);if(b==a.getTarget()||(c&&c.uiType==a.uiType)){return}a.hide()}},_getWindowBlurHandler:function(){var a=this;return function(){a.hide()}},dispose:function(){var a=this;a.dispatchEvent("dispose");baidu.dom.remove(a.mainId);baidu.lang.Class.prototype.dispose.call(this)}});baidu.extend(baidu.ui.Suggestion.prototype,{coverable:true,coverableOptions:{}});baidu.ui.Suggestion.register(function(a){if(a.coverable){a.addEventListener("onshow",function(){a.Coverable_show()});a.addEventListener("onhide",function(){a.Coverable_hide()})}});baidu.ui.Suggestion.extend({setData:function(d,c,b){var a=this;a.dataCache[d]=c;if(!b){a.show(d,a.dataCache[d])}}});baidu.ui.Suggestion.register(function(a){a.dataCache={},a.addEventListener("onneeddata",function(c,d){var b=a.dataCache;if(typeof b[d]=="undefined"){a.getData(d)}else{a.show(d,b[d])}})});baidu.ui.Suggestion.extend({posable:true,fixWidth:true,getWindowResizeHandler:function(){var a=this;return function(){a.adjustPosition(true)}},adjustPosition:function(b){var d=this,f=d.getTarget(),c,a=d.getMain(),g;if(!d._isShowing()&&b){return}c=baidu.dom.getPosition(f),g={top:(c.top+f.offsetHeight-1),left:c.left,width:f.offsetWidth};g=typeof d.view=="function"?d.view(g):g;d.setPosition([g.left,g.top],null,{once:true});baidu.dom.setOuterWidth(a,g.width)}});baidu.ui.Suggestion.register(function(a){a.windowResizeHandler=a.getWindowResizeHandler();a.addEventListener("onload",function(){a.adjustPosition();if(a.fixWidth){a.fixWidthTimer=setInterval(function(){var b=a.getMain(),c=a.getTarget();if(b.offsetWidth!=0&&c&&c.offsetWidth!=b.offsetWidth){a.adjustPosition();b.style.display="block"}},100)}a.on(window,"resize",a.windowResizeHandler)});a.addEventListener("onshow",function(){a.adjustPosition()});a.addEventListener("ondispose",function(){clearInterval(a.fixWidthTimer)})});baidu.ui.Suggestion.register(function(f){var i,c="",h,d,b=false,g=false;function a(){setTimeout(function(){h=f.getTarget().value},20)}f.addEventListener("onload",function(){i=this.getTarget();a();f.on(window,"onload",a);f.targetKeydownHandler=f.getTargetKeydownHandler();f.on(i,"keydown",f.targetKeydownHandler);i.setAttribute("autocomplete","off");f.circleTimer=setInterval(function(){if(g){return}if(baidu.g(i)==null){f.dispose()}var j=i.value;if(j==c&&j!=""&&j!=h&&j!=d){if(f.requestTimer==0){f.requestTimer=setTimeout(function(){f.dispatchEvent("onneeddata",j)},100)}}else{clearTimeout(f.requestTimer);f.requestTimer=0;if(j==""&&c!=""){d="";f.hide()}c=j;if(j!=d){f.defaultIptValue=j}if(h!=i.value){h=""}}},10);f.on(i,"beforedeactivate",f.beforedeactivateHandler)});f.addEventListener("onitemclick",function(){g=false;f.defaultIptValue=c=f.getTargetValue()});f.addEventListener("onpick",function(j){if(b){i.blur()}i.value=d=j.data.item.value;if(b){i.focus()}});f.addEventListener("onmousedownitem",function(j){b=true;g=true;setTimeout(function(){g=false;b=false},500)});f.addEventListener("ondispose",function(){clearInterval(f.circleTimer)})});baidu.ui.Suggestion.extend({beforedeactivateHandler:function(){return function(){if(mousedownView){window.event.cancelBubble=true;window.event.returnValue=false}}},getTargetKeydownHandler:function(){var b=this;function a(c){if(!b._isShowing()){b.dispatchEvent("onneeddata",b.getTargetValue());return}var f=b.enableIndex,d=b.currentIndex;if(f.length==0){return}if(c){switch(d){case -1:d=f.length-1;b.pick(f[d]);b.highLight(f[d]);break;case 0:d=-1;b.pick(b.defaultIptValue);b.clearHighLight();break;default:d--;b.pick(f[d]);b.highLight(f[d]);break}}else{switch(d){case -1:d=0;b.pick(f[d]);b.highLight(f[d]);break;case f.length-1:d=-1;b.pick(b.defaultIptValue);b.clearHighLight();break;default:d++;b.pick(f[d]);b.highLight(f[d]);break}}b.currentIndex=d}return function(f){var c=false,d;f=f||window.event;switch(f.keyCode){case 9:case 27:b.hide();break;case 13:baidu.event.stop(f);b.confirm(b.currentIndex==-1?b.getTarget().value:b.enableIndex[b.currentIndex],"keyboard");break;case 38:c=true;case 40:baidu.event.stop(f);a(c);break;default:b.currentIndex=-1}}},defaultIptValue:""});baidu.ui.Table.register(function(a){a._createPage();a.addEventListener("beforeupdate",function(){a._createPage()})});baidu.object.extend(baidu.ui.Table.prototype,{currentPage:1,_createPage:function(){var a=this;a.dataSet=a.data||[];if(a.pageSize){a.data=a.data.slice(0,a.pageSize)}},gotoPage:function(a){var c=this,a=a<=0?1:Math.min(a,c.getTotalPage()),g=(a-1)*c.pageSize,d=c.dataSet.slice(g,g+c.pageSize),b=0,f;for(;b<c.pageSize;b++){f=c.getRow(b);if(d[b]){if(f){f.update(d[b])}else{c.dispatchEvent("addrow",{rowId:c._addRow(d[b])})}}else{if(f){c.dispatchEvent("removerow",{rowId:c._removeRow(b--)})}}}c.data=d;c.currentPage=a;c.dispatchEvent("gotopage")},prevPage:function(){var a=this;a.gotoPage(--a.currentPage)},nextPage:function(){var a=this;a.gotoPage(++a.currentPage)},getTotalCount:function(){return this.dataSet.length},getTotalPage:function(){var a=this;return baidu.lang.isNumber(a.pageSize)?Math.ceil(a.dataSet.length/a.pageSize):a.currentPage},getCurrentPage:function(){return this.currentPage},addRow:function(d,c){var f=this,c=baidu.lang.isNumber(c)?c:f.getTotalCount(),b=f.getCurrentPage(),a=Math.ceil((c+1)/f.pageSize),g=d,h;if(f.pageSize){f.dataSet.splice(c,0,g);if(b>=a){c%=f.pageSize;if(b!=a){g=f.dataSet[(b-1)*f.pageSize];c=0}h=f._addRow(g,c);if(f.getRowCount()>f.pageSize){f.dispatchEvent("removerow",{rowId:f._removeRow(f.getRowCount()-1)})}}f.dispatchEvent("addrow",{rowId:h})}else{f.dispatchEvent("addrow",{rowId:f._addRow(d,c)})}},removeRow:function(b){var d=this,a=d.getCurrentPage(),c=Math.ceil((b+1)/d.pageSize),g,f;if(d.pageSize){d.dataSet.splice(b,1);if(a>=c){b=a!=c?0:b%d.pageSize;g=d._removeRow(b);f=d.dataSet[a*d.pageSize-1];if(f){d.dispatchEvent("addrow",{rowId:d._addRow(f)})}}d.dispatchEvent("removerow",{rowId:g})}else{d.dispatchEvent("removerow",{rowId:d._removeRow(b)})}}});baidu.ui.Table.register(function(a){a.addEventListeners("load, update",function(){if(a.withPager){baidu.dom.insertHTML(a.getTarget(),"beforeEnd","<div id='"+a.getId("-pager")+"' align='right'></div>");a.pager=new baidu.ui.Pager({endPage:a.getTotalPage()+1,ongotopage:function(b){a.gotoPage(b.page)}});a.pager.render(a.getPagerContainer());a.addEventListeners("addrow, removerow",function(){a.pager.update({endPage:a.getTotalPage()+1})});a.resize();baidu.event.on(window,"resize",function(){a.resize()})}})});baidu.object.extend(baidu.ui.Table.prototype,{getPagerContainer:function(){return baidu.g(this.getId("-pager"))},resize:function(){var a=this;baidu.dom.setStyle(a.getPagerContainer(),"width",a.getBody().offsetWidth+"px")}});baidu.ui.Table.register(function(a){if(!a.columns){return}a.addEventListeners("load, update",function(){var c=0,b=a.getRowCount(),d=a._editArray=[],f=a._textField=new baidu.ui.Input({element:a.getMain(),autoRender:true});f.getBody().onblur=baidu.fn.bind("_cellBlur",a);baidu.dom.hide(f.getBody());baidu.array.each(a.columns,function(g){if(g.hasOwnProperty("enableEdit")){d.push(g)}});for(;c<b;c++){a.attachEdit(a.getRow(c))}})});baidu.object.extend(baidu.ui.Table.prototype,{attachEdit:function(b){var a=this;baidu.array.each(a._editArray,function(d){var c=b.getBody().cells[d.index];c.ondblclick=d.enableEdit?baidu.fn.bind("_cellFocus",a,c):null})},_cellFocus:function(a,b){var f=this,c=f._textField.getBody(),d=a.clientWidth;if(baidu.event.getTarget(b||window.event).id==c.id){return}c.value=a.innerHTML;a.innerHTML="";a.appendChild(c);baidu.dom.show(c);c.style.width=d-c.offsetWidth+c.clientWidth+"px";c.focus();c.select()},_cellBlur:function(b){var c=this,d=baidu.event.getTarget(b||window.event),a=baidu.dom.getAncestorByTag(d,"td");baidu.dom.hide(d);c.getTarget().appendChild(d);a.innerHTML=d.value}});baidu.ui.Table.register(function(a){if(a.columns){a.addEventListeners("load, update",function(){a._selectedItems={};a._checkboxList={};a._checkboxDomList={};a._createSelect()});a.addEventListeners({addrow:function(b){a.addCheckbox(b.rowId,a._selectIndex)},removerow:function(b){a.removeCheckbox(b.rowId)},gotopage:function(){a.unselectAll()}})}});baidu.object.extend(baidu.ui.Table.prototype,{tplSelect:'<input id="#{id}" type="checkbox" value="#{value}" onclick="#{handler}"/>',_createTitleScelect:function(a){var b=this;b.titleCheckboxId=b.titleCheckboxId||b.getId("checkboxAll");baidu.dom.insertHTML(b.getTitleBody().rows[0].cells[a],"beforeEnd",baidu.string.format(b.tplSelect,{id:b.titleCheckboxId,value:"all",handler:b.getCallString("toggleAll")}))},_createSelect:function(){var d=this,a=d.getRowCount(),c=0,b;baidu.array.each(d.columns,function(f){if(f.hasOwnProperty("type")&&f.type.toLowerCase()=="checkbox"){d._selectIndex=b=f.index;return false}});if(d.title&&baidu.lang.isNumber(b)){if(d.getTitleBody&&d.getTitleBody()){d._createTitleScelect(b)}else{d.addEventListener("titleload",function(){d._createTitleScelect(b);d.removeEventListener("titleload",arguments.callee)})}}if(baidu.lang.isNumber(b)){for(;c<a;c++){d.addCheckbox(d.getRow(c).getId(),b)}}},_getSelectString:function(c){var b=this,a=c.getId("checkbox");b._checkboxList[c.getId()]=a;b._checkboxDomList[c.getId()]=a;return baidu.string.format(b.tplSelect,{id:a,value:c.id?c.id:c.guid,handler:b.getCallString("toggle",a)})},addCheckbox:function(f,c){var d=this,g,b,a;if(baidu.lang.isNumber(c)){g=baidu.ui.get(baidu.g(f)),b=g.getBody().cells[c],a=d._getSelectString(g);baidu.dom.insertHTML(b,"beforeEnd",a);baidu.dom.setAttr(b,"align","center");g.addEventListener("update",function(){baidu.dom.insertHTML(b,"beforeEnd",a)});d._checkboxDomList[f]=baidu.dom.g(d._checkboxDomList[f])}},removeCheckbox:function(b){var a=this;delete a._selectedItems[a._checkboxList[b]];delete a._checkboxList[b];delete a._checkboxDomList[b]},getTitleCheckbox:function(){return baidu.dom.g(this.titleCheckboxId)},setTitleCheckbox:function(a){this.titleCheckboxId=a.id||a},_setSelectItems:function(d){var a=this,b=baidu.g(d),c;if(b.checked){c=baidu.ui.get(baidu.dom.getAncestorByTag(d,"TR"));a._selectedItems[b.id]=c.id||c}else{delete a._selectedItems[b.id]}},_setCheckboxState:function(f,d){var b=this,f=baidu.lang.isNumber(f)?[f]:f,a=[],c;if(f){baidu.array.each(f,function(g){a.push(b._checkboxDomList[b.getRow(g).getId()])})}else{a=baidu.object.values(b._checkboxDomList)}baidu.array.each(a,function(g){if(d&&!g.checked){g.checked=true}else{if(!d&&g.checked){g.checked=false}}if(f){b.toggle(g)}else{b._setSelectItems(g)}})},select:function(a){this._setCheckboxState(a,true)},unselect:function(a){this._setCheckboxState(a,false)},toggle:function(b){var c=this,f=c.getTitleCheckbox(),d=baidu.g(b),a;c._setSelectItems(b);if(d.checked){a=baidu.object.keys(c._selectedItems).length;if(f&&!f.checked&&a==baidu.object.keys(c._checkboxList).length){f.checked=true}}else{if(f&&f.checked){f.checked=false}}},selectAll:function(){this._setCheckboxState(null,true)},unselectAll:function(){this._setCheckboxState(null,false)},toggleAll:function(){var a=this,b=a.getTitleCheckbox();if(b){this._setCheckboxState(null,b.checked)}},getSelected:function(){return baidu.object.values(this._selectedItems)}});baidu.ui.Table.register(function(a){if(a.title){a.addEventListeners("load, update",function(){if(!a.getTitleBody()){baidu.dom.insertHTML(a.getTarget(),"afterBegin",a._getTitleString());a.dispatchEvent("titleload");baidu.dom.setStyles(a.getBody(),{tableLayout:"fixed"});baidu.dom.setStyles(a.getTitleBody(),{width:a.getBody().offsetWidth+"px",tableLayout:"fixed"})}if(a.getTitleBody()&&a.columns){baidu.array.each(a.columns,function(b){if(b.hasOwnProperty("width")){baidu.dom.setStyles(a.getTitleBody().rows[0].cells[b.index],{width:b.width})}})}});a.addEventListener("addrow",function(){if(a.getRowCount()==1){baidu.dom.setStyles(a.getTitleBody(),{width:a.getBody().offsetWidth+"px"})}})}});baidu.object.extend(baidu.ui.Table.prototype,{tplTitle:'<div><table id="#{rsid}" class="#{tabClass}" cellspacing="0" cellpadding="0" border="0"><tr class="#{trClass}">#{col}</tr></table></div>',_getTitleString:function(){var c=this,b=[],a="";baidu.array.each(c.title,function(d){b.push("<td>",d,"</td>")});return baidu.string.format(c.tplTitle,{rsid:c.getId("title"),tabClass:c.getClass("title"),trClass:c.getClass("title-row"),col:b.join("")})},getTitleBody:function(){return baidu.g(this.getId("title"))}});baidu.ui.Toolbar=baidu.ui.createUI(function(c){var d=this,b=false,a='align="';d._itemObject={};d.items=d.items||{};if(d.direction!="horizontal"){d.direction="vertical";!baidu.array.contains(["top","middle","bottom","baseline"],d.position)&&(d.position="top")}d._positionStr=a+d.position+'"'}).extend({title:"",direction:"horizontal",position:"left",cellIndex:0,tplMain:'<div id="#{bodyId}" class="#{bodyClass}" onmousedown="javascript:return false;">#{title}<div id="#{bodyInner}" class="#{bodyInnerClass}"><table cellpadding="0" cellspacing="0" style="width:100%; height:100%" id="#{tableId}"><tr><td style="width:100%; height:100%; overflow:hidden;" valign="top"><table cellpadding="0" cellspacing="0" id="#{tableInnerId}">#{content}</table></td></tr></table></div></div>',tplTitle:'<div id="#{titleId}" class="#{titleClass}"><div id="#{titleInnerId}" class="#{titleInnerClass}">#{title}</div></div>',tplHorizontalCell:'<td id="#{id}" valign="middle" style="overflow:hidden;"></td>',tplVerticalCell:'<tr><td id="#{id}" valign="middle" style="overflow:hidden;"></td></tr>',uiType:"toolbar",getString:function(){var a=this;return baidu.format(a.tplMain,{bodyId:a.getId(),bodyClass:a.getClass(),bodyInner:a.getId("bodyInner"),bodyInnerClass:a.getClass("body-inner"),title:a.title===""?"":baidu.format(a.tplTitle,{titleId:a.getId("title"),titleClass:a.getClass("title"),titleInnerId:a.getId("titleInner"),titleInnerClass:a.getClass("title-inner"),title:a.title}),tableId:a.getId("table"),position:a._positionStr,tableInnerId:a.getId("tableInner"),content:a.direction=="horizontal"?"<tr>"+a._createCell(a.items.length,"str")+"</tr>":a._createCell(a.items.length,"str")})},render:function(b){var c=this,a;c.container=b=baidu.g(b||c.container);baidu.insertHTML(c.renderMain(b),"beforeEnd",c.getString());a=baidu.g(c.getId());c.width&&baidu.setStyle(a,"width",c.width);c.height&&baidu.setStyle(a,"height",c.height);c._createItems()},_createItems:function(){var c=this,b=baidu.g(c.getId("tableInner")),a=[];baidu.each(b.rows,function(f,d){baidu.each(f.cells,function(h,g){a.push(h)})});baidu.each(c.items,function(f,d){c.add(f,a[d])})},add:function(d,b){var h=this,c=null,a={type:"button",config:{}},g=null,f;if(!d){return}baidu.object.merge(d,a);delete (d.config.statable);d.type=d.type.toLowerCase();g=baidu.ui.getUI(d.type);if(g){baidu.object.merge(g,{statable:true},{whiteList:["statable"]});c=new g(d.config);h.addRaw(c,b)}return c},addRaw:function(b,a){var c=this;if(!b){return}baidu.extend(b,baidu.ui.Toolbar._itemBehavior);b.setName(b.name);if(!a){a=c._createCell(1,"html")[0]}b.render(a);c._itemObject[b.getName()]=[b,a.id]},_createCell:function(c,f){var g=this,j,b=[],a,h,d;f=="str"||(f="html");if(f=="str"){if(g.direction=="horizontal"){for(d=0;d<c;d++){b.push(baidu.format(g.tplHorizontalCell,{id:g.getId("cell-"+g.cellIndex++)}))}}else{for(d=0;d<c;d++){b.push(baidu.format(g.tplVerticalCell,{id:g.getId("cell-"+g.cellIndex++)}))}}b=b.join("")}else{a=baidu.g(g.getId("tableInner"));h=a.rows[0];if(g.direction=="horizontal"){for(d=0;d<c;d++){j=h.insertCell(h.cells.length);j.id=g.getId("cell-"+g.cellIndex++);j.valign="middle";b.push(j)}}else{for(d=0;d<c;d++){j=a.insertRow(a.rows.length);j=j.insertCell(0);j.id=g.getId("cell-"+g.cellIndex++);j.valign="middle";b.push(j)}}}return b},remove:function(a){var c=this,b;if(!a){return}if(b=c._itemObject[a]){b[0].dispose();baidu.dom.remove(b[1]);delete (c._itemObject[a])}else{baidu.object.each(c._itemObject,function(f,d){f[0].remove&&f[0].remove(a)})}},removeAll:function(){var a=this;baidu.object.each(a._itemObject,function(c,b){c[0].dispose();baidu.dom.remove(c[1])});a._itemObject={}},enable:function(a){var c=this,b;if(!a){c.enableAll()}else{if(b=c._itemObject[a]){b[0].enable()}}},disable:function(a){var c=this,b;if(!a){c.disableAll()}else{if(b=c._itemObject[a]){b[0].disable()}}},enableAll:function(){var a=this;baidu.object.each(a._itemObject,function(c,b){c[0].enable()})},disableAll:function(){var a=this;baidu.object.each(a._itemObject,function(c,b){c[0].disable()})},getItemByName:function(a){var c=this,b=c._itemObject[a];if(!b){baidu.object.each(c._itemObject,function(f,d){f.getItemByName&&(b=f.getItemByName(a));if(b){return false}})}return(b?b[0]:null)},dispose:function(){var a=this;a.removeAll();a.dispatchEvent("dispose");baidu.dom.remove(a.getMain());baidu.lang.Class.prototype.dispose.call(a)}});baidu.ui.Toolbar._itemIndex=0;baidu.ui.Toolbar._itemBehavior={_toolbar_item_name:"",setName:function(a){var b=this;if(baidu.lang.isString(a)){b._toolbar_item_name=a}else{b._toolbar_item_name="tangram_toolbar_item_"+baidu.ui.Toolbar._itemIndex++}},getName:function(){var a=this;return a._toolbar_item_name},setHighLight:function(){var a=this;a.setState("highlight");a.dispatchEvent("onhighlight")},cancelHighLight:function(){var a=this;a.removeState("highlight");a.dispatchEvent("oncancelhighlight")}};baidu.ui.Toolbar.Separator=baidu.ui.createUI(function(a){}).extend({statable:false,uiType:"toolbar-separator",tplMain:'<span id="#{id}" class="#{class}" style="display:block"></span>',getString:function(){var a=this;return baidu.format(a.tplMain,{id:a.getId(),"class":a.getClass()})},render:function(a){var b=this;baidu.dom.insertHTML(b.renderMain(a),"beforeEnd",b.getString())}});baidu.ui.Toolbar.Spacer=baidu.ui.createUI(function(a){}).extend({statable:false,uiType:"toolbar-spacer",width:"10px",tplBody:'<div #{style} id="#{id}" class="#{class}"></div>',getString:function(){var a=this;return baidu.format(a.tplBody,{style:'style="'+(a.height?"height:"+a.height:"width:"+a.width)+'"',id:a.getId(),"class":a.getClass()})},render:function(a){var b=this;baidu.dom.insertHTML(b.renderMain(a),"beforeEnd",b.getString())}});baidu.ui.Tooltip=baidu.ui.createUI(function(a){var b=this;b.target=b.getTarget();b.offset=a.offset||[0,0];b.positionElement=null;baidu.ui.Tooltip.showing[b.guid]=b}).extend({uiType:"tooltip",width:"",height:"",zIndex:3000,currentTarget:null,type:"click",posable:true,positionBy:"element",offsetPosition:"bottomright",isShowing:false,tplBody:'<div id="#{id}" class="#{class}"></div>',getString:function(){var a=this;return baidu.format(a.tplBody,{id:a.getId(),"class":a.getClass()})},toggle:function(){return true},render:function(){var b=this,a,c;a=b.renderMain();baidu.each(b.target,function(f,d){if((c=baidu.getAttr(f,"title"))&&c!=""){baidu.setAttr(f,"tangram-tooltip-title",c);baidu.setAttr(f,"title","")}});baidu.dom.insertHTML(a,"beforeend",b.getString());b._update();b._close();b.dispatchEvent("onload")},open:function(d){var b=this,g=baidu.ui.Tooltip.showing,f=baidu.ui.Tooltip.isSingleton,d=d||b.target[0],c=b.currentTarget,a=b.getBody();if(c===d){return}b.isShowing&&b.close(c);if(f){baidu.object.each(g,function(i,h){if(h!=b.guid&&i.isShowing){i.close()}})}if(typeof b.toggle=="function"&&!b.toggle()){return}b.currentTarget=d;b._updateBodyByTitle();b._setPosition();b.isShowing=true;if(b.dispatchEvent("onbeforeopen")){b.dispatchEvent("open");return}},_updateBody:function(b){var c=this,b=b||{},a=c.getBody(),d;if(c.contentElement&&c.contentElement!==a.firstChild){a.innerHTML="";a.appendChild(c.contentElement);c.contentElement=a.firstChild}else{if(typeof b.contentElement!="undefined"){a.innerHTML="";b.contentElement!=null&&a.appendChild(b.contentElement)}}if(!b.contentElement){if(typeof b.content=="string"){a.innerHTML="";a.innerHTML=b.content}else{if(typeof c.content=="string"&&baidu.dom.children(a).length==0){a.innerHTML=c.content}}}},_updateBodyByTitle:function(){var b=this,a=b.getBody(),c;if(!b.contentElement&&!b.content&&b.currentTarget){if((c=baidu.getAttr(b.currentTarget,"tangram-tooltip-title"))&&c!=""){a.innerHTML=c}else{a.innerHTML=""}}},_update:function(c){var d=this,c=c||{},b=d.getMain(),a=d.getBody();d._updateBody(c);baidu.object.extend(d,c);d.contentElement=baidu.dom.children(a).length>0?a.firstChild:null;d._updateBodyByTitle();baidu.dom.setStyles(b,{zIndex:d.zIndex,width:d.width,height:d.height,display:""})},update:function(a){var b=this;b._update(a);b._setPosition();b.dispatchEvent("onupdate")},_setPosition:function(){var c=this,a=typeof c.insideScreen=="string"?c.insideScreen:"surround",b={once:true,offset:c.offset,position:c.offsetPosition,insideScreen:a};switch(c.positionBy){case"element":c.setPositionByElement(c.positionElement||c.currentTarget,c.getMain(),b);break;case"mouse":c.setPositionByMouse(c.getMain(),b);break;default:break}},close:function(){var a=this;if(!a.isShowing){return}a.isShowing=false;if(a.dispatchEvent("onbeforeclose")){a._close();a.dispatchEvent("onclose")}a.currentTarget=null},_close:function(){var a=this;a.getMain().style.left="-100000px"},dispose:function(){var a=this;a.dispatchEvent("ondispose");if(a.getMain()){baidu.dom.remove(a.getMain())}delete (baidu.ui.Tooltip.showing[a.guid]);baidu.lang.Class.prototype.dispose.call(a)},getTarget:function(){var a=this,b=[];baidu.each(baidu.lang.toArray(a.target),function(c){b.push(baidu.G(c))});return b}});baidu.ui.Tooltip.isSingleton=false;baidu.ui.Tooltip.showing={};baidu.ui.Tooltip.register(function(b){if(b.type=="click"){b.addEventListener("onload",function(){baidu.each(b.target,function(d){baidu.on(d,"click",a)})});b.addEventListener("ondispose",function(){baidu.each(b.target,function(d){baidu.un(d,"click",a)});baidu.un(document,"click",c)});b.addEventListener("onopen",function(){baidu.un(b.currentTarget,"click",a);baidu.on(b.currentTarget,"click",c);baidu.on(document,"click",c)});b.addEventListener("onclose",function(){baidu.on(b.currentTarget,"click",a);baidu.un(b.currentTarget,"click",c);baidu.un(document,"click",c)});function a(d){b.open(this);baidu.event.stop(d||window.event)}function c(g){var f=baidu.event.getTarget(g||window.event),d=function(h){return b.getBody()==h};if(d(f)||baidu.dom.getAncestorBy(f,d)||baidu.ui.get(f)==b){return}b.close();baidu.event.stop(g||window.event)}}});baidu.ui.Tooltip.extend({headContent:"",tplhead:'<div class="#{headClass}" id="#{id}">#{headContent}</div>'});baidu.ui.Tooltip.register(function(a){a.addEventListener("onload",function(){var c=this,b;baidu.dom.insertHTML(c.getBody(),"afterBegin",baidu.format(c.tplhead,{headClass:c.getClass("head"),id:c.getId("head")}));b=new baidu.ui.Button({content:c.headContent,onclick:function(){c.close()}});b.render(c.getId("head"))})});baidu.ui.Tooltip.extend({enableFx:true,showFx:baidu.fx.fadeIn,showFxOptions:{duration:500},hideFx:baidu.fx.fadeOut,hideFxOptions:{duration:500}});baidu.ui.Tooltip.register(function(a){if(a.enableFx){var b=null;a.addEventListener("beforeopen",function(c){a.dispatchEvent("onopen");"function"==typeof a.showFx&&a.showFx(a.getMain(),a.showFxOptions);c.returnValue=false});a.addEventListener("beforeclose",function(c){a.dispatchEvent("onclose");b=a.hideFx(a.getMain(),a.hideFxOptions);b.addEventListener("onafterfinish",function(){a._close()});c.returnValue=false});a.addEventListener("ondispose",function(){b&&b.end()})}});baidu.ui.Tooltip.extend({hideDelay:500});baidu.ui.Tooltip.register(function(c){if(c.type!="hover"){return}var a=null,f=false;c.addEventListener("onload",function(){baidu.each(c.target,function(h){c.on(h,"mouseenter",b);c.on(h,"mouseleave",d)});c.on(c.getBody(),"mouseover",g);c.on(c.getBody(),"mouseout",g)});function g(h){f=(h.type.toLowerCase()=="mouseover");!f&&d(h)}function b(h){a&&clearTimeout(a);c.open(this)}function d(h){a=setTimeout(function(){!f&&c.close()},c.hideDelay)}});baidu.ui.Tree=baidu.ui.createUI(function(a){this._treeNodes={}});baidu.ui.Tree.TreeNode=function(a){var b=this;baidu.object.extend(b,a);b.id=b.id||baidu.lang.guid();b.childNodes=[];b._children=[];window["$BAIDU$"]._instances[b.id]=b;b._tree={};b._stringArray=[]};baidu.ui.Tree.TreeNode.prototype={uiType:"tree-node",text:"",type:"leaf",isToggle:true,_getId:function(a){return this.id+"-"+a},_getClass:function(a){var c=this,b="tangram-tree-node-"+a;if(c.skin){b+=" "+c.skin+"-"+a}return b},_getCallRef:function(){return"window['$BAIDU$']._instances['"+this.id+"']"},getString:function(){var c=this,a=c._stringArray,b="";a.push('<dl id="',c.id,'">');c._createBodyStringArray();b=c.isExpand?"display:''":"display:none";a.push('<dd  style="'+b+'" id="',c.id,'-subNodeId"></dd></dl>');return a.join("")},getParentNode:function(){return this.parentNode},setParentNode:function(a){var b=this;b.parentNode=a;b._level=a._level+1},getChildNodes:function(){return this.childNodes},setTree:function(a){var b=this;b._tree=a;b._tree._treeNodes[b.id]=b},getTree:function(){return this._tree},appendData:function(b){var a=this;baidu.dom.insertHTML(a._getSubNodesContainer(),"beforeEnd",a._getSubNodeString(b));a._isRenderChildren=true},_getSubNodeString:function(h){var f=this,g,a,b=[],c=0,d,a=h.length;for(;c<a;c++){d=h[c];g=new baidu.ui.Tree.TreeNode(d);if(c==(a-1)){g._isLast=true}f._appendChildData(g,a-1);b.push(g.getString())}return b.join("")},isParent:function(c){var b=this,a=c;while(!a.isRoot&&(a=a.getParentNode())){if(a==b){return true}}return false},appendTo:function(a){var b=this;b.getParentNode()._removeChildData(b);a.appendChild(b);b.dispatchEvent("appendto")},moveTo:function(f){var d=this,b=d.getParentNode(),c,a;if(b==null){return false}if(f.isExpand&&f.getChildNodes().length>0){c=f}else{c=f.getParentNode()}b._removeChildData(d);a=(c==f)?-1:f.getIndex();c.appendChild(d,a);d.dispatchEvent("moveto")},_appendChildData:function(f,c,a){var d=this,b=d.getChildNodes();f.parentNode=d;f.setTree(d.getTree());if(a){b.splice(c+1,0,f);d._children.splice(c+1,0,f.json)}else{b.push(f);d._children.push(f.json)}},appendChild:function(h,d){var g=this,f,c,i,a=h._getContainer(),b=g._getSubNodesContainer();if(d==null){d=g.getChildNodes().length-1}g._appendChildData(h,d,true);i=g.getChildNodes();f=h.getParentNode();c=h.getString();if(a){if(d==-1){if(i.length==1){b.appendChild(a)}else{baidu.dom.insertBefore(a,i[1]._getContainer())}}else{baidu.dom.insertAfter(a,i[d]._getContainer())}}else{if(d==-1){if(i.length==1){baidu.dom.insertHTML(b,"beforeEnd",c)}else{baidu.dom.insertHTML(i[1]._getContainer(),"beforeBegin",c)}}else{baidu.dom.insertHTML(i[d]._getContainer(),"afterEnd",c)}}h._updateAll();h._updateOldParent(f);if(g.type=="leaf"){g.type="trunk";g._getIconElement().className=g._getClass("trunk")}g._getSpanElement().innerHTML=g._getImagesString();return h},_updateOldParent:function(a){var b=this;if(!a){return false}if(a.getLastChild()){a.getLastChild()._update()}else{if(b.getTree().expandable){a._getIconElement().className=b._getClass("leaf");a.type="leaf"}a._update()}},_removeChildData:function(c,a){var b=this;baidu.array.remove(b._children,c.json);baidu.array.remove(b.childNodes,c);delete b.getTree().getTreeNodes()[c.id];if(a){while(c.childNodes[0]){c._removeChildData(c.childNodes[0])}}},removeAllChildren:function(){var a=this,b=a.getChildNodes();while(b[0]){a.removeChild(b[0],true)}},removeChild:function(c){if(c.getParentNode()==null){return false}var b=this,a=b.getChildNodes();b._removeChildData(c,true);delete b.getTree().getTreeNodes()[c.id];baidu.dom.remove(c._getContainer());b.getTree().setCurrentNode(null);if(a.length<=0&&!b.isRoot){b._getSubNodesContainer().style.display="none";if(b.getTree().expandable){b._getIconElement().className=b._getClass("leaf");b.type="leaf"}}b._updateAll()},_updateAll:function(){var b=this,a=b.getPrevious();a&&a._update();b._update()},_update:function(){var a=this;a._getSpanElement().innerHTML=a._getImagesString();baidu.array.each(a.childNodes,function(b){b._update()})},update:function(c){var d=this,b=d._getHrefElement(),a=d._getTextElement();baidu.extend(d,c);(b?b:a).innerHTML=d.text},_switchToggleState:function(g,c,d,a){var f=this,b=f._getToggleElement();if(f.type=="leaf"){return false}f.isExpand=a;if(b){b.className=f._getClass(f.isLastNode()?c:d)}if(f.getChildNodes()&&f.getChildNodes().length>0){f._getSubNodesContainer().style.display=g}},expand:function(){var a=this;if(!a._isRenderChildren){a.appendData(a.children)}a._switchToggleState("block","Lminus","Tminus",true)},collapse:function(){this._switchToggleState("none","Lplus","Tplus",false)},toggle:function(){var a=this;if(a.type=="leaf"){return false}a.isExpand?a.collapse():a.expand()},_switchFocusState:function(c,a,b){var d=this;baidu.dom[b](d._getNodeElement(),d._getClass("current"));if(d.type!="leaf"){d._getIconElement().className=d._getClass(c);d.isOpen=a}},blur:function(){var a=this;a._switchFocusState("trunk",false,"removeClass");a.getTree().setCurrentNode(null)},focus:function(){var a=this,b=a.getTree().getCurrentNode();if(b!=null){b.blur()}a._switchFocusState("open-trunk",true,"addClass");a.getTree().setCurrentNode(a);baidu.dom.removeClass(a._getNodeElement(),a._getClass("over"))},_onMouseOver:function(b){var a=this;if(a!=a.getTree().getCurrentNode()){baidu.dom.addClass(a._getNodeElement(),a._getClass("over"))}a.dispatchEvent("draghover",{event:b});a.dispatchEvent("sorthover",{event:b})},_onMouseOut:function(){var a=this;baidu.dom.removeClass(a._getNodeElement(),a._getClass("over"));a.getTree().dispatchEvent("mouseout",{treeNode:a})},_onClick:function(a){var b=this;b.focus();b.getTree().dispatchEvent("click",{treeNode:b})},_onMouseDown:function(b){var a=this;a.dispatchEvent("dragdown",{event:b})},_onDblClick:function(b){var a=this;a.focus();a.isToggle&&a.toggle();a.getTree().dispatchEvent("dblclick",{treeNode:a,event:b})},_onContextmenu:function(b){var a=this;return a.getTree().dispatchEvent("contextmenu",{treeNode:a,event:b})},_onToggleClick:function(b){var a=this;a.isToggle&&a.toggle();a.getTree().dispatchEvent("toggle",{treeNode:a});baidu.event.stopPropagation(b)},_createBodyStringArray:function(){var b=this,a=b._stringArray;a.push('<dt id="',b.id,'-node" class="tangram-tree-node-node"');if(b.skin){a.push(" ",b.skin,"-node")}a.push(' onclick="',b._getCallRef()+("._onClick(event)"),'"> <span id="',b.id,'-span">',b._getImagesString(true),"</span>");b._createIconStringArray();b._createTextStringArray();a.push("</dt>")},_getImagesString:function(c){var b=this,a="";a+=b._getIdentString(c);if(b.type=="leaf"){a+=b._getTLString(c)}else{if(b.type=="trunk"){if(b.children&&b.children.length>0){a+=b._getToggleString(c)}else{a+=b._getTLString(c)}}}return a},_getIdentString:function(f){var d=this,a="",c,b;while(d.getParentNode()&&d.getParentNode().type!="root"){d=d.getParentNode();c=(d.isLastNode(f)?"blank":"I");b="tangram-tree-node-"+c;if(d.skin){b+=" "+d.skin+"-"+c}a='<span   class="'+b+'"></span>'+a}return a},_getTLString:function(c){var b=this,a=(b.isLastNode(c)?"L":"T");className="tangram-tree-node-"+a;if(b.skin){className+=" "+b.skin+"-"+a}return'<span   class="'+className+'" ></span>'},_getToggleString:function(f){var d=this,b=d.isExpand?"minus":"plus",c=(d.isLastNode(f)?"L":"T")+b,a="tangram-tree-node-"+c;if(d.skin){a+=" "+d.skin+"-"+c}return['<span onclick="',d._getCallRef(),'._onToggleClick(event)" class="',a,'" id="',d.id,'-toggle"></span>'].join("")},_createIconStringArray:function(){var c=this,b=(c.type=="leaf"?"leaf":"trunk"),a=c._stringArray;if(c.isOpen){b="open-trunk"}a.push('<span  class="tangram-tree-node-',b);if(c.skin){a.push(" ",c.skin,"-",b)}a.push('" style="',c.icon?"background-image:url("+c.icon+")":"",'" id="',c.id,'-icon"></span>')},_createTextStringArray:function(){var b=this,c=(b.href?b._createHrefStringArray():b.text),a=b._stringArray;a.push('<span title="',b.title||b.text,'" id="',b.id,'-text" >',c,"</span></span>")},_createHrefStringArray:function(){var b=this,a=b._stringArray;a.push('<a id="',b.id,"-link",(b.target?"target='"+b.target+"'":""),' hidefocus="on" " href="',b.href,'" >',b.text,"</a>")},_getSpanElement:function(){return baidu.g(this._getId("span"))},_getIconElement:function(){return baidu.g(this._getId("icon"))},_getTextContainer:function(){return baidu.g(this._getId("textContainer"))},_getTextElement:function(){return baidu.g(this._getId("text"))},_getToggleElement:function(){return baidu.g(this._getId("toggle"))},_getSubNodesContainer:function(){return baidu.g(this._getId("subNodeId"))},_getHrefElement:function(){return baidu.g(this._getId("link"))},_getNodeElement:function(){return baidu.g(this._getId("node"))},_getContainer:function(){return baidu.g(this.id)},hide:function(){baidu.dom.hide(this._getNodeElement())},show:function(){baidu.dom.show(this._getNodeElement())},expandAll:function(){var a=this;if(a.children){a.expand()}baidu.array.each(a.getChildNodes(),function(b){b.expandAll()})},collapseAll:function(){var a=this;if(a.getChildNodes().length>0){a.collapse()}baidu.array.each(a.getChildNodes(),function(b){b.collapseAll()})},getIndex:function(){var f=this,b=f.isRoot?[]:f.getParentNode().getChildNodes(),c=-1;for(var d=0,a=b.length;d<a;d++){if(b[d]==f){return d}}return c},getNext:function(){var c=this,b=c.getIndex(),a;if(c.isRoot){return c}a=c.getParentNode().getChildNodes();return(b+1>=a.length)?c:a[b+1]},getPrevious:function(){var c=this,b=c.getIndex(),a;if(c.isRoot){return c}a=c.getParentNode().getChildNodes();return(b-1<0)?c:a[b-1]},getFirstChild:function(){var b=this,a=b.getChildNodes();return(a.length<=0)?null:a[0]},getLastChild:function(){var b=this,a=b.getChildNodes();return a.length<=0?null:a[a.length-1]},isLastNode:function(b){var a=this;if(b){return a._isLast}if(a.isRoot){return true}return a.getIndex()==(a.parentNode.childNodes.length-1)}};baidu.object.extend(baidu.ui.Tree.TreeNode.prototype,baidu.lang.Class.prototype);baidu.ui.Tree.extend({uiType:"tree",tplDOM:"<div class='#{class}'>#{body}</div>",getString:function(){var a=this;return baidu.format(a.tplDOM,{"class":a.getClass(),body:a._getBodyString()})},render:function(a){var b=this;b.renderMain(a).innerHTML=b.getString();b.dispatchEvent("onload")},_getBodyString:function(){var a="",b=this;if(b.data){b._rootNode=new baidu.ui.Tree.TreeNode(b.data);b._rootNode.isRoot=true;b._rootNode.type="root";b._rootNode._level=0;b._rootNode.setTree(b);a=b._rootNode.getString()}return a},getTreeNodes:function(){return this._treeNodes},getRootNode:function(){return this._rootNode},getTreeNodeById:function(a){return this.getTreeNodes()[a]},getCurrentNode:function(){return this._currentNode},setCurrentNode:function(a){this._currentNode=a},dispose:function(){var a=this;a.dispatchEvent("dispose");baidu.dom.remove(a.getMain());baidu.lang.Class.prototype.dispose.call(a)}});baidu.widget=baidu.widget||{_pathInfo:{},_basePath:"",_widgetAll:{},_widgetLoading:{},_defaultContext:{}};baidu.widget.get=function(a){return baidu.widget._widgetAll[a]||null};baidu.widget._isWidget=function(a){if(!a||!baidu.lang.isString(a.id)||!baidu.lang.isObject(a.exports)||!baidu.lang.isFunction(a.main)){return false}return true};baidu.widget.getPath=function(a){return baidu.widget._basePath+(baidu.widget._pathInfo[a]||(a.replace(/\./g,"/")+".js"))};baidu.widget.load=function(c,a){var d=[],a=a||baidu.fn.blank,b=function(h){var g=function(j){var i=g.context[j];if(!baidu.widget._isWidget(i)){throw"NO DEPENDS declare for: "+j}return i.exports};g.context=h;return g},f=function(){var h=0,l=c.length,g=baidu.object.extend({},baidu.widget._defaultContext),k,m,j;for(;h<l;++h){k=c[h],m=baidu.widget.get(k),j=baidu.widget._widgetLoading[k];if(j&&j.depends.length){window.setTimeout(function(){baidu.widget.load(j.depends,f)},20);return}m.load();baidu.extend(g,m.context);g[k]=m}a(b(g))};if(!c){a(b(baidu.widget._defaultContext))}if(baidu.lang.isString(c)){c=c.split(",")}baidu.each(c,function(g){if(baidu.widget._isWidget(baidu.widget.get(g))){return}d.push({url:baidu.widget.getPath(g)})});d.length?baidu.page.load(d,{onload:f}):f()};baidu.widget.create=function(d,a,b){b=b||{};var c={id:d,main:a,depends:b.depends||[],exports:{},dispose:b.dispose};baidu.widget._widgetLoading[d]=c;baidu.widget._widgetAll[d]=c;c.load=function(){var f=this;if(f._loaded){return}f._loaded=true;baidu.widget.load(f.depends,function(g){baidu.widget._widgetLoading[f.id]=undefined;f.context=g.context||baidu.widget._defaultContext;f.main.call(f,g,f.exports)})};if(!b.lazyLoad){c.load()}return c};baidu.widget.dispose=function(a){var b=baidu.widget.get(a);if(!baidu.widget._isWidget(b)){return}if(baidu.lang.isFunction(b.dispose)){b.dispose()}delete baidu.widget._widgetAll[a]};